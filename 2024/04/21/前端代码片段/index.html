<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>前端代码片段 | 向阳榆木</title><meta name="description" content="前端代码片段"><meta name="keywords" content="笔记整理,代码片段,前端技术"><meta name="author" content="PanXiaoKang"><meta name="copyright" content="PanXiaoKang"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/Lotus.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="wyZknSW2XMDLHhrSvtifCN1aQwr2nn53ydI_lDzVJmI"/><meta name="baidu-site-verification" content="p1OeTLcEA8"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="前端代码片段"><meta name="twitter:description" content="前端代码片段"><meta name="twitter:image" content="http://example.com/img/butterfly.jpg"><meta property="og:type" content="article"><meta property="og:title" content="前端代码片段"><meta property="og:url" content="http://example.com/2024/04/21/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"><meta property="og:site_name" content="向阳榆木"><meta property="og:description" content="前端代码片段"><meta property="og:image" content="http://example.com/img/butterfly.jpg"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://example.com/2024/04/21/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/"><link rel="prev" title="CSS学习笔记" href="http://example.com/2024/04/27/CSS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><link rel="next" title="TypeScript入门整理" href="http://example.com/2024/04/20/TypeScript%E5%85%A5%E9%97%A8%E6%95%B4%E7%90%86/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: {"text":"最近有点失眠了,每天被自己帅醒,帅早已成为负担,除了帅一无所有,富强,民主,文明,和谐,自由,平等,公正,法治,爱国,敬业,诚信,友善","fontSize":"20px"},
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'true',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://s1.ax1x.com/2020/06/09/t40ARx.th.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">94</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">193</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">25</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw fa fa-random"></i><span> 随机文章</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-th-large" aria-hidden="true"></i><span> 归档</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/tagsnet/"><i class="fa-fw fa fa-connectdevelop"></i><span> 关系网</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-send-o" aria-hidden="true"></i><span> 导航栏</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="https://xyyum.icu/mypages/OnlyI.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-send"></i><span> 主页导航</span></a></li><li><a class="site-page" href="https://xyyum.icu/mypages/xkzhdh/Integrated.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-paper-plane-o"></i><span> 综合导航</span></a></li><li><a class="site-page" href="https://xyyum.icu/mypages/software/index.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-send"></i><span> 软件分享</span></a></li><li><a class="site-page" href="/sunshineBookshelf/"><i class="fa-fw fa fa-university"></i><span> 向阳书架</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/books/"><i class="fa-fw fa fa-book"></i><span> 书籍</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/games/"><i class="fa-fw fa fa-gamepad"></i><span> 游戏</span></a></li><li><a class="site-page" href="/bilibili/"><i class="fa-fw fa fa-play-circle"></i><span> 番剧</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movie/"><i class="fa-fw fa fa-play-circle-o"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-link" aria-hidden="true"></i><span> 友情链接</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page" href="https://yumuxy.gitee.io/" target="_blank" rel="noopener"><i class="fa-fw fa fa-link"></i><span> 桑榆未晚</span></a></li><li><a class="site-page" href="https://lllzxqq.gitee.io/" target="_blank" rel="noopener"><i class="fa-fw fa fa-link"></i><span> 偏偏💖雨季</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-user-circle-o" aria-hidden="true"></i><span> 关于我</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="http://www.xbmu.edu.cn/" target="_blank" rel="noopener"><i class="fa-fw fa fa-graduation-cap"></i><span> 母校</span></a></li><li><a class="site-page" href="/workshop/"><i class="fa-fw fa fa-heartbeat"></i><span> 作品</span></a></li><li><a class="site-page" href="/mybook/"><i class="fa-fw fa fa-book"></i><span> 自传</span></a></li><li><a class="site-page" href="/anires/"><i class="fa-fw fa fa-list-alt"></i><span> 简历</span></a></li><li><a class="site-page" href="/vcard/"><i class="fa-fw fa fa-vcard-o"></i><span> 名片</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-gamepad" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="https://liuxiangyang.space/game2/" target="_blank" rel="noopener"><i class="fa-fw fa fa-gamepad"></i><span> 打字游戏</span></a></li><li><a class="site-page" href="https://xyyum.icu/mypages/GreedySnake/GreedySnake.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-lastfm"></i><span> 贪吃蛇</span></a></li><li><a class="site-page" href="/petalage/"><i class="fa-fw fa fa-gamepad"></i><span> 表白时刻</span></a></li><li><a class="site-page" href="/yszq/"><i class="fa-fw fa fa-gamepad"></i><span> 3D元素</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-gear (alias)" aria-hidden="true"></i><span> 工具平台</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/xkdm/"><i class="fa-fw fa fa-star"></i><span> 星空弹幕</span></a></li><li><a class="site-page" href="https://xyym.avosapps.us/" target="_blank" rel="noopener"><i class="fa-fw fa fa-commenting-o"></i><span> 评论管理</span></a></li><li><a class="site-page" href="https://myhkw.cn/admin/user/login/" target="_blank" rel="noopener"><i class="fa-fw fa fa-music"></i><span> 音乐后台</span></a></li><li><a class="site-page" href="https://www.superbed.cn/" target="_blank" rel="noopener"><i class="fa-fw fa fa-area-chart"></i><span> 聚合图床</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 相册集</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/3d-gallery/"><i class="fa-fw fa fa-university"></i><span> 3D照片屋</span></a></li><li><a class="site-page" href="/live-photo/"><i class="fa-fw fa fa-photo"></i><span> 生活相册</span></a></li><li><a class="site-page" href="/mtxx/"><i class="fa-fw fa fa-file-photo-o"></i><span> 美图秀秀</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#数据分组"><span class="toc-number">1.</span> <span class="toc-text">数据分组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#在原型上添加下拉选项选择弹窗"><span class="toc-number">2.</span> <span class="toc-text">在原型上添加下拉选项选择弹窗</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#在原型上添加全局方法控制域后事件"><span class="toc-number">3.</span> <span class="toc-text">在原型上添加全局方法控制域后事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#合并表格列"><span class="toc-number">4.</span> <span class="toc-text">合并表格列</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数组排序"><span class="toc-number">5.</span> <span class="toc-text">数组排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#写入JsonArray对象字符串"><span class="toc-number">6.</span> <span class="toc-text">写入JsonArray对象字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSON字符串的处理和排序"><span class="toc-number">7.</span> <span class="toc-text">JSON字符串的处理和排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#循环的使用"><span class="toc-number">8.</span> <span class="toc-text">循环的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#根据条件筛选获取到的信息，然后再进行模糊查询"><span class="toc-number">9.</span> <span class="toc-text">根据条件筛选获取到的信息，然后再进行模糊查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#去重处理"><span class="toc-number">10.</span> <span class="toc-text">去重处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#转码处理"><span class="toc-number">11.</span> <span class="toc-text">转码处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关于正则表达式"><span class="toc-number">12.</span> <span class="toc-text">关于正则表达式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#初始化加载表格详情画面"><span class="toc-number">13.</span> <span class="toc-text">初始化加载表格详情画面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#实现自由拖拽效果"><span class="toc-number">14.</span> <span class="toc-text">实现自由拖拽效果</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#调用后端服务简单例子"><span class="toc-number">15.</span> <span class="toc-text">调用后端服务简单例子</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(/img/butterfly.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">向阳榆木</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw fa fa-random"></i><span> 随机文章</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-th-large" aria-hidden="true"></i><span> 归档</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/tagsnet/"><i class="fa-fw fa fa-connectdevelop"></i><span> 关系网</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-send-o" aria-hidden="true"></i><span> 导航栏</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="https://xyyum.icu/mypages/OnlyI.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-send"></i><span> 主页导航</span></a></li><li><a class="site-page" href="https://xyyum.icu/mypages/xkzhdh/Integrated.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-paper-plane-o"></i><span> 综合导航</span></a></li><li><a class="site-page" href="https://xyyum.icu/mypages/software/index.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-send"></i><span> 软件分享</span></a></li><li><a class="site-page" href="/sunshineBookshelf/"><i class="fa-fw fa fa-university"></i><span> 向阳书架</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/books/"><i class="fa-fw fa fa-book"></i><span> 书籍</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/games/"><i class="fa-fw fa fa-gamepad"></i><span> 游戏</span></a></li><li><a class="site-page" href="/bilibili/"><i class="fa-fw fa fa-play-circle"></i><span> 番剧</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movie/"><i class="fa-fw fa fa-play-circle-o"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-link" aria-hidden="true"></i><span> 友情链接</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page" href="https://yumuxy.gitee.io/" target="_blank" rel="noopener"><i class="fa-fw fa fa-link"></i><span> 桑榆未晚</span></a></li><li><a class="site-page" href="https://lllzxqq.gitee.io/" target="_blank" rel="noopener"><i class="fa-fw fa fa-link"></i><span> 偏偏💖雨季</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-user-circle-o" aria-hidden="true"></i><span> 关于我</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="http://www.xbmu.edu.cn/" target="_blank" rel="noopener"><i class="fa-fw fa fa-graduation-cap"></i><span> 母校</span></a></li><li><a class="site-page" href="/workshop/"><i class="fa-fw fa fa-heartbeat"></i><span> 作品</span></a></li><li><a class="site-page" href="/mybook/"><i class="fa-fw fa fa-book"></i><span> 自传</span></a></li><li><a class="site-page" href="/anires/"><i class="fa-fw fa fa-list-alt"></i><span> 简历</span></a></li><li><a class="site-page" href="/vcard/"><i class="fa-fw fa fa-vcard-o"></i><span> 名片</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-gamepad" aria-hidden="true"></i><span> 娱乐</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="https://liuxiangyang.space/game2/" target="_blank" rel="noopener"><i class="fa-fw fa fa-gamepad"></i><span> 打字游戏</span></a></li><li><a class="site-page" href="https://xyyum.icu/mypages/GreedySnake/GreedySnake.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-lastfm"></i><span> 贪吃蛇</span></a></li><li><a class="site-page" href="/petalage/"><i class="fa-fw fa fa-gamepad"></i><span> 表白时刻</span></a></li><li><a class="site-page" href="/yszq/"><i class="fa-fw fa fa-gamepad"></i><span> 3D元素</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-gear (alias)" aria-hidden="true"></i><span> 工具平台</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/xkdm/"><i class="fa-fw fa fa-star"></i><span> 星空弹幕</span></a></li><li><a class="site-page" href="https://xyym.avosapps.us/" target="_blank" rel="noopener"><i class="fa-fw fa fa-commenting-o"></i><span> 评论管理</span></a></li><li><a class="site-page" href="https://myhkw.cn/admin/user/login/" target="_blank" rel="noopener"><i class="fa-fw fa fa-music"></i><span> 音乐后台</span></a></li><li><a class="site-page" href="https://www.superbed.cn/" target="_blank" rel="noopener"><i class="fa-fw fa fa-area-chart"></i><span> 聚合图床</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 相册集</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/3d-gallery/"><i class="fa-fw fa fa-university"></i><span> 3D照片屋</span></a></li><li><a class="site-page" href="/live-photo/"><i class="fa-fw fa fa-photo"></i><span> 生活相册</span></a></li><li><a class="site-page" href="/mtxx/"><i class="fa-fw fa fa-file-photo-o"></i><span> 美图秀秀</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">前端代码片段</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2024-04-21 16:21:22"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2024-04-21</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2024-12-21 18:14:13"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2024-12-21</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/">前端技术</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-comment-o" aria-hidden="true"></i><span>评论数:</span><a href="/2024/04/21/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2024/04/21/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/" itemprop="commentCount"></span></a></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><p>只记录一些常用的前端代码片段以及本人平时工作实践的整理记录，方便提供思路和快速预览，分享给对知识充满渴望的有缘人！</p>
<hr>
<h2 id="数据分组"><a href="#数据分组" class="headerlink" title="数据分组"></a>数据分组</h2><p>学习封装一个通用分组函数，对公共功能的提取有更多的理解与思考。</p>
<p>代码示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> people = [</span><br><span class="line">	&#123;<span class="attr">name</span>: <span class="string">'小莉'</span>, <span class="attr">age</span>: <span class="number">30</span>, <span class="attr">sex</span>: <span class="string">'女'</span>&#125;,</span><br><span class="line">	&#123;<span class="attr">name</span>: <span class="string">'小马'</span>, <span class="attr">age</span>: <span class="number">25</span>, <span class="attr">sex</span>: <span class="string">'男'</span>&#125;,</span><br><span class="line">	&#123;<span class="attr">name</span>: <span class="string">'小吴'</span>, <span class="attr">age</span>: <span class="number">30</span>, <span class="attr">sex</span>: <span class="string">'男'</span>&#125;,</span><br><span class="line">	&#123;<span class="attr">name</span>: <span class="string">'小刘'</span>, <span class="attr">age</span>: <span class="number">25</span>, <span class="attr">sex</span>: <span class="string">'女'</span>&#125;,</span><br><span class="line">	&#123;<span class="attr">name</span>: <span class="string">'小芯'</span>, <span class="attr">age</span>: <span class="number">25</span>, <span class="attr">sex</span>: <span class="string">'女'</span>&#125;,</span><br><span class="line">	&#123;<span class="attr">name</span>: <span class="string">'小王'</span>, <span class="attr">age</span>: <span class="number">25</span>, <span class="attr">sex</span>: <span class="string">'男'</span>&#125;,</span><br><span class="line">	&#123;<span class="attr">name</span>: <span class="string">'小白'</span>, <span class="attr">age</span>: <span class="number">20</span>, <span class="attr">sex</span>: <span class="string">'女'</span>&#125;,</span><br><span class="line">]</span><br><span class="line"><span class="comment">// 按年龄分组</span></span><br><span class="line"><span class="keyword">const</span> result = &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> people)&#123;</span><br><span class="line">	<span class="keyword">const</span> key = item.age;</span><br><span class="line">	<span class="keyword">if</span>(!result[key])&#123;</span><br><span class="line">		result[key]=[];</span><br><span class="line">	&#125;</span><br><span class="line">	result[key].push(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 按性别分组</span></span><br><span class="line"><span class="keyword">const</span> result = &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> people)&#123;</span><br><span class="line">	<span class="keyword">const</span> key = item.sex;</span><br><span class="line">	<span class="keyword">if</span>(!result[key])&#123;</span><br><span class="line">		result[key]=[];</span><br><span class="line">	&#125;</span><br><span class="line">	result[key].push(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"></span><br><span class="line"><span class="comment">// (1)传入属性名，封装成分组函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">groupBy</span>(<span class="params">arr,propName</span>)</span>&#123;</span><br><span class="line"><span class="keyword">const</span> result = &#123;&#125;;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> arr)&#123;</span><br><span class="line">	<span class="keyword">const</span> key = item[propName];</span><br><span class="line">	<span class="keyword">if</span>(!result[key])&#123;</span><br><span class="line">		result[key]=[];</span><br><span class="line">	&#125;</span><br><span class="line">	result[key].push(item);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(groupBy(people,<span class="string">'age'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(groupBy(people,<span class="string">'sex'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// (2)传入函数（得到key的过程），封装公共函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">groupBy</span>(<span class="params">arr,generateKey</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">const</span> result = &#123;&#125;;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> arr)&#123;</span><br><span class="line">	<span class="keyword">const</span> key = generateKey(item);</span><br><span class="line">	<span class="keyword">if</span>(!result[key])&#123;</span><br><span class="line">		result[key]=[];</span><br><span class="line">	&#125;</span><br><span class="line">	result[key].push(item);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 按年龄分组</span></span><br><span class="line"><span class="built_in">console</span>.log(groupBy(people,(item)=&gt;item.age))</span><br><span class="line"><span class="comment">// 按性别分组</span></span><br><span class="line"><span class="built_in">console</span>.log(groupBy(people,(item)=&gt;item.sex))</span><br><span class="line"><span class="comment">// 按年龄-性别分组</span></span><br><span class="line"><span class="built_in">console</span>.log(groupBy(people,(item)=&gt;<span class="string">`<span class="subst">$&#123;item.age&#125;</span>-<span class="subst">$&#123;item.sex&#125;</span>`</span>))</span><br><span class="line"><span class="comment">// 按奇偶数进行分组</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">34</span>,<span class="number">6</span>,<span class="number">323</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">0</span>]</span><br><span class="line"><span class="built_in">console</span>.log(groupBy(arr,(item)=&gt;(item % <span class="number">2</span> ===<span class="number">0</span>?<span class="string">'偶'</span>:<span class="string">'奇'</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment">// (3)参数归一化：既能通过属性，也能通过函数传参调用</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">groupBy</span>(<span class="params">arr,generateKey</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(<span class="keyword">typeof</span> generateKey === <span class="string">'string'</span>)&#123;</span><br><span class="line">		<span class="keyword">const</span> propName = generateKey;</span><br><span class="line">		generateKey = <span class="function">(<span class="params">item</span>) =&gt;</span> item[propName];<span class="comment">// 统一将属性处理成函数进行执行</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">const</span> result = &#123;&#125;;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">const</span> item <span class="keyword">of</span> arr)&#123;</span><br><span class="line">	<span class="keyword">const</span> key = generateKey(item);</span><br><span class="line">	<span class="keyword">if</span>(!result[key])&#123;</span><br><span class="line">		result[key]=[];</span><br><span class="line">	&#125;</span><br><span class="line">	result[key].push(item);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 通过属性调用</span></span><br><span class="line"><span class="built_in">console</span>.log(groupBy(people,<span class="string">'age'</span>))</span><br><span class="line"><span class="built_in">console</span>.log(groupBy(people,<span class="string">'sex'</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过函数调用</span></span><br><span class="line"><span class="comment">// 按年龄分组</span></span><br><span class="line"><span class="built_in">console</span>.log(groupBy(people,(item)=&gt;item.age))</span><br><span class="line"><span class="comment">// 按性别分组</span></span><br><span class="line"><span class="built_in">console</span>.log(groupBy(people,(item)=&gt;item.sex))</span><br><span class="line"><span class="comment">// 按年龄-性别分组</span></span><br><span class="line"><span class="built_in">console</span>.log(groupBy(people,(item)=&gt;<span class="string">`<span class="subst">$&#123;item.age&#125;</span>-<span class="subst">$&#123;item.sex&#125;</span>`</span>))</span><br><span class="line"><span class="comment">// 按奇偶数进行分组</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">34</span>,<span class="number">6</span>,<span class="number">323</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">0</span>]</span><br><span class="line"><span class="built_in">console</span>.log(groupBy(arr,(item)=&gt;(item % <span class="number">2</span> ===<span class="number">0</span>?<span class="string">'偶'</span>:<span class="string">'奇'</span>)))</span><br></pre></td></tr></table></figure>

<h2 id="在原型上添加下拉选项选择弹窗"><a href="#在原型上添加下拉选项选择弹窗" class="headerlink" title="在原型上添加下拉选项选择弹窗"></a>在原型上添加下拉选项选择弹窗</h2><p>通过在原型上定义一个全局方法使其在每个 Vue 的实例中可用，代码示例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@desoription </span>下拉选项选择弹窗</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>comboName 选项项目标题</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>comboHint 提示语placeholder</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>comboOptions 选项</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>comboValue 初始值initialKey</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>retType 返回类型</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="variable">string</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Vue.prototype.pushcomboInputDialog = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params">comboName, comboHint, combo0ptions, comboValue, retType</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(retType === <span class="string">'RETURN_SUFFIX_OTHER'</span>) &#123;</span><br><span class="line">   <span class="keyword">const</span> &#123;outstr&#125; = (<span class="keyword">await</span> <span class="keyword">this</span>.$syncOpenTrade (</span><br><span class="line">	<span class="string">'@FM/components/ComboInput/ComboInput.vue'</span>,</span><br><span class="line">	comboName,</span><br><span class="line">	<span class="string">'window",</span></span><br><span class="line"><span class="string">	&#123; comboName, comboHint, combo0ptions,comboValue, retType &#125;,</span></span><br><span class="line"><span class="string">	&#123;</span></span><br><span class="line"><span class="string">	 customstyle:&#123; width:'</span><span class="number">500</span>px<span class="string">',height:'</span><span class="number">265</span>px<span class="string">',top:'</span><span class="number">15</span>%<span class="string">'&#125;,</span></span><br><span class="line"><span class="string">	 bodyStyle:&#123; padding:'</span><span class="number">18</span>px <span class="number">24</span>px<span class="string">'&#125;,</span></span><br><span class="line"><span class="string">	 customclass:'</span>local-auth<span class="string">',</span></span><br><span class="line"><span class="string">	 isModal: false,</span></span><br><span class="line"><span class="string">	 isFocus: true,</span></span><br><span class="line"><span class="string">	 showClose: false,</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">	)) || &#123; outstr: '</span><span class="string">' &#125;</span></span><br><span class="line"><span class="string">	return outstr</span></span><br><span class="line"><span class="string">&#125; else &#123;</span></span><br><span class="line"><span class="string">   const &#123;outstr&#125; = (await this.$openPanel (</span></span><br><span class="line"><span class="string">	'</span>@FM/components/ComboInput/ComboInput.vue<span class="string">',</span></span><br><span class="line"><span class="string">	comboName,</span></span><br><span class="line"><span class="string">	'</span><span class="built_in">window</span><span class="string">",</span></span><br><span class="line"><span class="string">	&#123; comboName, comboHint, combo0ptions,comboValue, retType &#125;,</span></span><br><span class="line"><span class="string">	&#123;</span></span><br><span class="line"><span class="string">	 customstyle:&#123; width:'450px',height:'225px',top:'15%'&#125;,</span></span><br><span class="line"><span class="string">	 bodyStyle:&#123; padding:'10px 24px'&#125;,</span></span><br><span class="line"><span class="string">	 customclass:'local-auth',</span></span><br><span class="line"><span class="string">	 isModal: false,</span></span><br><span class="line"><span class="string">	 isFocus: true,</span></span><br><span class="line"><span class="string">	 showClose: false,</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">	)) || &#123; outstr: '' &#125;</span></span><br><span class="line"><span class="string">	return outstr</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="在原型上添加全局方法控制域后事件"><a href="#在原型上添加全局方法控制域后事件" class="headerlink" title="在原型上添加全局方法控制域后事件"></a>在原型上添加全局方法控制域后事件</h2><p>在平台工程Plugins.js文件中新增一个定制化的全局方法，方便对Vue组件栏位进行控制。代码示例如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@desoription </span>设置组件控件栏位是否向上触发blur域后事件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> Vue.prototype.setBackTrigger = <span class="function"><span class="keyword">function</span> (<span class="params">refs, vals, allTypeFlag</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		<span class="comment">// 判断refs类型</span></span><br><span class="line">		<span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(refs) &amp;&amp; <span class="keyword">typeof</span> refs !== <span class="string">'string'</span> &amp;&amp; <span class="keyword">typeof</span> refs !== <span class="string">'object'</span>) &#123;</span><br><span class="line">			logger.error(<span class="string">'[setBackTrigger]入参refs应为string类型、vue示例或者他们组成的数组'</span>)</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 判断vals类型</span></span><br><span class="line">		<span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray(vals) &amp;&amp; <span class="keyword">typeof</span> refs !== <span class="string">'boolean'</span> ) &#123;</span><br><span class="line">			logger.error(<span class="string">'[setBackTrigger]入参vals应为boolean类型或者boolean类型数组'</span>)</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 判断refs和vals都为数组时，二者长度需要一致</span></span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(refs) &amp;&amp; <span class="built_in">Array</span>.isArray(vals)&amp;&amp; refs.length !==vals.length ) &#123;</span><br><span class="line">			logger.error(<span class="string">'[setBackTrigger]入参refs和vals为数组类型时，二者长度需要一致'</span>)</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(refs)) &#123;</span><br><span class="line">			<span class="comment">// 如果是数组，则递归调用</span></span><br><span class="line">			<span class="keyword">for</span> ( <span class="keyword">const</span> i <span class="keyword">in</span> refs) &#123;</span><br><span class="line">				<span class="keyword">this</span>.setBackTrigger(refs[i], <span class="keyword">typeof</span> vals === <span class="string">'boolean'</span> ? vals : vals[i], allTypeFlag)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="comment">// 如果不是数组，则执行refs为单个参数时的逻辑</span></span><br><span class="line">			<span class="keyword">if</span> (<span class="keyword">typeof</span> refs === <span class="string">'string'</span> ) refs = <span class="keyword">this</span>.$refs[refs]</span><br><span class="line">			<span class="keyword">if</span> (refs &amp;&amp; <span class="keyword">typeof</span> refs.backTrigger === <span class="string">'boolean'</span> &amp;&amp; <span class="built_in">Object</span>.prototype.hasOwnProperty.call(refs,<span class="string">'getRequisite'</span>)) &#123;</span><br><span class="line">				<span class="comment">// 如果是单个控件 且必填</span></span><br><span class="line">				<span class="keyword">if</span> (refs.getRequisite() || allTypeFlag) refs.backTrigger = vals</span><br><span class="line">			&#125; <span class="keyword">else</span> <span class="keyword">if</span> (refs &amp;&amp; refs.$children &amp;&amp; refs.$children.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			 	<span class="comment">// 如果是group或组件等，则递归调用（ len 左置，防止数组长度变化出现的异常情况）</span></span><br><span class="line">			 	<span class="keyword">for</span> ( <span class="keyword">let</span> i = <span class="number">0</span>,len = refs.$children.length; i &lt; len; i++) &#123;</span><br><span class="line">			 	 	<span class="keyword">this</span>.setBackTrigger(refs.$children[i], vals, allTypeFlag)</span><br><span class="line">			 	 &#125;</span><br><span class="line">			  &#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">	 logger.error(<span class="string">'[setBackTrigger]执行异常'</span>, e)</span><br><span class="line">	 &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="合并表格列"><a href="#合并表格列" class="headerlink" title="合并表格列"></a>合并表格列</h2><p> 有些需求是针对表格中相同行数据的某些列进行合并展示，根据表格中可绑定的objectSpanMethod函数进行处理，仅用于参考：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 合并行或列的函数</span></span><br><span class="line">objectSpanMethod(&#123;row,column,rowIndex,columnIndex&#125;)&#123;</span><br><span class="line"><span class="comment">// 合并第二，六列（币种+合计金额）</span></span><br><span class="line"><span class="keyword">if</span>(columnIndex === <span class="number">1</span> || columnIndex === <span class="number">6</span>)&#123;</span><br><span class="line">		<span class="keyword">const</span> _row = <span class="keyword">this</span>.mergeCells(<span class="keyword">this</span>.tableData).one[rowIndex]</span><br><span class="line">		<span class="keyword">const</span> _col = _row &gt; <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span></span><br><span class="line">		<span class="keyword">return</span> &#123;</span><br><span class="line">		rowspan: _row, <span class="comment">// 要合并的行数</span></span><br><span class="line">		rowspan: _col, <span class="comment">// 要合并的列数</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// 合并列</span></span><br><span class="line">mergeCells(arr)&#123;</span><br><span class="line">	<span class="keyword">const</span> spanOneArr = []</span><br><span class="line">	<span class="keyword">let</span> concatOne = <span class="number">0</span></span><br><span class="line">	arr.forEach(<span class="function">(<span class="params">item,index</span>)=&gt;</span>&#123;</span><br><span class="line">	<span class="comment">// 第一行占一个单元格</span></span><br><span class="line">	<span class="keyword">if</span>(index === <span class="number">0</span>)&#123;</span><br><span class="line">		spanOneArr.push(<span class="number">1</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="comment">// 如果下一行的值跟上个行的值相同，占用的单元格+1，下行则占0，如果值不同则占1格</span></span><br><span class="line">		<span class="keyword">if</span>(item[<span class="keyword">this</span>.tableHeadData[<span class="number">1</span>].prop] === arr[index <span class="number">-1</span>][<span class="keyword">this</span>.tableHeadData[<span class="number">1</span>].prop])&#123;</span><br><span class="line">		spanOneArr[] += <span class="number">1</span></span><br><span class="line">		spanOneArr.push(<span class="number">0</span>)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		spanOneArr.push(<span class="number">1</span>)</span><br><span class="line">		concatOne = index</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">	one:spanOneArr,</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="数组排序"><a href="#数组排序" class="headerlink" title="数组排序"></a>数组排序</h2><p>根据获取的数组内容不同，若明确其中的某个字符串是有规律的，我们可以通过截取其中的字符串进行处理排序问题：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = [</span><br><span class="line"> <span class="string">"图像001-00005-fr_清单人工通过"</span>, </span><br><span class="line"> <span class="string">"图像001-00003-fr_清单人工通过"</span>,</span><br><span class="line"> <span class="string">"图像001-00004-fr_清单人工通过"</span></span><br><span class="line"> ];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 sort 方法对数组进行排序</span></span><br><span class="line">data.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 将字符串转换为数字</span></span><br><span class="line">  <span class="keyword">const</span> num1 = <span class="built_in">parseInt</span>(a.split(<span class="string">"-"</span>)[<span class="number">1</span>]);</span><br><span class="line">  <span class="keyword">const</span> num2 = <span class="built_in">parseInt</span>(b.split(<span class="string">"-"</span>)[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 从小到大排序</span></span><br><span class="line">  <span class="keyword">return</span> num1 - num2;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(data); <span class="comment">// ["图像001-00003-fr_清单人工通过", "图像001-00004-fr_清单人工通过", "图像001-00005-fr_清单人工通过"]</span></span><br></pre></td></tr></table></figure>

<p>还可以通过正则表达式判断是否转为数字，数字的放在一起排序，非纯数字的放一起进行字母和数字比较排序：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> data = [</span><br><span class="line"> <span class="string">"图像001-00005-fr_清单人工通过"</span>,</span><br><span class="line"> <span class="string">"图像001-000b3-fr_清单人工通过"</span>,</span><br><span class="line"> <span class="string">"图像001-00003-fr_清单人工通过"</span>, </span><br><span class="line"> <span class="string">"图像001-00004-fr_清单人工通过"</span>,</span><br><span class="line"> <span class="string">"图像001-000a6-fr_自动通过"</span>,</span><br><span class="line"> <span class="string">"图像001-000b6-fr_自动通过"</span>,</span><br><span class="line"> <span class="string">"图像001-02c56-fr_通过"</span>,</span><br><span class="line"> ];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> numbers = data.filter(<span class="function">(<span class="params">str</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> match = str.match(<span class="regexp">/^\d+$/</span>);</span><br><span class="line">  <span class="keyword">return</span> match;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nonNumbers = data.filter(<span class="function">(<span class="params">str</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> match = str.match(<span class="regexp">/^\d+$/</span>);</span><br><span class="line">  <span class="keyword">return</span> !match;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">numbers.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">parseInt</span>(a, <span class="number">10</span>) - <span class="built_in">parseInt</span>(b, <span class="number">10</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">nonNumbers.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a.localeCompare(b);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sortedData = [...numbers, ...nonNumbers];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'输出--'</span>,sortedData);</span><br></pre></td></tr></table></figure>

<p>代码解释：<br>这段代码首先使用 filter() 方法将数据分为两组：数字和非纯数字。<br>数字组使用正则表达式 /^\d+$/ 匹配。该正则表达式匹配一个或多个数字。<br>非纯数字组使用正则表达式的反向匹配 !match。<br>然后，代码使用 sort() 方法对数字组进行排序。sort() 方法接受一个比较函数作为参数。比较函数使用减法运算符 (-) 比较两个数字的大小。<br>最后，代码使用 sort() 方法对非纯数字组进行排序。sort() 方法使用 localeCompare() 方法比较两个字符串的大小。localeCompare() 方法考虑了语言环境和区域设置。</p>
<h2 id="写入JsonArray对象字符串"><a href="#写入JsonArray对象字符串" class="headerlink" title="写入JsonArray对象字符串"></a>写入JsonArray对象字符串</h2><p>有些时候需要给后端写入的文件，里面的某个映射字段必须要指定的JsonArray对象字符串，各元素为JsonObject对象，这时候可通过如下代码进行处理：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> yyrzdjb = &#123;</span><br><span class="line">	ywlsh:<span class="keyword">this</span>.ywlsh,<span class="comment">// 业务流水号</span></span><br><span class="line">	pzzl:<span class="keyword">this</span>.taskData.pzzl,<span class="comment">// 凭证种类</span></span><br><span class="line">	pzxh:<span class="keyword">this</span>.taskData.pzxh,<span class="comment">// 凭证序号</span></span><br><span class="line">	clyj:<span class="keyword">this</span>.CLYJ, <span class="comment">//处理意见</span></span><br><span class="line">	verificationInfo:[],<span class="comment">// 验印详细信息</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">const</span> key <span class="keyword">in</span> <span class="keyword">this</span>.verificationInfo)&#123;</span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">Object</span>.hasOwnProperty.call(<span class="keyword">this</span>.verificationInfo,key))&#123;</span><br><span class="line">		yyrzdjb.verificationInfo.push(<span class="keyword">this</span>.verificationInfo[key])</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 写入文件数据</span></span><br><span class="line"><span class="keyword">let</span> sealVerificationInfoTmp =&#123;</span><br><span class="line">	yyjgxx,</span><br><span class="line">	yyrzdjb,</span><br><span class="line">&#125;</span><br><span class="line">sealVerificationInfoTmp = <span class="built_in">JSON</span>.stringify(sealVerificationInfoTmp )</span><br><span class="line"><span class="keyword">let</span> savePath = <span class="keyword">await</span> PlupinUtils.getProTemFilePath(<span class="keyword">this</span>) <span class="comment">// 调用封装好的公函获取临时文件的地址</span></span><br><span class="line"><span class="keyword">if</span>(savePath.isSucces)&#123;</span><br><span class="line">	savePath = savaPath.data+ <span class="string">'\\SealTaskAccredit\\'</span>+<span class="keyword">this</span>.taskData.ywlsh+<span class="string">'sealVerificationInfo'</span> <span class="comment">// 拼接目录文件名</span></span><br><span class="line">	<span class="keyword">const</span> res = <span class="keyword">await</span> File.writeClientFile(savaPath,sealVerificationInfoTmp,<span class="string">'false'</span>,<span class="string">'utf-8'</span>) <span class="comment">// 调用封装好的公函转成文件</span></span><br><span class="line">	<span class="keyword">if</span>(res.reuslt === <span class="string">'true'</span>)&#123;</span><br><span class="line">		<span class="keyword">await</span> <span class="keyword">this</span>.pushInfo(<span class="string">'写入文件成功！'</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">await</span> <span class="keyword">this</span>.pushInfo(<span class="string">'写入文件失败！'</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>代码解释：</p>
<blockquote>
<ul>
<li>for(const key in this.verificationInfo)：这行代码开始了一个 for…in 循环。for…in 循环用于遍历对象的可枚举属性。在这里，key 是一个变量，用于存储每次迭代中对象的属性名。</li>
<li>Object.hasOwnProperty.call(this.verificationInfo, key)：这一行通过 Object 对象的 hasOwnProperty 方法来检查当前迭代的属性是否为对象自身的属性，而不是继承来的属性。这么做是为了确保只遍历对象自身的属性，而不包括从原型链继承的属性。call() 方法的作用是调用 hasOwnProperty 方法，并将当前对象 (this.verificationInfo) 以及当前属性名 (key) 作为参数传递给 hasOwnProperty 方法。</li>
<li>yyrzdjb.verificationInfo.push(this.verificationInfo[key])：如果属性是对象自身的属性，那么就将该属性的值（通过 this.verificationInfo[key] 获取）添加到另一个对象 yyrzdjb 的 verificationInfo 属性中。这假定了 yyrzdjb 对象在代码的上下文中已经被定义，并且拥有一个名为 verificationInfo 的数组属性。</li>
<li>因此，这段代码的作用是将 this.verificationInfo 对象中的所有自身属性的值都复制到另一个对象 yyrzdjb 的 verificationInfo 数组中。</li>
</ul>
</blockquote>
<h2 id="JSON字符串的处理和排序"><a href="#JSON字符串的处理和排序" class="headerlink" title="JSON字符串的处理和排序"></a>JSON字符串的处理和排序</h2><p>有些时候从后端服务获取返回的数据报文格式为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;&#123;&quot;rwxh&quot;:&quot;1&quot;,&quot;jdmc&quot;:&#39;&#39;录入审核&quot;,&quot;jddm&quot;:&#39;&#39;1110&quot;,&quot;shyj&quot;:&quot;提交账户初审子务&quot;,&quot;shsj&quot;:&quot;2024-03-04 09:17:29&quot;,&quot;userid&quot;:&quot;0005001&#125;,</span><br><span class="line">&#123;&quot;rwxh&quot;:&quot;&quot;,&quot;jdmc&quot;:&#39;&#39;录入审核拒绝&quot;,,&quot;jddm&quot;:&#39;&#39;1402&quot;,&quot;shyj&quot;:&quot;提交账户初审子务&quot;,&quot;shsj&quot;:&quot;2024-03-04 15:07:55&quot;,&quot;userid&quot;:&quot;117010887&quot;&#125;,</span><br><span class="line">&#123;&quot;rwxh&quot;:&quot;1&quot;,&quot;jdmc&quot;:&#39;&#39;凭证验印初审(网点)&quot;,,&quot;jddm&quot;:&#39;&#39;1404&quot;&quot;shyj&quot;:&quot;审核无误，可进入下一流程！&quot;,&quot;shjg&quot;:&quot;无需验印&quot;,&quot;shsj&quot;:&quot;20240316&quot;,&quot;userid&quot;:&quot;117010887&quot;&#125;,&quot;</span><br></pre></td></tr></table></figure>

<p>由于后台的数据是根据不同的子流程任务产生后累计返回的报文信息，此时的业务需求是需要将这些数据加工处理好之后，按最新的一条意见内容进行回显界面，可用下面代码进行实现：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 处理后台的任务流程意见信息</span></span><br><span class="line"><span class="keyword">let</span> lcclyj = <span class="string">''</span></span><br><span class="line"><span class="keyword">const</span> sbfList =[]</span><br><span class="line"><span class="keyword">if</span>(!_.isEmpty(taskData.lcclyj))&#123;</span><br><span class="line">	lcclyj = <span class="string">'['</span>+taskData?.lcclyj.slice(<span class="number">0</span>,taskData.lcclyj.length<span class="number">-1</span>)+<span class="string">']'</span> <span class="comment">// 去除最后一位逗号</span></span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		lcclyj = JOSN.parse(lcclyj)</span><br><span class="line">	&#125; <span class="keyword">catch</span>(error)&#123;</span><br><span class="line">		logger.debug(<span class="string">'lcclyj不是JOSN字符串格式'</span>,lcclyj)</span><br><span class="line">	&#125;</span><br><span class="line">	lcclyj.forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">		<span class="keyword">let</span> jdmc = <span class="string">''</span></span><br><span class="line">		<span class="keyword">if</span>(item.jddm === <span class="string">'1402'</span>)&#123;</span><br><span class="line">			jdmc = <span class="string">'验印经办'</span></span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span>( item.jddm === <span class="string">'1403'</span>)&#123;</span><br><span class="line">			jdmc = <span class="string">'验印复核'</span></span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>( item.jddm === <span class="string">'1404'</span>)&#123;</span><br><span class="line">			jdmc = <span class="string">'验印经办（网点）'</span></span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>( item.jddm === <span class="string">'1405'</span>)&#123;</span><br><span class="line">			jdmc = <span class="string">'验印复核（网点）'</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(item.jddm === <span class="string">'1402'</span> || item.jddm === <span class="string">'1403'</span>||item.jddm === <span class="string">'1404'</span>||item.jddm === <span class="string">'1405'</span>)&#123;</span><br><span class="line">			<span class="keyword">const</span> userid = item.userid?.trim() || <span class="string">''</span></span><br><span class="line">			<span class="keyword">const</span> shsj = item.shsj?.trim() || <span class="string">''</span></span><br><span class="line">			<span class="keyword">const</span> shjg = item.shjg?.trim() || <span class="string">''</span></span><br><span class="line">			<span class="keyword">const</span> shyj = item.shyj?.trim() || <span class="string">''</span></span><br><span class="line">			sbfList.push(&#123;</span><br><span class="line">				sbfTime:shsj,</span><br><span class="line">				sbfShyj: jdmc + <span class="string">'('</span>+userid+<span class="string">')'</span>+<span class="string">'('</span>+shsj+<span class="string">')'</span>+<span class="string">'('</span>+shjg+<span class="string">')'</span>+<span class="string">'('</span>+shyj,</span><br><span class="line">			&#125;)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 按时间进行排序</span></span><br><span class="line">sbfList.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(b.sbfTime) - <span class="keyword">new</span> <span class="built_in">Date</span>(a.sbfTime)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取最近一条意见内容进行回显</span></span><br><span class="line"><span class="keyword">this</span>.YJL = sbfList[<span class="number">0</span>].sbfShyj || <span class="string">''</span> <span class="comment">// 意见栏</span></span><br></pre></td></tr></table></figure>

<h2 id="循环的使用"><a href="#循环的使用" class="headerlink" title="循环的使用"></a>循环的使用</h2><p>理由：forEach 不支持使用 break 或 return 语句中断循环。for of 支持使用 break 或 return 语句中断循环。<br>由于JS的循环写法很多，每个同事对于循环的使用习惯都不一样，一些前同事的代码逻辑中很喜欢使用ForEach,写起来确实方便，但拓展性不太强,比如从返回的数据中需要进行筛选，不满足条件的直接中断循环，ForEach这方面就略逊一筹，因为从后端服务拿过来的数据无法预测的，且需求是随时可变的，为了可拓展，可以改成for of循环：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> AuditOpinion =<span class="keyword">this</span>.importMap.AuditOpinion</span><br><span class="line"><span class="keyword">let</span> opinion =<span class="string">''</span></span><br><span class="line"><span class="keyword">if</span>(!_.isEmpty(AuditOpinion))&#123;</span><br><span class="line">	<span class="keyword">const</span> json =<span class="built_in">JSON</span>.parse(AuditOpinion)</span><br><span class="line">	<span class="keyword">if</span>(!_.isEmpty(json))&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> json)&#123;</span><br><span class="line">			<span class="keyword">const</span> start = item.indexOf(<span class="string">'('</span>)</span><br><span class="line">			<span class="keyword">const</span> end = item.indexOf(<span class="string">')'</span>)</span><br><span class="line">			<span class="keyword">const</span> cl = item.substring(start+<span class="number">1</span>,end)</span><br><span class="line">			<span class="keyword">if</span>(!_.isEmpty(cl)&amp;&amp; cl.length ===<span class="number">6</span>)&#123;</span><br><span class="line">				<span class="keyword">break</span> <span class="comment">// 满足此条件时直接停止循环过滤筛选</span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(!_.isEmpty(cl)&amp;&amp; cl.length ===<span class="number">9</span>)&#123;</span><br><span class="line">				opinion += item +<span class="string">'\n'</span></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">this</span>.HandOpinions = opinion <span class="comment">//处理意见</span></span><br></pre></td></tr></table></figure>

<h2 id="根据条件筛选获取到的信息，然后再进行模糊查询"><a href="#根据条件筛选获取到的信息，然后再进行模糊查询" class="headerlink" title="根据条件筛选获取到的信息，然后再进行模糊查询"></a>根据条件筛选获取到的信息，然后再进行模糊查询</h2><p>有时候查询服务得到的数据结构总是不统一的，而后端又不想做数据格式处理，这时需要前端根据返回的数据结构，转换成想要的结构后再使用。因为会涉及到多个地方需要使用，所以需要写一个通用的公共函数进行处理后返回。可以新建一个专门存放公共方法的js文件，方便后面在Vue文件中直接引入调用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>根据代发类型筛选获取到的摘要表</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>trade 交易对象 Vue</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>srcitems 摘要代号数组 获取的list结构为:</span></span><br><span class="line"><span class="comment"> * [&#123;dflx:'01',zhdh:'006',zymc:'代发工资'&#125;,&#123;dflx:'02',zhdh:'008',zymc:'电费'&#125;,...]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>dflxView 代发类型位图 有三种情况：薪酬 非薪酬 薪酬+非薪酬</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns </span>返回账户代号-摘要</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">async</span> getZyitemsByDflx(trade,srcitems,dflxView)&#123;</span><br><span class="line">	<span class="keyword">if</span>(_.isEmpty(srcitems))&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 代发类型位图转为代发类型</span></span><br><span class="line">	<span class="keyword">const</span> dflxMap=&#123;&#125;</span><br><span class="line">	<span class="keyword">if</span>(dflxView.length &gt; <span class="number">0</span>)&#123;</span><br><span class="line">		<span class="comment">// 获取的dflxView为薪酬时，可能返回10000000，首位不为0，代表为薪酬类</span></span><br><span class="line">		<span class="keyword">if</span>(dflxView.substring(<span class="number">0</span>,<span class="number">1</span>) !==<span class="string">'0'</span>)&#123;</span><br><span class="line">			dflxMap[<span class="string">'01'</span>] = <span class="string">'薪酬'</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(dflxView.length &gt; <span class="number">1</span>)&#123;</span><br><span class="line">		<span class="comment">// 获取的dflxView为非薪酬时，可能返回01000000，第二位不为0，代表为非薪酬类</span></span><br><span class="line">		<span class="keyword">if</span>(dflxView.substring(<span class="number">1</span>,<span class="number">2</span>) !==<span class="string">'0'</span>)&#123;</span><br><span class="line">			dflxMap[<span class="string">'02'</span>] = <span class="string">'非薪酬'</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 通过srcitems中的dflx去匹配出当前dflxMap对象中含有的key再进行过滤</span></span><br><span class="line">	<span class="keyword">const</span> list =srcitems.filter(<span class="function">(<span class="params">item</span>) =&gt;</span> dflxMap[item.dflx])</span><br><span class="line">	<span class="keyword">if</span>(_.isEmpty(list))&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> list</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>模糊匹配摘要信息</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>trade 交易对象 Vue</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>list 筛选后的摘要数组信息</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>zydh 摘要代号</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns </span>返回账户代号-摘要</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">async</span> getZydhInfoOne(trade,list,zydh)&#123;</span><br><span class="line">	<span class="keyword">let</span> retZydh = <span class="string">''</span></span><br><span class="line">	<span class="keyword">const</span> itemsMatchList = []</span><br><span class="line">	<span class="keyword">const</span> convertS = <span class="string">''</span> <span class="comment">// 界面输入[001-存款]之类的，判断相等直接返回</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">let</span> index = <span class="number">0</span>;index &lt; list.length;index++)&#123;</span><br><span class="line">		<span class="keyword">const</span> element = list[index]</span><br><span class="line">		convertS = <span class="string">`&#123;element.zydh&#125;-&#123;element.zymc&#125;`</span></span><br><span class="line">		<span class="keyword">if</span>(element.zydh === zydh)&#123;</span><br><span class="line">			<span class="keyword">return</span> convertS</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span>(element.zydh.indexOf(zydh) &gt; <span class="number">-1</span> || zydh.indexOf(element.zydh) &gt; <span class="number">-1</span>)&#123;</span><br><span class="line">			<span class="comment">// 模糊查询筛选</span></span><br><span class="line">			itemsMatchList.push(element)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">let</span> itemMatchs = []</span><br><span class="line">	<span class="comment">// 判断是否有模糊匹配，若无，加载所有</span></span><br><span class="line">	<span class="keyword">if</span>(itemsMatchList.length === <span class="number">0</span>)&#123;</span><br><span class="line">		itemMatchs = list.map(<span class="function">(<span class="params">item</span>) =&gt;</span> (&#123;</span><br><span class="line">			label: <span class="string">`<span class="subst">$&#123;item.zydh&#125;</span>-<span class="subst">$&#123;item.zymc&#125;</span>`</span>,</span><br><span class="line">			value: item.zydh,</span><br><span class="line">		&#125;))</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		itemMatchs = itemsMatchList.map(<span class="function">(<span class="params">item</span>) =&gt;</span> (&#123;</span><br><span class="line">			label: <span class="string">`<span class="subst">$&#123;item.zydh&#125;</span>-<span class="subst">$&#123;item.zymc&#125;</span>`</span>,</span><br><span class="line">			value: item.zydh,</span><br><span class="line">		&#125;))</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 把筛选后的itemMatchs传入封装好的方法中进行弹框展示</span></span><br><span class="line">	retZydh = <span class="keyword">await</span> trade.pushComboInputDialog(<span class="string">'摘要'</span>,<span class="string">'请选择'</span>,itemMatchs,<span class="string">''</span>,<span class="string">'RETURN_FULL'</span>)</span><br><span class="line">	<span class="keyword">return</span> retZydh</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="去重处理"><a href="#去重处理" class="headerlink" title="去重处理"></a>去重处理</h2><p>有时候后端服务查询会有返回重复的数据，这时候前端可以先进行去重处理，再进行展示。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">            <span class="keyword">const</span> data = &#123;</span><br><span class="line">                cpdh: <span class="keyword">this</span>.CPDH, <span class="comment">// 产品代号</span></span><br><span class="line">                dqdhList: [<span class="keyword">this</span>.OrgInfo.rgnCdNm,<span class="string">'00'</span>], <span class="comment">// 地区代号</span></span><br><span class="line">                qsrq: CibTradeUtil.getHostDate(<span class="keyword">this</span>), <span class="comment">// 起始日期</span></span><br><span class="line">                zzrq: CibTradeUtil.getHostDate(<span class="keyword">this</span>), <span class="comment">// 终止日期</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">const</span> res = <span class="keyword">await</span> loadCPQX(<span class="keyword">this</span>,data)</span><br><span class="line">            <span class="keyword">if</span>(res,isSuccess &amp;&amp; res.body.list.length &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            	<span class="keyword">const</span> list =res.body.list</span><br><span class="line">            	<span class="keyword">const</span> optionsList =list.map(<span class="function">(<span class="params">item</span>)=&gt;</span>(&#123;</span><br><span class="line">					label:item.cpqx,</span><br><span class="line">					value:item.cpqx,</span><br><span class="line">				&#125;)</span><br><span class="line">				<span class="comment">// 去重处理</span></span><br><span class="line">				<span class="keyword">this</span>.CPQX_options = optionsList.reduce(<span class="function">(<span class="params">acc,item</span>) =&gt;</span> &#123;</span><br><span class="line">					<span class="keyword">if</span>(!acc.some(<span class="function">(<span class="params">item2</span>)=&gt;</span> item2.value === item.value))&#123;</span><br><span class="line">						acc.push(item)</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">return</span> acc</span><br><span class="line">				&#125;,[])</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="转码处理"><a href="#转码处理" class="headerlink" title="转码处理"></a>转码处理</h2><p>有时候后端接口只返回码值，并没有中文描述，并且下拉选项是需要动态查询服务进行加载，因此调用服务查询回来时，还需进行转码处理进行展示。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">        <span class="keyword">async</span> jxbz_onFocus() &#123;</span><br><span class="line">            <span class="keyword">const</span> data = &#123;</span><br><span class="line">                dqdh: <span class="keyword">this</span>.OrgInfo.rgnCdNm, <span class="comment">// 地区代号</span></span><br><span class="line">                cpdh: <span class="keyword">this</span>.CPDH, <span class="comment">// 产品代号</span></span><br><span class="line">                hbzl: <span class="string">'01'</span>, <span class="comment">// 币种</span></span><br><span class="line">                sxrq: CibTradeUtil.getHostDate(<span class="keyword">this</span>), <span class="comment">// 生效日期</span></span><br><span class="line">                zzrq: CibTradeUtil.getHostDate(<span class="keyword">this</span>), <span class="comment">// 终止日期</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 调用产品信息表的服务</span></span><br><span class="line">            <span class="keyword">const</span> res = <span class="keyword">await</span> loadCPXX(<span class="keyword">this</span>, data)</span><br><span class="line">            <span class="keyword">const</span> list = res?.body?.list</span><br><span class="line">            <span class="keyword">if</span> (!res.isSuccess) &#123;</span><br><span class="line">                <span class="keyword">await</span> <span class="keyword">this</span>.pushInfo(<span class="string">"获取产品信息属性识别，请确认！"</span>)</span><br><span class="line">                <span class="keyword">this</span>.focusManager.setFocus(<span class="string">'CKLLTJ'</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> jxzqz = list[<span class="number">0</span>].jxzqz</span><br><span class="line">                <span class="keyword">this</span>.jxbz_options = <span class="keyword">this</span>.loadJXBZ(jxzqz)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         *  返回结息标志进行转换处理</span></span><br><span class="line"><span class="comment">         *  <span class="doctag">@param <span class="variable">jxbz</span></span></span></span><br><span class="line"><span class="comment">         *  <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"></span><br><span class="line">        loadJXBZ(jxbz) &#123;</span><br><span class="line">            <span class="keyword">if</span> (_.isEmpty(jxbz)) &#123;</span><br><span class="line">                <span class="keyword">this</span>.pushInfo(<span class="string">'结息标志为空，请确认！'</span>)</span><br><span class="line">                <span class="keyword">this</span>.focusManager.setFocus(<span class="string">'jxbz'</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">const</span> jxbzlen = jxbz.length</span><br><span class="line">            <span class="keyword">const</span> newJxbzs = []</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; jxbzlen; i++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (jxbz.substr(i, <span class="number">1</span>) === <span class="string">'0'</span>) &#123;</span><br><span class="line">                    newJxbzs.push(&#123;</span><br><span class="line">                        label: <span class="string">'0'</span> + <span class="string">'-'</span> + <span class="string">'按月结息'</span>,</span><br><span class="line">                        value: <span class="string">'0'</span>,</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (jxbz.substr(i, <span class="number">1</span>) === <span class="string">'1'</span>) &#123;</span><br><span class="line">                    newJxbzs.push(&#123;</span><br><span class="line">                        label: <span class="string">'1'</span> + <span class="string">'-'</span> + <span class="string">'按季付息'</span>,</span><br><span class="line">                        value: <span class="string">'1'</span>,</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (jxbz.substr(i, <span class="number">1</span>) === <span class="string">'2'</span>) &#123;</span><br><span class="line">                    newJxbzs.push(&#123;</span><br><span class="line">                        label: <span class="string">'2'</span> + <span class="string">'-'</span> + <span class="string">'按年付息'</span>,</span><br><span class="line">                        value: <span class="string">'2'</span>,</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> _.sortBy(newJxbzs, <span class="string">'value'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="关于正则表达式"><a href="#关于正则表达式" class="headerlink" title="关于正则表达式"></a>关于正则表达式</h2><p>在公司中需要封装一些公共方法，记录一下踩过的坑。由于项目ESLint提交时检查不能使用new的写法，所以改成了字面量的写法，结果测试的时候总是校验不到，原因就是字面量写法中不需要进行转义，使用\就无法正确识别，而new RegExp的时候需要进行转义，这个锅甩给细节啦！</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 凭证代号校验</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="keyword">static</span> <span class="keyword">async</span> isValidateXh(xh)&#123;</span><br><span class="line">	<span class="comment">//const reg =new RegExp('^((26)|(27))\\d&#123;7&#125;$')</span></span><br><span class="line">	<span class="keyword">const</span> reg = <span class="regexp">/^((26)|(27))\d&#123;7&#125;$/</span></span><br><span class="line">	<span class="keyword">return</span> reg.test(xh)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="初始化加载表格详情画面"><a href="#初始化加载表格详情画面" class="headerlink" title="初始化加载表格详情画面"></a>初始化加载表格详情画面</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">	<span class="keyword">async</span> tradeInit()&#123;</span><br><span class="line">		<span class="keyword">const</span> importVar =<span class="keyword">this</span>.$getPanelImportVar() <span class="comment">// 获取上一个交易传递过来的参数数据</span></span><br><span class="line">		<span class="keyword">const</span> plStr = importVar.PLBSH <span class="comment">// 获取的数据格式如："1,2,3,4,5"</span></span><br><span class="line">		<span class="keyword">const</span> xgStr = importVar.XGBH</span><br><span class="line">		<span class="keyword">const</span> hpStr = importVar.HPDQR</span><br><span class="line">		<span class="keyword">const</span> dbStr = importVar.DBFS</span><br><span class="line">		<span class="keyword">const</span> pmStr = importVar.PMHZJE</span><br><span class="line">		<span class="keyword">const</span> plbshAry= plStr.split(<span class="string">','</span>)</span><br><span class="line">		<span class="keyword">if</span>(plbshAry !==<span class="literal">null</span> &amp;&amp; plbshAry.lenth &gt;<span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">const</span> rowData=[]</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;plbsAry.length;i++)&#123;</span><br><span class="line">				rowData[<span class="number">0</span>]=xgStr.split(<span class="string">','</span>)[i] <span class="comment">// 对每项数据进行截取后回填到列表中</span></span><br><span class="line">				rowData[<span class="number">1</span>]=plbshAry</span><br><span class="line">				rowData[<span class="number">2</span>]=hpStr.split(<span class="string">','</span>)[i]</span><br><span class="line">				rowData[<span class="number">3</span>]=dbStr.split(<span class="string">','</span>)[i]</span><br><span class="line">				rowData[<span class="number">4</span>]=pmStr.split(<span class="string">','</span>)[i]</span><br><span class="line">				<span class="keyword">this</span>.tableData.push(&#123;</span><br><span class="line">					XGBH:rowData[<span class="number">0</span>],</span><br><span class="line">					PLBSH:rowData[<span class="number">1</span>],</span><br><span class="line">					HPDQR:rowData[<span class="number">2</span>],</span><br><span class="line">					DBFS:rowData[<span class="number">3</span>],</span><br><span class="line">					PMHZJE:rowData[<span class="number">4</span>],</span><br><span class="line">				&#125;)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="实现自由拖拽效果"><a href="#实现自由拖拽效果" class="headerlink" title="实现自由拖拽效果"></a>实现自由拖拽效果</h2><p>1.创建Demo.html文件<br>示例代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"static/css/style.css"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">media</span>=<span class="string">"all"</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 引入自由拖拽的JS库 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/sortablejs@1.13.0/Sortable.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"listdhsl"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"sortable-list"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"sortable-item"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://laolion.com/"</span> <span class="attr">title</span>=<span class="string">"我是一只历经沧桑的老狮。（Typeche付费Joe主题）"</span>&gt;</span>老狮的梦<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"sortable-item"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://ae.js.cn/"</span> <span class="attr">title</span>=<span class="string">"记录与学习前端知识。（Joe主题作者）"</span>&gt;</span>Joe的博客<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"sortable-item"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://9i3.cn/"</span> <span class="attr">title</span>=<span class="string">"Typecho合集站 - 用爱发电,始于2021"</span>&gt;</span>Typecho合集站<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"sortable-item"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://www.dongfang.name/"</span> <span class="attr">title</span>=<span class="string">"行吟游子的个人独立博客！"</span>&gt;</span>门影塘畔<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"sortable-item"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://www.cisharp.com/"</span> <span class="attr">title</span>=<span class="string">"一个分享心得的网站_程序员_个人博客！"</span>&gt;</span>一缕清风<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"sortable-item"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://www.aiyo99.com/"</span> <span class="attr">title</span>=<span class="string">"罗小黑-（便携小电视）"</span>&gt;</span>罗小黑<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"sortable-item"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://racns.com/"</span> <span class="attr">title</span>=<span class="string">"兔子爱上胡萝卜-（可语音浮动看板娘）"</span>&gt;</span>萌卜兔's<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"sortable-item"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://www.gmit.vip/"</span> <span class="attr">title</span>=<span class="string">"故梦吖 ，记录生活点点滴滴（很好看的看板娘）"</span>&gt;</span>故梦吖<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"sortable-item"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://love2wind.cn/"</span> <span class="attr">title</span>=<span class="string">"软件资源代码分享博客"</span>&gt;</span>涅槃博客<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">		<span class="comment">// 自由拖拽效果</span></span></span><br><span class="line"><span class="javascript">		<span class="keyword">var</span> sortableLists = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.sortable-list'</span>);</span></span><br><span class="line"><span class="actionscript">		sortableLists.forEach(<span class="function"><span class="keyword">function</span> <span class="params">(sortableList)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">			<span class="keyword">var</span> sortable = Sortable.create(sortableList, &#123;</span></span><br><span class="line">				animation: 150,</span><br><span class="line"><span class="actionscript">				handle: <span class="string">'.sortable-item'</span>,</span></span><br><span class="line"><span class="actionscript">				draggable: <span class="string">'.sortable-item'</span>,</span></span><br><span class="line"><span class="actionscript">				onEnd: <span class="function"><span class="keyword">function</span> <span class="params">(evt)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">					<span class="comment">// 获取排序后的列表项</span></span></span><br><span class="line"><span class="javascript">					<span class="keyword">var</span> items = <span class="built_in">Array</span>.from(sortableList.children);</span></span><br><span class="line"><span class="actionscript">					<span class="comment">// 创建一个新的文档片段</span></span></span><br><span class="line"><span class="javascript">					<span class="keyword">var</span> fragment = <span class="built_in">document</span>.createDocumentFragment();</span></span><br><span class="line"><span class="actionscript">					<span class="comment">// 将排序后的列表项添加到文档片段中</span></span></span><br><span class="line"><span class="actionscript">					items.forEach(<span class="function"><span class="keyword">function</span> <span class="params">(item)</span> </span>&#123;</span></span><br><span class="line">						fragment.appendChild(item);</span><br><span class="line">					&#125;);</span><br><span class="line"><span class="actionscript">					<span class="comment">// 清空原有的列表项</span></span></span><br><span class="line"><span class="actionscript">					sortableList.innerHTML = <span class="string">''</span>;</span></span><br><span class="line"><span class="actionscript">					<span class="comment">// 将文档片段添加回原来的位置</span></span></span><br><span class="line">					sortableList.appendChild(fragment);</span><br><span class="line">				&#125;,</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;);</span><br><span class="line">	<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2.新建style.css样式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 自由拖拽样式 */</span></span><br><span class="line"><span class="selector-class">.sortable-list</span> &#123;</span><br><span class="line">    <span class="attribute">list-style-type</span>: none;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sortable-item</span> &#123;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f1f1f1</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: move;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="调用后端服务简单例子"><a href="#调用后端服务简单例子" class="headerlink" title="调用后端服务简单例子"></a>调用后端服务简单例子</h2><p>1.新建一个Serive.js文件<br>示例代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; requset&#125; <span class="keyword">from</span> <span class="string">'./common/requset'</span> <span class="comment">// 引入已封装好的ajax服务js文件</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description </span>获取存款子类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Vue&#125;</span> </span>trade Vue对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;data&#125;</span> </span>接口数据</span></span><br><span class="line"><span class="comment"> **/</span></span><br><span class="line"> <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getDepositSubcategory</span>(<span class="params">trade,data</span>)</span>&#123;</span><br><span class="line"> 	<span class="keyword">const</span> config =&#123;</span><br><span class="line">	trade,</span><br><span class="line">	url:<span class="string">'http://xxxx/select'</span>,</span><br><span class="line">	data:&#123;</span><br><span class="line">		body:&#123;</span><br><span class="line">			ffmc:<span class="string">'01'</span>,</span><br><span class="line">			...data,</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> requset(config)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>2.在Demo.Vue文件中调用该方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; getDepositSubcategory &#125; <span class="keyword">from</span> <span class="string">'./serice'</span> <span class="comment">// 引入写好的服务文件</span></span><br><span class="line">data()&#123;</span><br><span class="line">	zhkhlx:<span class="string">''</span>,<span class="comment">//账户客户类型</span></span><br><span class="line">	khzl :<span class="string">''</span>,<span class="comment">//客户子类</span></span><br><span class="line">	CKZL_options:[],<span class="comment">//存款子类选项</span></span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line"><span class="comment">// 存款子类焦点进入事件</span></span><br><span class="line"><span class="keyword">async</span> CKZL_OnFoucus()&#123;</span><br><span class="line"><span class="keyword">const</span> khlx=<span class="keyword">this</span>.zhkhlx <span class="comment">//账户客户类型</span></span><br><span class="line"><span class="keyword">const</span> khzl =<span class="keyword">this</span>.khzl <span class="comment">//客户子类</span></span><br><span class="line"><span class="comment">//查询加载存款子类下拉框数据</span></span><br><span class="line"><span class="keyword">const</span> data =&#123;</span><br><span class="line">	jdbz:<span class="string">'1'</span>, <span class="comment">// 借贷标志</span></span><br><span class="line">	khlb:<span class="string">'1'</span>, <span class="comment">// 客户类型</span></span><br><span class="line">	cklx:<span class="string">'02'</span>, <span class="comment">// 存款类型</span></span><br><span class="line">	hxkhlx:khlx, <span class="comment">// 客户类型</span></span><br><span class="line">	hxkhlxzl:khzl, <span class="comment">// 客户子类</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> getDepositSubcategory(<span class="keyword">this</span>,data)</span><br><span class="line"><span class="comment">// console.log('获取存款子类返回数据==',JSON.stringify(res,null,2))</span></span><br><span class="line"><span class="keyword">const</span> list =res?.body?.list.length &gt;<span class="number">0</span> ?res.body.list:[]</span><br><span class="line"><span class="keyword">this</span>.CKZL_options = list.map(<span class="function"><span class="params">item</span>=&gt;</span>(&#123;</span><br><span class="line">	label:<span class="string">`<span class="subst">$&#123;item.hxcklbzl&#125;</span>-<span class="subst">$&#123;item.hxckzlmc&#125;</span>`</span>,</span><br><span class="line">	value:item.hxcklbzl,</span><br><span class="line">	&#125;))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">PanXiaoKang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2024/04/21/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/">http://example.com/2024/04/21/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">向阳榆木</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%AC%94%E8%AE%B0%E6%95%B4%E7%90%86/">笔记整理</a><a class="post-meta__tags" href="/tags/%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5/">代码片段</a><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/">前端技术</a></div><div class="post_share"><div class="social-share" data-image="https://mpimg.cn/view.php/4f245303fa9b7a0ef8604619ee4b1352.jpg" data-sites="qq,wechat,facebook,twitter,weibo"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://s1.ax1x.com/2020/06/09/t40mLD.th.png" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://s1.ax1x.com/2020/06/09/t4czVK.th.jpg" alt="支付宝"/><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2024/04/27/CSS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><img class="prev_cover lazyload" data-src="/img/butterfly.jpg" onerror="onerror=null;src='/img/404.png'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">CSS学习笔记</div></div></a></div><div class="next-post pull_right"><a href="/2024/04/20/TypeScript%E5%85%A5%E9%97%A8%E6%95%B4%E7%90%86/"><img class="next_cover lazyload" data-src="/img/post.jpg" onerror="onerror=null;src='/img/404.png'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">TypeScript入门整理</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2024/04/20/TypeScript入门整理/" title="TypeScript入门整理"><img class="relatedPosts_cover lazyload"data-src="/img/post.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-04-20</div><div class="relatedPosts_title">TypeScript入门整理</div></div></a></div><div class="relatedPosts_item"><a href="/2024/04/27/CSS学习笔记/" title="CSS学习笔记"><img class="relatedPosts_cover lazyload"data-src="/img/butterfly.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2024-04-27</div><div class="relatedPosts_title">CSS学习笔记</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/01/Java代码片段/" title="Java代码片段"><img class="relatedPosts_cover lazyload"data-src="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1499015010,895265431&fm=26&gp=0.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-04-01</div><div class="relatedPosts_title">Java代码片段</div></div></a></div><div class="relatedPosts_item"><a href="/2021/08/29/JavaScript教程之标准库/" title="③JavaScript教程之标准库"><img class="relatedPosts_cover lazyload"data-src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1273994899,2704080463&fm=26&gp=0.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-08-29</div><div class="relatedPosts_title">③JavaScript教程之标准库</div></div></a></div><div class="relatedPosts_item"><a href="/2021/05/04/JavaScript从进阶到熟悉/" title="②JavaScript从进阶到熟悉"><img class="relatedPosts_cover lazyload"data-src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1273994899,2704080463&fm=26&gp=0.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-05-04</div><div class="relatedPosts_title">②JavaScript从进阶到熟悉</div></div></a></div><div class="relatedPosts_item"><a href="/2021/04/30/JavaScript从入门到进阶/" title="①JavaScript从入门到进阶"><img class="relatedPosts_cover lazyload"data-src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1273994899,2704080463&fm=26&gp=0.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-04-30</div><div class="relatedPosts_title">①JavaScript从入门到进阶</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify: true,
  verify: true,
  appId: 'z2GwNsG7RRpWpx5rt7psedl5-MdYXbMMI',
  appKey: 'gI6Yhfwz4JiUIv9546gepko8',
  placeholder: '来吧，造作吧，快活吧，肆无忌惮吧！(～￣▽￣)～',
  avatar: 'monsterid',
  meta: guest_info,
  pageSize: '10',
  lang: 'zh-cn',
  recordIP: false,
  serverURLs: ''
});</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By PanXiaoKang</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">小伙伴们好！欢迎来到<a href="https://panyongkang.github.io/" target="_blank" rel="noopener">向阳榆木</a>的博客！</div><div class="icp"><a href="http://www.beian.miit.gov.cn" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"/><span>黔ICP备54587259号</span></a></div><div id="running-time"></div><script>setInterval(()=>{let create_time=Math.round(new Date(Date.UTC(2020,01,01,0,0,0)).getTime()/1000);let timestamp=Math.round((new Date().getTime()+8*60*60*1000)/1000);let second=timestamp-create_time;let time=new Array(0,0,0,0,0);if(second>=365*24*3600){time[0]=parseInt(second/(365*24*3600));second%=365*24*3600;}if(second>=24*3600){time[1]=parseInt(second/(24*3600));second%=24*3600;}if(second>=3600){time[2]=parseInt(second/3600);second%=3600;}if(second>=60){time[3]=parseInt(second/60);second%=60;}if(second>0){time[4]=second;}currentTimeHtml='本站已安全运行 '+time[0]+' 年 '+time[1]+' 天 '+time[2]+' 时 '+time[3]+' 分 '+time[4]+' 秒';document.getElementById("running-time").innerHTML=currentTimeHtml;},1000);</script></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="/js/third-party/ClickShowText.js"></script><script src="/js/search/local-search.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/platelet.model.json"},"display":{"position":"right","width":200,"height":500},"mobile":{"show":true},"log":false});</script></body></html>