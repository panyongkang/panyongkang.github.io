<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>â‘¥JavaScriptæ•™ç¨‹ä¹‹äº‹ä»¶ | å‘é˜³æ¦†æœ¨</title><meta name="description" content="â‘¥JavaScriptæ•™ç¨‹ä¹‹äº‹ä»¶"><meta name="keywords" content="JavaScript,å‰ç«¯çŸ¥è¯†,äº‹ä»¶"><meta name="author" content="PanXiaoKang"><meta name="copyright" content="PanXiaoKang"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/Lotus.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="wyZknSW2XMDLHhrSvtifCN1aQwr2nn53ydI_lDzVJmI"/><meta name="baidu-site-verification" content="p1OeTLcEA8"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="â‘¥JavaScriptæ•™ç¨‹ä¹‹äº‹ä»¶"><meta name="twitter:description" content="â‘¥JavaScriptæ•™ç¨‹ä¹‹äº‹ä»¶"><meta name="twitter:image" content="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1273994899,2704080463&amp;fm=26&amp;gp=0.jpg"><meta property="og:type" content="article"><meta property="og:title" content="â‘¥JavaScriptæ•™ç¨‹ä¹‹äº‹ä»¶"><meta property="og:url" content="http://example.com/2021/10/04/JavaScript%E6%95%99%E7%A8%8B%E4%B9%8B%E4%BA%8B%E4%BB%B6/"><meta property="og:site_name" content="å‘é˜³æ¦†æœ¨"><meta property="og:description" content="â‘¥JavaScriptæ•™ç¨‹ä¹‹äº‹ä»¶"><meta property="og:image" content="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1273994899,2704080463&amp;fm=26&amp;gp=0.jpg"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://example.com/2021/10/04/JavaScript%E6%95%99%E7%A8%8B%E4%B9%8B%E4%BA%8B%E4%BB%B6/"><link rel="prev" title="â‘¦JavaScriptæ•™ç¨‹ä¹‹æµè§ˆå™¨æ¨¡å‹" href="http://example.com/2021/10/17/JavaScript%E6%95%99%E7%A8%8B%E4%B9%8B%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9E%8B/"><link rel="next" title="â‘¤JavaScriptæ•™ç¨‹ä¹‹DOM" href="http://example.com/2021/09/21/JavaScript%E6%95%99%E7%A8%8B%E4%B9%8BDOM/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  bookmark: {
    message_prev: 'æŒ‰',
    message_next: 'é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾'
  },
  runtime_unit: 'å¤©',
  runtime: true,
  copyright: undefined,
  ClickShowText: {"text":"æœ€è¿‘æœ‰ç‚¹å¤±çœ äº†,æ¯å¤©è¢«è‡ªå·±å¸…é†’,å¸…æ—©å·²æˆä¸ºè´Ÿæ‹…,é™¤äº†å¸…ä¸€æ— æ‰€æœ‰,å¯Œå¼º,æ°‘ä¸»,æ–‡æ˜,å’Œè°,è‡ªç”±,å¹³ç­‰,å…¬æ­£,æ³•æ²»,çˆ±å›½,æ•¬ä¸š,è¯šä¿¡,å‹å–„","fontSize":"20px"},
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: true,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'true',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://s1.ax1x.com/2020/06/09/t40ARx.th.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">103</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">235</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">25</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw fa fa-random"></i><span> éšæœºæ–‡ç« </span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-th-large" aria-hidden="true"></i><span> å½’æ¡£</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/tagsnet/"><i class="fa-fw fa fa-connectdevelop"></i><span> å…³ç³»ç½‘</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-send-o" aria-hidden="true"></i><span> å¯¼èˆªæ </span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="https://xyyum.icu/mypages/OnlyI.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-send"></i><span> ä¸»é¡µå¯¼èˆª</span></a></li><li><a class="site-page" href="https://xyyum.icu/mypages/xkzhdh/Integrated.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-paper-plane-o"></i><span> ç»¼åˆå¯¼èˆª</span></a></li><li><a class="site-page" href="https://xyyum.icu/mypages/software/index.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-send"></i><span> è½¯ä»¶åˆ†äº«</span></a></li><li><a class="site-page" href="/sunshineBookshelf/"><i class="fa-fw fa fa-university"></i><span> å‘é˜³ä¹¦æ¶</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> åˆ—è¡¨</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/books/"><i class="fa-fw fa fa-book"></i><span> ä¹¦ç±</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> ç”µå½±</span></a></li><li><a class="site-page" href="/games/"><i class="fa-fw fa fa-gamepad"></i><span> æ¸¸æˆ</span></a></li><li><a class="site-page" href="/bilibili/"><i class="fa-fw fa fa-play-circle"></i><span> ç•ªå‰§</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/movie/"><i class="fa-fw fa fa-play-circle-o"></i><span> å½±è§†</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-link" aria-hidden="true"></i><span> å‹æƒ…é“¾æ¥</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> å‹æƒ…é“¾æ¥</span></a></li><li><a class="site-page" href="https://yumuxy.gitee.io/" target="_blank" rel="noopener"><i class="fa-fw fa fa-link"></i><span> æ¡‘æ¦†æœªæ™š</span></a></li><li><a class="site-page" href="https://lllzxqq.gitee.io/" target="_blank" rel="noopener"><i class="fa-fw fa fa-link"></i><span> ååğŸ’–é›¨å­£</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-user-circle-o" aria-hidden="true"></i><span> å…³äºæˆ‘</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="http://www.xbmu.edu.cn/" target="_blank" rel="noopener"><i class="fa-fw fa fa-graduation-cap"></i><span> æ¯æ ¡</span></a></li><li><a class="site-page" href="/workshop/"><i class="fa-fw fa fa-heartbeat"></i><span> ä½œå“</span></a></li><li><a class="site-page" href="/mybook/"><i class="fa-fw fa fa-book"></i><span> è‡ªä¼ </span></a></li><li><a class="site-page" href="/anires/"><i class="fa-fw fa fa-list-alt"></i><span> ç®€å†</span></a></li><li><a class="site-page" href="/vcard/"><i class="fa-fw fa fa-vcard-o"></i><span> åç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-gamepad" aria-hidden="true"></i><span> å¨±ä¹</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="https://playground.z.wiki/typing-game/index.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-gamepad"></i><span> æ‰“å­—æ¸¸æˆ</span></a></li><li><a class="site-page" href="https://xyyum.icu/mypages/GreedySnake/GreedySnake.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-lastfm"></i><span> è´ªåƒè›‡</span></a></li><li><a class="site-page" href="https://xyyum.icu/mypages/nineGridGame/nineGridGame.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-gamepad"></i><span> æŠ½å¥–æ¸¸æˆ</span></a></li><li><a class="site-page" href="/petalage/"><i class="fa-fw fa fa-gamepad"></i><span> è¡¨ç™½æ—¶åˆ»</span></a></li><li><a class="site-page" href="/yszq/"><i class="fa-fw fa fa-gamepad"></i><span> 3Då…ƒç´ </span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-gear (alias)" aria-hidden="true"></i><span> å·¥å…·å¹³å°</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/xkdm/"><i class="fa-fw fa fa-star"></i><span> æ˜Ÿç©ºå¼¹å¹•</span></a></li><li><a class="site-page" href="https://xyym.avosapps.us/" target="_blank" rel="noopener"><i class="fa-fw fa fa-commenting-o"></i><span> è¯„è®ºç®¡ç†</span></a></li><li><a class="site-page" href="https://myhkw.cn/admin/user/login/" target="_blank" rel="noopener"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹åå°</span></a></li><li><a class="site-page" href="https://www.superbed.cn/" target="_blank" rel="noopener"><i class="fa-fw fa fa-area-chart"></i><span> èšåˆå›¾åºŠ</span></a></li><li><a class="site-page" href="/encryptedPages/"><i class="fa-fw fa fa-lock"></i><span> åŠ å¯†è®¿é—®</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> çºªå¿µç©ºé—´</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/3d-gallery/"><i class="fa-fw fa fa-university"></i><span> 3Dç›¸å†Œå±‹</span></a></li><li><a class="site-page" href="/live-photo/"><i class="fa-fw fa fa-photo"></i><span> é’æ˜¥æ ¡å›­</span></a></li><li><a class="site-page" href="/photo-wall/"><i class="fa-fw fa fa-th"></i><span> ç”Ÿæ´»ç…§ç‰‡</span></a></li><li><a class="site-page" href="/video-wall/"><i class="fa-fw fa fa-video-camera"></i><span> åœ¨çº¿è§†é¢‘</span></a></li><li><a class="site-page" href="/mtxx/"><i class="fa-fw fa fa-file-photo-o"></i><span> ç¾å›¾ç§€ç§€</span></a></li><li><a class="site-page" href="/timeStoryline/"><i class="fa-fw fa fa-file-video-o"></i><span> æ—¶é—´æ•…äº‹çº¿</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#EventTarget-æ¥å£"><span class="toc-number">1.</span> <span class="toc-text">EventTarget æ¥å£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æ¦‚è¿°"><span class="toc-number">1.1.</span> <span class="toc-text">æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EventTarget-addEventListener"><span class="toc-number">1.2.</span> <span class="toc-text">EventTarget.addEventListener()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EventTarget-removeEventListener"><span class="toc-number">1.3.</span> <span class="toc-text">EventTarget.removeEventListener()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EventTarget-dispatchEvent"><span class="toc-number">1.4.</span> <span class="toc-text">EventTarget.dispatchEvent()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#äº‹ä»¶æ¨¡å‹"><span class="toc-number">2.</span> <span class="toc-text">äº‹ä»¶æ¨¡å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ç›‘å¬å‡½æ•°"><span class="toc-number">2.1.</span> <span class="toc-text">ç›‘å¬å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HTML-çš„-on-å±æ€§"><span class="toc-number">2.1.1.</span> <span class="toc-text">HTML çš„ on- å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å…ƒç´ èŠ‚ç‚¹çš„äº‹ä»¶å±æ€§"><span class="toc-number">2.1.2.</span> <span class="toc-text">å…ƒç´ èŠ‚ç‚¹çš„äº‹ä»¶å±æ€§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EventTarget-addEventListener-1"><span class="toc-number">2.1.3.</span> <span class="toc-text">EventTarget.addEventListener()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å°ç»“"><span class="toc-number">2.1.4.</span> <span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#this-çš„æŒ‡å‘"><span class="toc-number">2.2.</span> <span class="toc-text">this çš„æŒ‡å‘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#äº‹ä»¶çš„ä¼ æ’­"><span class="toc-number">2.3.</span> <span class="toc-text">äº‹ä»¶çš„ä¼ æ’­</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#äº‹ä»¶çš„ä»£ç†"><span class="toc-number">2.4.</span> <span class="toc-text">äº‹ä»¶çš„ä»£ç†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Event-å¯¹è±¡"><span class="toc-number">3.</span> <span class="toc-text">Event å¯¹è±¡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æ¦‚è¿°-1"><span class="toc-number">3.1.</span> <span class="toc-text">æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®ä¾‹å±æ€§"><span class="toc-number">3.2.</span> <span class="toc-text">å®ä¾‹å±æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Event-bubblesï¼ŒEvent-eventPhase"><span class="toc-number">3.2.1.</span> <span class="toc-text">Event.bubblesï¼ŒEvent.eventPhase</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Event-cancelableï¼ŒEvent-cancelBubbleï¼Œevent-defaultPrevented"><span class="toc-number">3.2.2.</span> <span class="toc-text">Event.cancelableï¼ŒEvent.cancelBubbleï¼Œevent.defaultPrevented</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Event-currentTargetï¼ŒEvent-target"><span class="toc-number">3.2.3.</span> <span class="toc-text">Event.currentTargetï¼ŒEvent.target</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Event-type"><span class="toc-number">3.2.4.</span> <span class="toc-text">Event.type</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Event-timeStamp"><span class="toc-number">3.2.5.</span> <span class="toc-text">Event.timeStamp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Event-isTrusted"><span class="toc-number">3.2.6.</span> <span class="toc-text">Event.isTrusted</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Event-detail"><span class="toc-number">3.2.7.</span> <span class="toc-text">Event.detail</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®ä¾‹æ–¹æ³•"><span class="toc-number">3.3.</span> <span class="toc-text">å®ä¾‹æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Event-preventDefault"><span class="toc-number">3.3.1.</span> <span class="toc-text">Event.preventDefault()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Event-stopPropagation"><span class="toc-number">3.3.2.</span> <span class="toc-text">Event.stopPropagation()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Event-stopImmediatePropagation"><span class="toc-number">3.3.3.</span> <span class="toc-text">Event.stopImmediatePropagation()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Event-composedPath"><span class="toc-number">3.3.4.</span> <span class="toc-text">Event.composedPath()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#é¼ æ ‡äº‹ä»¶"><span class="toc-number">4.</span> <span class="toc-text">é¼ æ ‡äº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#é¼ æ ‡äº‹ä»¶çš„ç§ç±»"><span class="toc-number">4.1.</span> <span class="toc-text">é¼ æ ‡äº‹ä»¶çš„ç§ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MouseEvent-æ¥å£"><span class="toc-number">4.2.</span> <span class="toc-text">MouseEvent æ¥å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MouseEvent-æ¥å£çš„å®ä¾‹å±æ€§"><span class="toc-number">4.3.</span> <span class="toc-text">MouseEvent æ¥å£çš„å®ä¾‹å±æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#MouseEvent-altKeyï¼ŒMouseEvent-ctrlKeyï¼ŒMouseEvent-metaKeyï¼ŒMouseEvent-shiftKey"><span class="toc-number">4.3.1.</span> <span class="toc-text">MouseEvent.altKeyï¼ŒMouseEvent.ctrlKeyï¼ŒMouseEvent.metaKeyï¼ŒMouseEvent.shiftKey</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MouseEvent-buttonï¼ŒMouseEvent-buttons"><span class="toc-number">4.3.2.</span> <span class="toc-text">MouseEvent.buttonï¼ŒMouseEvent.buttons</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MouseEvent-clientXï¼ŒMouseEvent-clientY"><span class="toc-number">4.3.3.</span> <span class="toc-text">MouseEvent.clientXï¼ŒMouseEvent.clientY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MouseEvent-movementXï¼ŒMouseEvent-movementY"><span class="toc-number">4.3.4.</span> <span class="toc-text">MouseEvent.movementXï¼ŒMouseEvent.movementY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MouseEvent-screenXï¼ŒMouseEvent-screenY"><span class="toc-number">4.3.5.</span> <span class="toc-text">MouseEvent.screenXï¼ŒMouseEvent.screenY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MouseEvent-offsetXï¼ŒMouseEvent-offsetY"><span class="toc-number">4.3.6.</span> <span class="toc-text">MouseEvent.offsetXï¼ŒMouseEvent.offsetY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MouseEvent-pageXï¼ŒMouseEvent-pageY"><span class="toc-number">4.3.7.</span> <span class="toc-text">MouseEvent.pageXï¼ŒMouseEvent.pageY</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MouseEvent-relatedTarget"><span class="toc-number">4.3.8.</span> <span class="toc-text">MouseEvent.relatedTarget</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MouseEvent-æ¥å£çš„å®ä¾‹æ–¹æ³•"><span class="toc-number">4.4.</span> <span class="toc-text">MouseEvent æ¥å£çš„å®ä¾‹æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#MouseEvent-getModifierState"><span class="toc-number">4.4.1.</span> <span class="toc-text">MouseEvent.getModifierState()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WheelEvent-æ¥å£"><span class="toc-number">4.5.</span> <span class="toc-text">WheelEvent æ¥å£</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#æ¦‚è¿°-2"><span class="toc-number">4.5.1.</span> <span class="toc-text">æ¦‚è¿°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å®ä¾‹å±æ€§-1"><span class="toc-number">4.5.2.</span> <span class="toc-text">å®ä¾‹å±æ€§</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#é”®ç›˜äº‹ä»¶"><span class="toc-number">5.</span> <span class="toc-text">é”®ç›˜äº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#é”®ç›˜äº‹ä»¶çš„ç§ç±»"><span class="toc-number">5.1.</span> <span class="toc-text">é”®ç›˜äº‹ä»¶çš„ç§ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#KeyboardEvent-æ¥å£æ¦‚è¿°"><span class="toc-number">5.2.</span> <span class="toc-text">KeyboardEvent æ¥å£æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#KeyboardEvent-çš„å®ä¾‹å±æ€§"><span class="toc-number">5.3.</span> <span class="toc-text">KeyboardEvent çš„å®ä¾‹å±æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#KeyboardEvent-altKeyï¼ŒKeyboardEvent-ctrlKeyï¼ŒKeyboardEvent-metaKeyï¼ŒKeyboardEvent-shiftKey"><span class="toc-number">5.3.1.</span> <span class="toc-text">KeyboardEvent.altKeyï¼ŒKeyboardEvent.ctrlKeyï¼ŒKeyboardEvent.metaKeyï¼ŒKeyboardEvent.shiftKey</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#KeyboardEvent-code"><span class="toc-number">5.3.2.</span> <span class="toc-text">KeyboardEvent.code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#KeyboardEvent-key"><span class="toc-number">5.3.3.</span> <span class="toc-text">KeyboardEvent.key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#KeyboardEvent-location"><span class="toc-number">5.3.4.</span> <span class="toc-text">KeyboardEvent.location</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#KeyboardEvent-repeat"><span class="toc-number">5.3.5.</span> <span class="toc-text">KeyboardEvent.repeat</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#KeyboardEvent-çš„å®ä¾‹æ–¹æ³•"><span class="toc-number">5.4.</span> <span class="toc-text">KeyboardEvent çš„å®ä¾‹æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#KeyboardEvent-getModifierState"><span class="toc-number">5.4.1.</span> <span class="toc-text">KeyboardEvent.getModifierState()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#è¿›åº¦äº‹ä»¶"><span class="toc-number">6.</span> <span class="toc-text">è¿›åº¦äº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#è¿›åº¦äº‹ä»¶çš„ç§ç±»"><span class="toc-number">6.1.</span> <span class="toc-text">è¿›åº¦äº‹ä»¶çš„ç§ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ProgressEvent-æ¥å£"><span class="toc-number">6.2.</span> <span class="toc-text">ProgressEvent æ¥å£</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#è¡¨å•äº‹ä»¶"><span class="toc-number">7.</span> <span class="toc-text">è¡¨å•äº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#è¡¨å•äº‹ä»¶çš„ç§ç±»"><span class="toc-number">7.1.</span> <span class="toc-text">è¡¨å•äº‹ä»¶çš„ç§ç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#input-äº‹ä»¶"><span class="toc-number">7.1.1.</span> <span class="toc-text">input äº‹ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#select-äº‹ä»¶"><span class="toc-number">7.1.2.</span> <span class="toc-text">select äº‹ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#change-äº‹ä»¶"><span class="toc-number">7.1.3.</span> <span class="toc-text">change äº‹ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#invalid-äº‹ä»¶"><span class="toc-number">7.1.4.</span> <span class="toc-text">invalid äº‹ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reset-äº‹ä»¶ï¼Œsubmit-äº‹ä»¶"><span class="toc-number">7.1.5.</span> <span class="toc-text">reset äº‹ä»¶ï¼Œsubmit äº‹ä»¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#InputEvent-æ¥å£"><span class="toc-number">7.2.</span> <span class="toc-text">InputEvent æ¥å£</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#è§¦æ‘¸äº‹ä»¶"><span class="toc-number">8.</span> <span class="toc-text">è§¦æ‘¸äº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#è§¦æ‘¸æ“ä½œæ¦‚è¿°"><span class="toc-number">8.1.</span> <span class="toc-text">è§¦æ‘¸æ“ä½œæ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Touch-æ¥å£"><span class="toc-number">8.2.</span> <span class="toc-text">Touch æ¥å£</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Touch-æ¥å£æ¦‚è¿°"><span class="toc-number">8.2.1.</span> <span class="toc-text">Touch æ¥å£æ¦‚è¿°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Touch-æ¥å£çš„å®ä¾‹å±æ€§"><span class="toc-number">8.2.2.</span> <span class="toc-text">Touch æ¥å£çš„å®ä¾‹å±æ€§</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TouchList-æ¥å£"><span class="toc-number">8.3.</span> <span class="toc-text">TouchList æ¥å£</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#TouchEvent-æ¥å£"><span class="toc-number">8.3.1.</span> <span class="toc-text">TouchEvent æ¥å£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æ¦‚è¿°-3"><span class="toc-number">8.3.2.</span> <span class="toc-text">æ¦‚è¿°</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#å®ä¾‹å±æ€§-2"><span class="toc-number">8.3.2.1.</span> <span class="toc-text">å®ä¾‹å±æ€§</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è§¦æ‘¸äº‹ä»¶çš„ç§ç±»"><span class="toc-number">8.4.</span> <span class="toc-text">è§¦æ‘¸äº‹ä»¶çš„ç§ç±»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ‹–æ‹‰äº‹ä»¶"><span class="toc-number">9.</span> <span class="toc-text">æ‹–æ‹‰äº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æ‹–æ‹‰äº‹ä»¶çš„ç§ç±»"><span class="toc-number">9.1.</span> <span class="toc-text">æ‹–æ‹‰äº‹ä»¶çš„ç§ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DragEvent-æ¥å£"><span class="toc-number">9.2.</span> <span class="toc-text">DragEvent æ¥å£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DataTransfer-æ¥å£æ¦‚è¿°"><span class="toc-number">9.3.</span> <span class="toc-text">DataTransfer æ¥å£æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DataTransfer-çš„å®ä¾‹å±æ€§"><span class="toc-number">9.4.</span> <span class="toc-text">DataTransfer çš„å®ä¾‹å±æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#DataTransfer-dropEffect"><span class="toc-number">9.4.1.</span> <span class="toc-text">DataTransfer.dropEffect</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DataTransfer-effectAllowed"><span class="toc-number">9.4.2.</span> <span class="toc-text">DataTransfer.effectAllowed</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DataTransfer-files"><span class="toc-number">9.4.3.</span> <span class="toc-text">DataTransfer.files</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DataTransfer-types"><span class="toc-number">9.4.4.</span> <span class="toc-text">DataTransfer.types</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DataTransfer-items"><span class="toc-number">9.4.5.</span> <span class="toc-text">DataTransfer.items</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DataTransfer-çš„å®ä¾‹æ–¹æ³•"><span class="toc-number">9.4.6.</span> <span class="toc-text">DataTransfer çš„å®ä¾‹æ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#DataTransfer-setData"><span class="toc-number">9.4.6.1.</span> <span class="toc-text">DataTransfer.setData()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DataTransfer-getData"><span class="toc-number">9.4.6.2.</span> <span class="toc-text">DataTransfer.getData()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DataTransfer-clearData"><span class="toc-number">9.4.6.3.</span> <span class="toc-text">DataTransfer.clearData()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DataTransfer-setDragImage"><span class="toc-number">9.4.6.4.</span> <span class="toc-text">DataTransfer.setDragImage()</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å…¶ä»–å¸¸è§äº‹ä»¶"><span class="toc-number">10.</span> <span class="toc-text">å…¶ä»–å¸¸è§äº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#èµ„æºäº‹ä»¶"><span class="toc-number">10.1.</span> <span class="toc-text">èµ„æºäº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#beforeunload-äº‹ä»¶"><span class="toc-number">10.1.1.</span> <span class="toc-text">beforeunload äº‹ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#unload-äº‹ä»¶"><span class="toc-number">10.1.2.</span> <span class="toc-text">unload äº‹ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#load-äº‹ä»¶ï¼Œerror-äº‹ä»¶"><span class="toc-number">10.1.3.</span> <span class="toc-text">load äº‹ä»¶ï¼Œerror äº‹ä»¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#session-å†å²äº‹ä»¶"><span class="toc-number">10.2.</span> <span class="toc-text">session å†å²äº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#pageshow-äº‹ä»¶ï¼Œpagehide-äº‹ä»¶"><span class="toc-number">10.2.1.</span> <span class="toc-text">pageshow äº‹ä»¶ï¼Œpagehide äº‹ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#popstate-äº‹ä»¶"><span class="toc-number">10.2.2.</span> <span class="toc-text">popstate äº‹ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hashchange-äº‹ä»¶"><span class="toc-number">10.2.3.</span> <span class="toc-text">hashchange äº‹ä»¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ç½‘é¡µçŠ¶æ€äº‹ä»¶"><span class="toc-number">10.3.</span> <span class="toc-text">ç½‘é¡µçŠ¶æ€äº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#DOMContentLoaded-äº‹ä»¶"><span class="toc-number">10.3.1.</span> <span class="toc-text">DOMContentLoaded äº‹ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#readystatechange-äº‹ä»¶"><span class="toc-number">10.3.2.</span> <span class="toc-text">readystatechange äº‹ä»¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#çª—å£äº‹ä»¶"><span class="toc-number">10.4.</span> <span class="toc-text">çª—å£äº‹ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#scroll-äº‹ä»¶"><span class="toc-number">10.4.1.</span> <span class="toc-text">scroll äº‹ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#resize-äº‹ä»¶"><span class="toc-number">10.4.2.</span> <span class="toc-text">resize äº‹ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fullscreenchange-äº‹ä»¶ï¼Œfullscreenerror-äº‹ä»¶"><span class="toc-number">10.4.3.</span> <span class="toc-text">fullscreenchange äº‹ä»¶ï¼Œfullscreenerror äº‹ä»¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å‰ªè´´æ¿äº‹ä»¶"><span class="toc-number">10.5.</span> <span class="toc-text">å‰ªè´´æ¿äº‹ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ç„¦ç‚¹äº‹ä»¶"><span class="toc-number">10.6.</span> <span class="toc-text">ç„¦ç‚¹äº‹ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CustomEvent-æ¥å£"><span class="toc-number">10.7.</span> <span class="toc-text">CustomEvent æ¥å£</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GlobalEventHandlers-æ¥å£"><span class="toc-number">11.</span> <span class="toc-text">GlobalEventHandlers æ¥å£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GlobalEventHandlers-onabort"><span class="toc-number">11.1.</span> <span class="toc-text">GlobalEventHandlers.onabort</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GlobalEventHandlers-onerror"><span class="toc-number">11.2.</span> <span class="toc-text">GlobalEventHandlers.onerror</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GlobalEventHandlers-onloadã€GlobalEventHandlers-onloadstart"><span class="toc-number">11.3.</span> <span class="toc-text">GlobalEventHandlers.onloadã€GlobalEventHandlers.onloadstart</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GlobalEventHandlers-onfocusï¼ŒGlobalEventHandlers-onblur"><span class="toc-number">11.4.</span> <span class="toc-text">GlobalEventHandlers.onfocusï¼ŒGlobalEventHandlers.onblur</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GlobalEventHandlers-onscroll"><span class="toc-number">11.5.</span> <span class="toc-text">GlobalEventHandlers.onscroll</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GlobalEventHandlers-oncontextmenuï¼ŒGlobalEventHandlers-onshow"><span class="toc-number">11.6.</span> <span class="toc-text">GlobalEventHandlers.oncontextmenuï¼ŒGlobalEventHandlers.onshow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å…¶ä»–çš„äº‹ä»¶å±æ€§"><span class="toc-number">11.7.</span> <span class="toc-text">å…¶ä»–çš„äº‹ä»¶å±æ€§</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1273994899,2704080463&amp;fm=26&amp;gp=0.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">å‘é˜³æ¦†æœ¨</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/random/"><i class="fa-fw fa fa-random"></i><span> éšæœºæ–‡ç« </span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-th-large" aria-hidden="true"></i><span> å½’æ¡£</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></li><li><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></li><li><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/tagsnet/"><i class="fa-fw fa fa-connectdevelop"></i><span> å…³ç³»ç½‘</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-send-o" aria-hidden="true"></i><span> å¯¼èˆªæ </span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="https://xyyum.icu/mypages/OnlyI.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-send"></i><span> ä¸»é¡µå¯¼èˆª</span></a></li><li><a class="site-page" href="https://xyyum.icu/mypages/xkzhdh/Integrated.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-paper-plane-o"></i><span> ç»¼åˆå¯¼èˆª</span></a></li><li><a class="site-page" href="https://xyyum.icu/mypages/software/index.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-send"></i><span> è½¯ä»¶åˆ†äº«</span></a></li><li><a class="site-page" href="/sunshineBookshelf/"><i class="fa-fw fa fa-university"></i><span> å‘é˜³ä¹¦æ¶</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> åˆ—è¡¨</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/books/"><i class="fa-fw fa fa-book"></i><span> ä¹¦ç±</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> ç”µå½±</span></a></li><li><a class="site-page" href="/games/"><i class="fa-fw fa fa-gamepad"></i><span> æ¸¸æˆ</span></a></li><li><a class="site-page" href="/bilibili/"><i class="fa-fw fa fa-play-circle"></i><span> ç•ªå‰§</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹</span></a></li><li><a class="site-page" href="/movie/"><i class="fa-fw fa fa-play-circle-o"></i><span> å½±è§†</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-link" aria-hidden="true"></i><span> å‹æƒ…é“¾æ¥</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> å‹æƒ…é“¾æ¥</span></a></li><li><a class="site-page" href="https://yumuxy.gitee.io/" target="_blank" rel="noopener"><i class="fa-fw fa fa-link"></i><span> æ¡‘æ¦†æœªæ™š</span></a></li><li><a class="site-page" href="https://lllzxqq.gitee.io/" target="_blank" rel="noopener"><i class="fa-fw fa fa-link"></i><span> ååğŸ’–é›¨å­£</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-user-circle-o" aria-hidden="true"></i><span> å…³äºæˆ‘</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="http://www.xbmu.edu.cn/" target="_blank" rel="noopener"><i class="fa-fw fa fa-graduation-cap"></i><span> æ¯æ ¡</span></a></li><li><a class="site-page" href="/workshop/"><i class="fa-fw fa fa-heartbeat"></i><span> ä½œå“</span></a></li><li><a class="site-page" href="/mybook/"><i class="fa-fw fa fa-book"></i><span> è‡ªä¼ </span></a></li><li><a class="site-page" href="/anires/"><i class="fa-fw fa fa-list-alt"></i><span> ç®€å†</span></a></li><li><a class="site-page" href="/vcard/"><i class="fa-fw fa fa-vcard-o"></i><span> åç‰‡</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-gamepad" aria-hidden="true"></i><span> å¨±ä¹</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="https://playground.z.wiki/typing-game/index.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-gamepad"></i><span> æ‰“å­—æ¸¸æˆ</span></a></li><li><a class="site-page" href="https://xyyum.icu/mypages/GreedySnake/GreedySnake.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-lastfm"></i><span> è´ªåƒè›‡</span></a></li><li><a class="site-page" href="https://xyyum.icu/mypages/nineGridGame/nineGridGame.html" target="_blank" rel="noopener"><i class="fa-fw fa fa-gamepad"></i><span> æŠ½å¥–æ¸¸æˆ</span></a></li><li><a class="site-page" href="/petalage/"><i class="fa-fw fa fa-gamepad"></i><span> è¡¨ç™½æ—¶åˆ»</span></a></li><li><a class="site-page" href="/yszq/"><i class="fa-fw fa fa-gamepad"></i><span> 3Då…ƒç´ </span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-gear (alias)" aria-hidden="true"></i><span> å·¥å…·å¹³å°</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/xkdm/"><i class="fa-fw fa fa-star"></i><span> æ˜Ÿç©ºå¼¹å¹•</span></a></li><li><a class="site-page" href="https://xyym.avosapps.us/" target="_blank" rel="noopener"><i class="fa-fw fa fa-commenting-o"></i><span> è¯„è®ºç®¡ç†</span></a></li><li><a class="site-page" href="https://myhkw.cn/admin/user/login/" target="_blank" rel="noopener"><i class="fa-fw fa fa-music"></i><span> éŸ³ä¹åå°</span></a></li><li><a class="site-page" href="https://www.superbed.cn/" target="_blank" rel="noopener"><i class="fa-fw fa fa-area-chart"></i><span> èšåˆå›¾åºŠ</span></a></li><li><a class="site-page" href="/encryptedPages/"><i class="fa-fw fa fa-lock"></i><span> åŠ å¯†è®¿é—®</span></a></li></ul></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> çºªå¿µç©ºé—´</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/3d-gallery/"><i class="fa-fw fa fa-university"></i><span> 3Dç›¸å†Œå±‹</span></a></li><li><a class="site-page" href="/live-photo/"><i class="fa-fw fa fa-photo"></i><span> é’æ˜¥æ ¡å›­</span></a></li><li><a class="site-page" href="/photo-wall/"><i class="fa-fw fa fa-th"></i><span> ç”Ÿæ´»ç…§ç‰‡</span></a></li><li><a class="site-page" href="/video-wall/"><i class="fa-fw fa fa-video-camera"></i><span> åœ¨çº¿è§†é¢‘</span></a></li><li><a class="site-page" href="/mtxx/"><i class="fa-fw fa fa-file-photo-o"></i><span> ç¾å›¾ç§€ç§€</span></a></li><li><a class="site-page" href="/timeStoryline/"><i class="fa-fw fa fa-file-video-o"></i><span> æ—¶é—´æ•…äº‹çº¿</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">â‘¥JavaScriptæ•™ç¨‹ä¹‹äº‹ä»¶</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="å‘è¡¨äº 2021-10-04 20:49:00"><i class="fa fa-calendar" aria-hidden="true"></i> å‘è¡¨äº 2021-10-04</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="æ›´æ–°äº 2024-12-21 18:14:09"><i class="fa fa-history" aria-hidden="true"></i> æ›´æ–°äº 2024-12-21</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/">å‰ç«¯æŠ€æœ¯</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-comment-o" aria-hidden="true"></i><span>è¯„è®ºæ•°:</span><a href="/2021/10/04/JavaScript%E6%95%99%E7%A8%8B%E4%B9%8B%E4%BA%8B%E4%BB%B6/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/2021/10/04/JavaScript%E6%95%99%E7%A8%8B%E4%B9%8B%E4%BA%8B%E4%BB%B6/" itemprop="commentCount"></span></a></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h2 id="EventTarget-æ¥å£"><a href="#EventTarget-æ¥å£" class="headerlink" title="EventTarget æ¥å£"></a>EventTarget æ¥å£</h2><p>äº‹ä»¶çš„æœ¬è´¨æ˜¯ç¨‹åºå„ä¸ªç»„æˆéƒ¨åˆ†ä¹‹é—´çš„ä¸€ç§é€šä¿¡æ–¹å¼ï¼Œä¹Ÿæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§å®ç°ã€‚DOM æ”¯æŒå¤§é‡çš„äº‹ä»¶ï¼Œæœ¬ç« å¼€å§‹ä»‹ç» DOM çš„äº‹ä»¶ç¼–ç¨‹ã€‚</p>
<p>ä»‹ç»å…·ä½“çš„äº‹ä»¶ä¹‹å‰ï¼Œå…ˆæ¥çœ‹çœ‹å¦‚ä½•è®© DOM èŠ‚ç‚¹ç›‘å¬äº‹ä»¶ã€‚</p>
<h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>DOM èŠ‚ç‚¹çš„äº‹ä»¶æ“ä½œï¼ˆç›‘å¬å’Œè§¦å‘ï¼‰ï¼Œéƒ½å®šä¹‰åœ¨<code>EventTarget</code>æ¥å£ã€‚æ‰€æœ‰èŠ‚ç‚¹å¯¹è±¡éƒ½éƒ¨ç½²äº†è¿™ä¸ªæ¥å£ï¼Œå…¶ä»–ä¸€äº›éœ€è¦äº‹ä»¶é€šä¿¡çš„æµè§ˆå™¨å†…ç½®å¯¹è±¡ï¼ˆæ¯”å¦‚ï¼Œ<code>XMLHttpRequest</code>ã€<code>AudioNode</code>ã€<code>AudioContext</code>ï¼‰ä¹Ÿéƒ¨ç½²äº†è¿™ä¸ªæ¥å£ã€‚</p>
<p>è¯¥æ¥å£ä¸»è¦æä¾›ä¸‰ä¸ªå®ä¾‹æ–¹æ³•ã€‚</p>
<ul>
<li><code>addEventListener()</code>ï¼šç»‘å®šäº‹ä»¶çš„ç›‘å¬å‡½æ•°</li>
<li><code>removeEventListener()</code>ï¼šç§»é™¤äº‹ä»¶çš„ç›‘å¬å‡½æ•°</li>
<li><code>dispatchEvent()</code>ï¼šè§¦å‘äº‹ä»¶</li>
</ul>
<h3 id="EventTarget-addEventListener"><a href="#EventTarget-addEventListener" class="headerlink" title="EventTarget.addEventListener()"></a>EventTarget.addEventListener()</h3><p><code>EventTarget.addEventListener()</code>ç”¨äºåœ¨å½“å‰èŠ‚ç‚¹æˆ–å¯¹è±¡ä¸Šï¼ˆå³éƒ¨ç½²äº† EventTarget æ¥å£çš„å¯¹è±¡ï¼‰ï¼Œå®šä¹‰ä¸€ä¸ªç‰¹å®šäº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚ä¸€æ—¦è¿™ä¸ªäº‹ä»¶å‘ç”Ÿï¼Œå°±ä¼šæ‰§è¡Œç›‘å¬å‡½æ•°ã€‚è¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">target.addEventListener(type, listener[, useCapture]);</span><br></pre></td></tr></table></figure>

<p>è¯¥æ–¹æ³•æ¥å—ä¸‰ä¸ªå‚æ•°ã€‚</p>
<ul>
<li><code>type</code>ï¼šäº‹ä»¶åç§°ï¼Œå¤§å°å†™æ•æ„Ÿã€‚</li>
<li><code>listener</code>ï¼šç›‘å¬å‡½æ•°ã€‚äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œä¼šè°ƒç”¨è¯¥ç›‘å¬å‡½æ•°ã€‚</li>
<li><code>useCapture</code>ï¼šå¸ƒå°”å€¼ï¼Œå¦‚æœè®¾ä¸º<code>true</code>ï¼Œè¡¨ç¤ºç›‘å¬å‡½æ•°å°†åœ¨æ•è·é˜¶æ®µï¼ˆcaptureï¼‰è§¦å‘ï¼ˆå‚è§åæ–‡ã€Šäº‹ä»¶çš„ä¼ æ’­ã€‹éƒ¨åˆ†ï¼‰ã€‚è¯¥å‚æ•°å¯é€‰ï¼Œé»˜è®¤å€¼ä¸º<code>false</code>ï¼ˆç›‘å¬å‡½æ•°åªåœ¨å†’æ³¡é˜¶æ®µè¢«è§¦å‘ï¼‰ã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function hello() &#123;</span><br><span class="line">  console.log(&#39;Hello world&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var button &#x3D; document.getElementById(&#39;btn&#39;);</span><br><span class="line">button.addEventListener(&#39;click&#39;, hello, false);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>button</code>èŠ‚ç‚¹çš„<code>addEventListener()</code>æ–¹æ³•ç»‘å®š<code>click</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°<code>hello()</code>ï¼Œè¯¥å‡½æ•°åªåœ¨å†’æ³¡é˜¶æ®µè§¦å‘ã€‚</p>
<p>å…³äºå‚æ•°ï¼Œæœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„ã€‚</p>
<p>é¦–å…ˆï¼Œç¬¬äºŒä¸ªå‚æ•°é™¤äº†ç›‘å¬å‡½æ•°ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªå…·æœ‰<code>handleEvent</code>æ–¹æ³•çš„å¯¹è±¡ï¼Œæ•ˆæœä¸ç›‘å¬å‡½æ•°ä¸€æ ·ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">buttonElement.addEventListener(&#39;click&#39;, &#123;</span><br><span class="line">  handleEvent: function (event) &#123;</span><br><span class="line">    console.log(&#39;click&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>addEventListener()</code>æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œå°±æ˜¯ä¸€ä¸ªå…·æœ‰<code>handleEvent()</code>æ–¹æ³•çš„å¯¹è±¡ã€‚</p>
<p>å…¶æ¬¡ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°é™¤äº†å¸ƒå°”å€¼<code>useCapture</code>ï¼Œè¿˜å¯ä»¥æ˜¯ä¸€ä¸ªç›‘å¬å™¨é…ç½®å¯¹è±¡ï¼Œå®šåˆ¶äº‹ä»¶ç›‘å¬è¡Œä¸ºã€‚è¯¥å¯¹è±¡æœ‰ä»¥ä¸‹å±æ€§ã€‚</p>
<blockquote>
<ul>
<li><code>capture</code>ï¼šå¸ƒå°”å€¼ï¼Œå¦‚æœè®¾ä¸º<code>true</code>ï¼Œè¡¨ç¤ºç›‘å¬å‡½æ•°åœ¨æ•è·é˜¶æ®µè§¦å‘ï¼Œé»˜è®¤ä¸º<code>false</code>ï¼Œåœ¨å†’æ³¡é˜¶æ®µè§¦å‘ã€‚</li>
<li><code>once</code>ï¼šå¸ƒå°”å€¼ï¼Œå¦‚æœè®¾ä¸º<code>true</code>ï¼Œè¡¨ç¤ºç›‘å¬å‡½æ•°æ‰§è¡Œä¸€æ¬¡å°±ä¼šè‡ªåŠ¨ç§»é™¤ï¼Œåé¢å°†ä¸å†ç›‘å¬è¯¥äº‹ä»¶ã€‚è¯¥å±æ€§é»˜è®¤å€¼ä¸º<code>false</code>ã€‚</li>
<li><code>passive</code>ï¼šå¸ƒå°”å€¼ï¼Œè®¾ä¸º<code>true</code>æ—¶ï¼Œè¡¨ç¤ºç¦æ­¢ç›‘å¬å‡½æ•°è°ƒç”¨<code>preventDefault()</code>æ–¹æ³•ã€‚å¦‚æœè°ƒç”¨äº†ï¼Œæµè§ˆå™¨å°†å¿½ç•¥è¿™ä¸ªè¦æ±‚ï¼Œå¹¶åœ¨æ§åˆ¶å°è¾“å‡ºä¸€æ¡è­¦å‘Šã€‚è¯¥å±æ€§é»˜è®¤å€¼ä¸º<code>false</code>ã€‚</li>
<li><code>signal</code>ï¼šè¯¥å±æ€§çš„å€¼ä¸ºä¸€ä¸ª AbortSignal å¯¹è±¡ï¼Œä¸ºç›‘å¬å™¨è®¾ç½®äº†ä¸€ä¸ªä¿¡å·é€šé“ï¼Œç”¨æ¥åœ¨éœ€è¦æ—¶å‘å‡ºä¿¡å·ï¼Œç§»é™¤ç›‘å¬å‡½æ•°ã€‚</li>
</ul>
</blockquote>
<p>ä¸‹é¢æ˜¯<code>once</code>å±æ€§çš„ä¾‹å­ï¼Œè®©ç›‘å¬å‡½æ•°åªæ‰§è¡Œä¸€æ¬¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">element.addEventListener(&#39;click&#39;, function (event) &#123;</span><br><span class="line">  &#x2F;&#x2F; åªæ‰§è¡Œä¸€æ¬¡çš„ä»£ç </span><br><span class="line">&#125;, &#123;once: true&#125;);</span><br></pre></td></tr></table></figure>

<p><code>addEventListener()</code>æ–¹æ³•å¯ä»¥ä¸ºé’ˆå¯¹å½“å‰å¯¹è±¡çš„åŒä¸€ä¸ªäº‹ä»¶ï¼Œæ·»åŠ å¤šä¸ªä¸åŒçš„ç›‘å¬å‡½æ•°ã€‚è¿™äº›å‡½æ•°æŒ‰ç…§æ·»åŠ é¡ºåºè§¦å‘ï¼Œå³å…ˆæ·»åŠ å…ˆè§¦å‘ã€‚å¦‚æœä¸ºåŒä¸€ä¸ªäº‹ä»¶å¤šæ¬¡æ·»åŠ åŒä¸€ä¸ªç›‘å¬å‡½æ•°ï¼Œè¯¥å‡½æ•°åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¤šä½™çš„æ·»åŠ å°†è‡ªåŠ¨è¢«å»é™¤ï¼ˆä¸å¿…ä½¿ç”¨<code>removeEventListener()</code>æ–¹æ³•æ‰‹åŠ¨å»é™¤ï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function hello() &#123;</span><br><span class="line">  console.log(&#39;Hello world&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.addEventListener(&#39;click&#39;, hello, false);</span><br><span class="line">document.addEventListener(&#39;click&#39;, hello, false);</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸Šé¢ä»£ç ï¼Œç‚¹å‡»æ–‡æ¡£åªä¼šè¾“å‡ºä¸€è¡Œ<code>Hello world</code>ã€‚</p>
<p>å¦‚æœå¸Œæœ›å‘ç›‘å¬å‡½æ•°ä¼ é€’å‚æ•°ï¼Œå¯ä»¥ç”¨åŒ¿åå‡½æ•°åŒ…è£…ä¸€ä¸‹ç›‘å¬å‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function print(x) &#123;</span><br><span class="line">  console.log(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var el &#x3D; document.getElementById(&#39;div1&#39;);</span><br><span class="line">el.addEventListener(&#39;click&#39;, function () &#123; print(&#39;Hello&#39;); &#125;, false);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç é€šè¿‡åŒ¿åå‡½æ•°ï¼Œå‘ç›‘å¬å‡½æ•°<code>print</code>ä¼ é€’äº†ä¸€ä¸ªå‚æ•°ã€‚</p>
<p>ç›‘å¬å‡½æ•°å†…éƒ¨çš„<code>this</code>ï¼ŒæŒ‡å‘å½“å‰äº‹ä»¶æ‰€åœ¨çš„é‚£ä¸ªå¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">&#x2F;&#x2F; &lt;p id&#x3D;&quot;para&quot;&gt;Hello&lt;&#x2F;p&gt;</span><br><span class="line">var para &#x3D; document.getElementById(&#39;para&#39;);</span><br><span class="line">para.addEventListener(&#39;click&#39;, function (e) &#123;</span><br><span class="line">  console.log(this.nodeName); &#x2F;&#x2F; &quot;P&quot;</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç›‘å¬å‡½æ•°å†…éƒ¨çš„<code>this</code>æŒ‡å‘äº‹ä»¶æ‰€åœ¨çš„å¯¹è±¡<code>para</code>ã€‚</p>
<h3 id="EventTarget-removeEventListener"><a href="#EventTarget-removeEventListener" class="headerlink" title="EventTarget.removeEventListener()"></a>EventTarget.removeEventListener()</h3><p><code>EventTarget.removeEventListener()</code>æ–¹æ³•ç”¨æ¥ç§»é™¤<code>addEventListener()</code>æ–¹æ³•æ·»åŠ çš„äº‹ä»¶ç›‘å¬å‡½æ•°ã€‚è¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">div.addEventListener(&#39;click&#39;, listener, false);</span><br><span class="line">div.removeEventListener(&#39;click&#39;, listener, false);</span><br></pre></td></tr></table></figure>

<p><code>removeEventListener()</code>æ–¹æ³•çš„å‚æ•°ï¼Œä¸<code>addEventListener()</code>æ–¹æ³•å®Œå…¨ä¸€è‡´ã€‚å®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°â€œäº‹ä»¶ç±»å‹â€ï¼Œå¤§å°å†™æ•æ„Ÿã€‚</p>
<p>æ³¨æ„ï¼Œ<code>removeEventListener()</code>æ–¹æ³•ç§»é™¤çš„ç›‘å¬å‡½æ•°ï¼Œå¿…é¡»æ˜¯<code>addEventListener()</code>æ–¹æ³•æ·»åŠ çš„é‚£ä¸ªç›‘å¬å‡½æ•°ï¼Œè€Œä¸”å¿…é¡»åœ¨åŒä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼Œå¦åˆ™æ— æ•ˆã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">div.addEventListener(&#39;click&#39;, function (e) &#123;&#125;, false);</span><br><span class="line">div.removeEventListener(&#39;click&#39;, function (e) &#123;&#125;, false);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>removeEventListener()</code>æ–¹æ³•æ— æ•ˆï¼Œå› ä¸ºç›‘å¬å‡½æ•°ä¸æ˜¯åŒä¸€ä¸ªåŒ¿åå‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">element.addEventListener(&#39;mousedown&#39;, handleMouseDown, true);</span><br><span class="line">element.removeEventListener(&quot;mousedown&quot;, handleMouseDown, false);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>removeEventListener()</code>æ–¹æ³•ä¹Ÿæ˜¯æ— æ•ˆçš„ï¼Œå› ä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¸ä¸€æ ·ã€‚</p>
<h3 id="EventTarget-dispatchEvent"><a href="#EventTarget-dispatchEvent" class="headerlink" title="EventTarget.dispatchEvent()"></a>EventTarget.dispatchEvent()</h3><p><code>EventTarget.dispatchEvent()</code>æ–¹æ³•åœ¨å½“å‰èŠ‚ç‚¹ä¸Šè§¦å‘æŒ‡å®šäº‹ä»¶ï¼Œä»è€Œè§¦å‘ç›‘å¬å‡½æ•°çš„æ‰§è¡Œã€‚è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œåªè¦æœ‰ä¸€ä¸ªç›‘å¬å‡½æ•°è°ƒç”¨äº†<code>Event.preventDefault()</code>ï¼Œåˆ™è¿”å›å€¼ä¸º<code>false</code>ï¼Œå¦åˆ™ä¸º<code>true</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">target.dispatchEvent(event)</span><br></pre></td></tr></table></figure>

<p><code>dispatchEvent()</code>æ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ª<code>Event</code>å¯¹è±¡çš„å®ä¾‹ï¼ˆè¯¦è§ã€ŠEvent å¯¹è±¡ã€‹ç« èŠ‚ï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">para.addEventListener(&#39;click&#39;, hello, false);</span><br><span class="line">var event &#x3D; new Event(&#39;click&#39;);</span><br><span class="line">para.dispatchEvent(event);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç åœ¨å½“å‰èŠ‚ç‚¹è§¦å‘äº†<code>click</code>äº‹ä»¶ã€‚</p>
<p>å¦‚æœ<code>dispatchEvent()</code>æ–¹æ³•çš„å‚æ•°ä¸ºç©ºï¼Œæˆ–è€…ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äº‹ä»¶å¯¹è±¡ï¼Œå°†æŠ¥é”™ã€‚</p>
<p>ä¸‹é¢ä»£ç æ ¹æ®<code>dispatchEvent()</code>æ–¹æ³•çš„è¿”å›å€¼ï¼Œåˆ¤æ–­äº‹ä»¶æ˜¯å¦è¢«å–æ¶ˆäº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var canceled &#x3D; !cb.dispatchEvent(event);</span><br><span class="line">if (canceled) &#123;</span><br><span class="line">  console.log(&#39;äº‹ä»¶å–æ¶ˆ&#39;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  console.log(&#39;äº‹ä»¶æœªå–æ¶ˆ&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äº‹ä»¶æ¨¡å‹"><a href="#äº‹ä»¶æ¨¡å‹" class="headerlink" title="äº‹ä»¶æ¨¡å‹"></a>äº‹ä»¶æ¨¡å‹</h2><h3 id="ç›‘å¬å‡½æ•°"><a href="#ç›‘å¬å‡½æ•°" class="headerlink" title="ç›‘å¬å‡½æ•°"></a>ç›‘å¬å‡½æ•°</h3><p>æµè§ˆå™¨çš„äº‹ä»¶æ¨¡å‹ï¼Œå°±æ˜¯é€šè¿‡ç›‘å¬å‡½æ•°ï¼ˆlistenerï¼‰å¯¹äº‹ä»¶åšå‡ºååº”ã€‚äº‹ä»¶å‘ç”Ÿåï¼Œæµè§ˆå™¨ç›‘å¬åˆ°äº†è¿™ä¸ªäº‹ä»¶ï¼Œå°±ä¼šæ‰§è¡Œå¯¹åº”çš„ç›‘å¬å‡½æ•°ã€‚è¿™æ˜¯äº‹ä»¶é©±åŠ¨ç¼–ç¨‹æ¨¡å¼ï¼ˆevent-drivenï¼‰çš„ä¸»è¦ç¼–ç¨‹æ–¹å¼ã€‚</p>
<p>JavaScript æœ‰ä¸‰ç§æ–¹æ³•ï¼Œå¯ä»¥ä¸ºäº‹ä»¶ç»‘å®šç›‘å¬å‡½æ•°ã€‚</p>
<h4 id="HTML-çš„-on-å±æ€§"><a href="#HTML-çš„-on-å±æ€§" class="headerlink" title="HTML çš„ on- å±æ€§"></a>HTML çš„ on- å±æ€§</h4><p>HTML è¯­è¨€å…è®¸åœ¨å…ƒç´ çš„å±æ€§ä¸­ï¼Œç›´æ¥å®šä¹‰æŸäº›äº‹ä»¶çš„ç›‘å¬ä»£ç ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;body onload&#x3D;&quot;doSomething()&quot;&gt;</span><br><span class="line">&lt;div onclick&#x3D;&quot;console.log(&#39;è§¦å‘äº‹ä»¶&#39;)&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸º<code>body</code>èŠ‚ç‚¹çš„<code>load</code>äº‹ä»¶ã€<code>div</code>èŠ‚ç‚¹çš„<code>click</code>äº‹ä»¶ï¼ŒæŒ‡å®šäº†ç›‘å¬ä»£ç ã€‚ä¸€æ—¦äº‹ä»¶å‘ç”Ÿï¼Œå°±ä¼šæ‰§è¡Œè¿™æ®µä»£ç ã€‚</p>
<p>å…ƒç´ çš„äº‹ä»¶ç›‘å¬å±æ€§ï¼Œéƒ½æ˜¯<code>on</code>åŠ ä¸Šäº‹ä»¶åï¼Œæ¯”å¦‚<code>onload</code>å°±æ˜¯<code>on + load</code>ï¼Œè¡¨ç¤º<code>load</code>äº‹ä»¶çš„ç›‘å¬ä»£ç ã€‚</p>
<p>æ³¨æ„ï¼Œè¿™äº›å±æ€§çš„å€¼æ˜¯å°†ä¼šæ‰§è¡Œçš„ä»£ç ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- æ­£ç¡® --&gt;</span><br><span class="line">&lt;body onload&#x3D;&quot;doSomething()&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- é”™è¯¯ --&gt;</span><br><span class="line">&lt;body onload&#x3D;&quot;doSomething&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸€æ—¦æŒ‡å®šçš„äº‹ä»¶å‘ç”Ÿï¼Œ<code>on-</code>å±æ€§çš„å€¼æ˜¯åŸæ ·ä¼ å…¥ JavaScript å¼•æ“æ‰§è¡Œã€‚å› æ­¤å¦‚æœè¦æ‰§è¡Œå‡½æ•°ï¼Œä¸è¦å¿˜è®°åŠ ä¸Šä¸€å¯¹åœ†æ‹¬å·ã€‚</p>
<p>ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æŒ‡å®šçš„ç›‘å¬ä»£ç ï¼Œåªä¼šåœ¨å†’æ³¡é˜¶æ®µè§¦å‘ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div onclick&#x3D;&quot;console.log(2)&quot;&gt;</span><br><span class="line">  &lt;button onclick&#x3D;&quot;console.log(1)&quot;&gt;ç‚¹å‡»&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>&lt;button&gt;</code>æ˜¯<code>&lt;div&gt;</code>çš„å­å…ƒç´ ã€‚<code>&lt;button&gt;</code>çš„<code>click</code>äº‹ä»¶ï¼Œä¹Ÿä¼šè§¦å‘<code>&lt;div&gt;</code>çš„<code>click</code>äº‹ä»¶ã€‚ç”±äº<code>on-</code>å±æ€§çš„ç›‘å¬ä»£ç ï¼Œåªåœ¨å†’æ³¡é˜¶æ®µè§¦å‘ï¼Œæ‰€ä»¥ç‚¹å‡»ç»“æœæ˜¯å…ˆè¾“å‡º<code>1</code>ï¼Œå†è¾“å‡º<code>2</code>ï¼Œå³äº‹ä»¶ä»å­å…ƒç´ å¼€å§‹å†’æ³¡åˆ°çˆ¶å…ƒç´ ã€‚</p>
<p>ç›´æ¥è®¾ç½®<code>on-</code>å±æ€§ï¼Œä¸é€šè¿‡å…ƒç´ èŠ‚ç‚¹çš„<code>setAttribute</code>æ–¹æ³•è®¾ç½®<code>on-</code>å±æ€§ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">el.setAttribute(&#39;onclick&#39;, &#39;doSomething()&#39;);</span><br><span class="line">&#x2F;&#x2F; ç­‰åŒäº</span><br><span class="line">&#x2F;&#x2F; &lt;Element onclick&#x3D;&quot;doSomething()&quot;&gt;</span><br></pre></td></tr></table></figure>

<h4 id="å…ƒç´ èŠ‚ç‚¹çš„äº‹ä»¶å±æ€§"><a href="#å…ƒç´ èŠ‚ç‚¹çš„äº‹ä»¶å±æ€§" class="headerlink" title="å…ƒç´ èŠ‚ç‚¹çš„äº‹ä»¶å±æ€§"></a>å…ƒç´ èŠ‚ç‚¹çš„äº‹ä»¶å±æ€§</h4><p>å…ƒç´ èŠ‚ç‚¹å¯¹è±¡çš„äº‹ä»¶å±æ€§ï¼ŒåŒæ ·å¯ä»¥æŒ‡å®šç›‘å¬å‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">window.onload &#x3D; doSomething;</span><br><span class="line"></span><br><span class="line">div.onclick &#x3D; function (event) &#123;</span><br><span class="line">  console.log(&#39;è§¦å‘äº‹ä»¶&#39;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æŒ‡å®šçš„ç›‘å¬å‡½æ•°ï¼Œä¹Ÿæ˜¯åªä¼šåœ¨å†’æ³¡é˜¶æ®µè§¦å‘ã€‚</p>
<p>æ³¨æ„ï¼Œè¿™ç§æ–¹æ³•ä¸ HTML çš„<code>on-</code>å±æ€§çš„å·®å¼‚æ˜¯ï¼Œå®ƒçš„å€¼æ˜¯å‡½æ•°åï¼ˆ<code>doSomething</code>ï¼‰ï¼Œè€Œä¸åƒåè€…ï¼Œå¿…é¡»ç»™å‡ºå®Œæ•´çš„ç›‘å¬ä»£ç ï¼ˆ<code>doSomething()</code>ï¼‰ã€‚</p>
<h4 id="EventTarget-addEventListener-1"><a href="#EventTarget-addEventListener-1" class="headerlink" title="EventTarget.addEventListener()"></a>EventTarget.addEventListener()</h4><p>æ‰€æœ‰ DOM èŠ‚ç‚¹å®ä¾‹éƒ½æœ‰<code>addEventListener</code>æ–¹æ³•ï¼Œç”¨æ¥ä¸ºè¯¥èŠ‚ç‚¹å®šä¹‰äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&#39;load&#39;, doSomething, false);</span><br></pre></td></tr></table></figure>

<p><code>addEventListener</code>æ–¹æ³•çš„è¯¦ç»†ä»‹ç»ï¼Œå‚è§<code>EventTarget</code>ç« èŠ‚ã€‚</p>
<h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>ä¸Šé¢ä¸‰ç§æ–¹æ³•ï¼Œç¬¬ä¸€ç§â€œHTML çš„ on- å±æ€§â€ï¼Œè¿åäº† HTML ä¸ JavaScript ä»£ç ç›¸åˆ†ç¦»çš„åŸåˆ™ï¼Œå°†ä¸¤è€…å†™åœ¨ä¸€èµ·ï¼Œä¸åˆ©äºä»£ç åˆ†å·¥ï¼Œå› æ­¤ä¸æ¨èä½¿ç”¨ã€‚</p>
<p>ç¬¬äºŒç§â€œå…ƒç´ èŠ‚ç‚¹çš„äº‹ä»¶å±æ€§â€çš„ç¼ºç‚¹åœ¨äºï¼ŒåŒä¸€ä¸ªäº‹ä»¶åªèƒ½å®šä¹‰ä¸€ä¸ªç›‘å¬å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå®šä¹‰ä¸¤æ¬¡<code>onclick</code>å±æ€§ï¼Œåä¸€æ¬¡å®šä¹‰ä¼šè¦†ç›–å‰ä¸€æ¬¡ã€‚å› æ­¤ï¼Œä¹Ÿä¸æ¨èä½¿ç”¨ã€‚</p>
<p>ç¬¬ä¸‰ç§<code>EventTarget.addEventListener</code>æ˜¯æ¨èçš„æŒ‡å®šç›‘å¬å‡½æ•°çš„æ–¹æ³•ã€‚å®ƒæœ‰å¦‚ä¸‹ä¼˜ç‚¹ï¼š</p>
<ul>
<li>åŒä¸€ä¸ªäº‹ä»¶å¯ä»¥æ·»åŠ å¤šä¸ªç›‘å¬å‡½æ•°ã€‚</li>
<li>èƒ½å¤ŸæŒ‡å®šåœ¨å“ªä¸ªé˜¶æ®µï¼ˆæ•è·é˜¶æ®µè¿˜æ˜¯å†’æ³¡é˜¶æ®µï¼‰è§¦å‘ç›‘å¬å‡½æ•°ã€‚</li>
<li>é™¤äº† DOM èŠ‚ç‚¹ï¼Œå…¶ä»–å¯¹è±¡ï¼ˆæ¯”å¦‚<code>window</code>ã€<code>XMLHttpRequest</code>ç­‰ï¼‰ä¹Ÿæœ‰è¿™ä¸ªæ¥å£ï¼Œå®ƒç­‰äºæ˜¯æ•´ä¸ª JavaScript ç»Ÿä¸€çš„ç›‘å¬å‡½æ•°æ¥å£ã€‚</li>
</ul>
<h3 id="this-çš„æŒ‡å‘"><a href="#this-çš„æŒ‡å‘" class="headerlink" title="this çš„æŒ‡å‘"></a>this çš„æŒ‡å‘</h3><p>ç›‘å¬å‡½æ•°å†…éƒ¨çš„<code>this</code>æŒ‡å‘è§¦å‘äº‹ä»¶çš„é‚£ä¸ªå…ƒç´ èŠ‚ç‚¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button id&#x3D;&quot;btn&quot; onclick&#x3D;&quot;console.log(this.id)&quot;&gt;ç‚¹å‡»&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸Šé¢ä»£ç ï¼Œç‚¹å‡»åä¼šè¾“å‡º<code>btn</code>ã€‚</p>
<p>å…¶ä»–ä¸¤ç§ç›‘å¬å‡½æ•°çš„å†™æ³•ï¼Œ<code>this</code>çš„æŒ‡å‘ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">&#x2F;&#x2F; &lt;button id&#x3D;&quot;btn&quot;&gt;ç‚¹å‡»&lt;&#x2F;button&gt;</span><br><span class="line">var btn &#x3D; document.getElementById(&#39;btn&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å†™æ³•ä¸€</span><br><span class="line">btn.onclick &#x3D; function () &#123;</span><br><span class="line">  console.log(this.id);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å†™æ³•äºŒ</span><br><span class="line">btn.addEventListener(</span><br><span class="line">  &#39;click&#39;,</span><br><span class="line">  function (e) &#123;</span><br><span class="line">    console.log(this.id);</span><br><span class="line">  &#125;,</span><br><span class="line">  false</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä¸¤ç§å†™æ³•ï¼Œç‚¹å‡»æŒ‰é’®ä»¥åä¹Ÿæ˜¯è¾“å‡º<code>btn</code>ã€‚</p>
<h3 id="äº‹ä»¶çš„ä¼ æ’­"><a href="#äº‹ä»¶çš„ä¼ æ’­" class="headerlink" title="äº‹ä»¶çš„ä¼ æ’­"></a>äº‹ä»¶çš„ä¼ æ’­</h3><p>ä¸€ä¸ªäº‹ä»¶å‘ç”Ÿåï¼Œä¼šåœ¨å­å…ƒç´ å’Œçˆ¶å…ƒç´ ä¹‹é—´ä¼ æ’­ï¼ˆpropagationï¼‰ã€‚è¿™ç§ä¼ æ’­åˆ†æˆä¸‰ä¸ªé˜¶æ®µã€‚</p>
<ul>
<li><strong>ç¬¬ä¸€é˜¶æ®µ</strong>ï¼šä»<code>window</code>å¯¹è±¡ä¼ å¯¼åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼ˆä¸Šå±‚ä¼ åˆ°åº•å±‚ï¼‰ï¼Œç§°ä¸ºâ€œæ•è·é˜¶æ®µâ€ï¼ˆcapture phaseï¼‰ã€‚</li>
<li><strong>ç¬¬äºŒé˜¶æ®µ</strong>ï¼šåœ¨ç›®æ ‡èŠ‚ç‚¹ä¸Šè§¦å‘ï¼Œç§°ä¸ºâ€œç›®æ ‡é˜¶æ®µâ€ï¼ˆtarget phaseï¼‰ã€‚</li>
<li><strong>ç¬¬ä¸‰é˜¶æ®µ</strong>ï¼šä»ç›®æ ‡èŠ‚ç‚¹ä¼ å¯¼å›<code>window</code>å¯¹è±¡ï¼ˆä»åº•å±‚ä¼ å›ä¸Šå±‚ï¼‰ï¼Œç§°ä¸ºâ€œå†’æ³¡é˜¶æ®µâ€ï¼ˆbubbling phaseï¼‰ã€‚</li>
</ul>
<p>è¿™ç§ä¸‰é˜¶æ®µçš„ä¼ æ’­æ¨¡å‹ï¼Œä½¿å¾—åŒä¸€ä¸ªäº‹ä»¶ä¼šåœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šè§¦å‘ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;p&gt;ç‚¹å‡»&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>&lt;div&gt;</code>èŠ‚ç‚¹ä¹‹ä¸­æœ‰ä¸€ä¸ª<code>&lt;p&gt;</code>èŠ‚ç‚¹ã€‚</p>
<p>å¦‚æœå¯¹è¿™ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œéƒ½è®¾ç½®<code>click</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ï¼ˆæ¯ä¸ªèŠ‚ç‚¹çš„æ•è·é˜¶æ®µå’Œå†’æ³¡é˜¶æ®µï¼Œå„è®¾ç½®ä¸€ä¸ªç›‘å¬å‡½æ•°ï¼‰ï¼Œå…±è®¡è®¾ç½®å››ä¸ªç›‘å¬å‡½æ•°ã€‚ç„¶åï¼Œå¯¹<code>&lt;p&gt;</code>ç‚¹å‡»ï¼Œ<code>click</code>äº‹ä»¶ä¼šè§¦å‘å››æ¬¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">var phases &#x3D; &#123;</span><br><span class="line">  1: &#39;capture&#39;,</span><br><span class="line">  2: &#39;target&#39;,</span><br><span class="line">  3: &#39;bubble&#39;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var div &#x3D; document.querySelector(&#39;div&#39;);</span><br><span class="line">var p &#x3D; document.querySelector(&#39;p&#39;);</span><br><span class="line"></span><br><span class="line">div.addEventListener(&#39;click&#39;, callback, true);</span><br><span class="line">p.addEventListener(&#39;click&#39;, callback, true);</span><br><span class="line">div.addEventListener(&#39;click&#39;, callback, false);</span><br><span class="line">p.addEventListener(&#39;click&#39;, callback, false);</span><br><span class="line"></span><br><span class="line">function callback(event) &#123;</span><br><span class="line">  var tag &#x3D; event.currentTarget.tagName;</span><br><span class="line">  var phase &#x3D; phases[event.eventPhase];</span><br><span class="line">  console.log(&quot;Tag: &#39;&quot; + tag + &quot;&#39;. EventPhase: &#39;&quot; + phase + &quot;&#39;&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ç‚¹å‡»ä»¥åçš„ç»“æœ</span><br><span class="line">&#x2F;&#x2F; Tag: &#39;DIV&#39;. EventPhase: &#39;capture&#39;</span><br><span class="line">&#x2F;&#x2F; Tag: &#39;P&#39;. EventPhase: &#39;target&#39;</span><br><span class="line">&#x2F;&#x2F; Tag: &#39;P&#39;. EventPhase: &#39;target&#39;</span><br><span class="line">&#x2F;&#x2F; Tag: &#39;DIV&#39;. EventPhase: &#39;bubble&#39;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œ<code>click</code>äº‹ä»¶è¢«è§¦å‘äº†å››æ¬¡ï¼š<code>&lt;div&gt;</code>èŠ‚ç‚¹çš„æ•è·é˜¶æ®µå’Œå†’æ³¡é˜¶æ®µå„1æ¬¡ï¼Œ<code>&lt;p&gt;</code>èŠ‚ç‚¹çš„ç›®æ ‡é˜¶æ®µè§¦å‘äº†2æ¬¡ã€‚</p>
<ol>
<li>æ•è·é˜¶æ®µï¼šäº‹ä»¶ä»<code>&lt;div&gt;</code>å‘<code>&lt;p&gt;</code>ä¼ æ’­æ—¶ï¼Œè§¦å‘<code>&lt;div&gt;</code>çš„<code>click</code>äº‹ä»¶ï¼›</li>
<li>ç›®æ ‡é˜¶æ®µï¼šäº‹ä»¶ä»<code>&lt;div&gt;</code>åˆ°è¾¾<code>&lt;p&gt;</code>æ—¶ï¼Œè§¦å‘<code>&lt;p&gt;</code>çš„<code>click</code>äº‹ä»¶ï¼›</li>
<li>å†’æ³¡é˜¶æ®µï¼šäº‹ä»¶ä»<code>&lt;p&gt;</code>ä¼ å›<code>&lt;div&gt;</code>æ—¶ï¼Œå†æ¬¡è§¦å‘<code>&lt;div&gt;</code>çš„<code>click</code>äº‹ä»¶ã€‚</li>
</ol>
<p>å…¶ä¸­ï¼Œ<code>&lt;p&gt;</code>èŠ‚ç‚¹æœ‰ä¸¤ä¸ªç›‘å¬å‡½æ•°ï¼ˆ<code>addEventListener</code>æ–¹æ³•ç¬¬ä¸‰ä¸ªå‚æ•°çš„ä¸åŒï¼Œä¼šå¯¼è‡´ç»‘å®šä¸¤ä¸ªç›‘å¬å‡½æ•°ï¼‰ï¼Œå› æ­¤å®ƒä»¬éƒ½ä¼šå› ä¸º<code>click</code>äº‹ä»¶è§¦å‘ä¸€æ¬¡ã€‚æ‰€ä»¥ï¼Œ<code>&lt;p&gt;</code>ä¼šåœ¨<code>target</code>é˜¶æ®µæœ‰ä¸¤æ¬¡è¾“å‡ºã€‚</p>
<p>æ³¨æ„ï¼Œæµè§ˆå™¨æ€»æ˜¯å‡å®š<code>click</code>äº‹ä»¶çš„ç›®æ ‡èŠ‚ç‚¹ï¼Œå°±æ˜¯ç‚¹å‡»ä½ç½®åµŒå¥—æœ€æ·±çš„é‚£ä¸ªèŠ‚ç‚¹ï¼ˆæœ¬ä¾‹æ˜¯<code>&lt;div&gt;</code>èŠ‚ç‚¹é‡Œé¢çš„<code>&lt;p&gt;</code>èŠ‚ç‚¹ï¼‰ã€‚æ‰€ä»¥ï¼Œ<code>&lt;p&gt;</code>èŠ‚ç‚¹çš„æ•è·é˜¶æ®µå’Œå†’æ³¡é˜¶æ®µï¼Œéƒ½ä¼šæ˜¾ç¤ºä¸º<code>target</code>é˜¶æ®µã€‚</p>
<p>äº‹ä»¶ä¼ æ’­çš„æœ€ä¸Šå±‚å¯¹è±¡æ˜¯<code>window</code>ï¼Œæ¥ç€ä¾æ¬¡æ˜¯<code>document</code>ï¼Œ<code>html</code>ï¼ˆ<code>document.documentElement</code>ï¼‰å’Œ<code>body</code>ï¼ˆ<code>document.body</code>ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šä¾‹çš„äº‹ä»¶ä¼ æ’­é¡ºåºï¼Œåœ¨æ•è·é˜¶æ®µä¾æ¬¡ä¸º<code>window</code>ã€<code>document</code>ã€<code>html</code>ã€<code>body</code>ã€<code>div</code>ã€<code>p</code>ï¼Œåœ¨å†’æ³¡é˜¶æ®µä¾æ¬¡ä¸º<code>p</code>ã€<code>div</code>ã€<code>body</code>ã€<code>html</code>ã€<code>document</code>ã€<code>window</code>ã€‚</p>
<h3 id="äº‹ä»¶çš„ä»£ç†"><a href="#äº‹ä»¶çš„ä»£ç†" class="headerlink" title="äº‹ä»¶çš„ä»£ç†"></a>äº‹ä»¶çš„ä»£ç†</h3><p>ç”±äºäº‹ä»¶ä¼šåœ¨å†’æ³¡é˜¶æ®µå‘ä¸Šä¼ æ’­åˆ°çˆ¶èŠ‚ç‚¹ï¼Œå› æ­¤å¯ä»¥æŠŠå­èŠ‚ç‚¹çš„ç›‘å¬å‡½æ•°å®šä¹‰åœ¨çˆ¶èŠ‚ç‚¹ä¸Šï¼Œç”±çˆ¶èŠ‚ç‚¹çš„ç›‘å¬å‡½æ•°ç»Ÿä¸€å¤„ç†å¤šä¸ªå­å…ƒç´ çš„äº‹ä»¶ã€‚è¿™ç§æ–¹æ³•å«åšäº‹ä»¶çš„ä»£ç†ï¼ˆdelegationï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var ul &#x3D; document.querySelector(&#39;ul&#39;);</span><br><span class="line"></span><br><span class="line">ul.addEventListener(&#39;click&#39;, function (event) &#123;</span><br><span class="line">  if (event.target.tagName.toLowerCase() &#x3D;&#x3D;&#x3D; &#39;li&#39;) &#123;</span><br><span class="line">    &#x2F;&#x2F; some code</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>click</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°å®šä¹‰åœ¨<code>&lt;ul&gt;</code>èŠ‚ç‚¹ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œå®ƒå¤„ç†çš„æ˜¯å­èŠ‚ç‚¹<code>&lt;li&gt;</code>çš„<code>click</code>äº‹ä»¶ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œåªè¦å®šä¹‰ä¸€ä¸ªç›‘å¬å‡½æ•°ï¼Œå°±èƒ½å¤„ç†å¤šä¸ªå­èŠ‚ç‚¹çš„äº‹ä»¶ï¼Œè€Œä¸ç”¨åœ¨æ¯ä¸ª<code>&lt;li&gt;</code>èŠ‚ç‚¹ä¸Šå®šä¹‰ç›‘å¬å‡½æ•°ã€‚è€Œä¸”ä»¥åå†æ·»åŠ å­èŠ‚ç‚¹ï¼Œç›‘å¬å‡½æ•°ä¾ç„¶æœ‰æ•ˆã€‚</p>
<p>å¦‚æœå¸Œæœ›äº‹ä»¶åˆ°æŸä¸ªèŠ‚ç‚¹ä¸ºæ­¢ï¼Œä¸å†ä¼ æ’­ï¼Œå¯ä»¥ä½¿ç”¨äº‹ä»¶å¯¹è±¡çš„<code>stopPropagation</code>æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; äº‹ä»¶ä¼ æ’­åˆ° p å…ƒç´ åï¼Œå°±ä¸å†å‘ä¸‹ä¼ æ’­äº†</span><br><span class="line">p.addEventListener(&#39;click&#39;, function (event) &#123;</span><br><span class="line">  event.stopPropagation();</span><br><span class="line">&#125;, true);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; äº‹ä»¶å†’æ³¡åˆ° p å…ƒç´ åï¼Œå°±ä¸å†å‘ä¸Šå†’æ³¡äº†</span><br><span class="line">p.addEventListener(&#39;click&#39;, function (event) &#123;</span><br><span class="line">  event.stopPropagation();</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>stopPropagation</code>æ–¹æ³•åˆ†åˆ«åœ¨æ•è·é˜¶æ®µå’Œå†’æ³¡é˜¶æ®µï¼Œé˜»æ­¢äº†äº‹ä»¶çš„ä¼ æ’­ã€‚</p>
<p>ä½†æ˜¯ï¼Œ<code>stopPropagation</code>æ–¹æ³•åªä¼šé˜»æ­¢äº‹ä»¶çš„ä¼ æ’­ï¼Œä¸ä¼šé˜»æ­¢è¯¥äº‹ä»¶è§¦å‘<code>&lt;p&gt;</code>èŠ‚ç‚¹çš„å…¶ä»–<code>click</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸æ˜¯å½»åº•å–æ¶ˆ<code>click</code>äº‹ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">p.addEventListener(&#39;click&#39;, function (event) &#123;</span><br><span class="line">  event.stopPropagation();</span><br><span class="line">  console.log(1);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">p.addEventListener(&#39;click&#39;, function(event) &#123;</span><br><span class="line">  &#x2F;&#x2F; ä¼šè§¦å‘</span><br><span class="line">  console.log(2);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>p</code>å…ƒç´ ç»‘å®šäº†ä¸¤ä¸ª<code>click</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚<code>stopPropagation</code>æ–¹æ³•åªèƒ½é˜»æ­¢è¿™ä¸ªäº‹ä»¶çš„ä¼ æ’­ï¼Œä¸èƒ½å–æ¶ˆè¿™ä¸ªäº‹ä»¶ï¼Œå› æ­¤ï¼Œç¬¬äºŒä¸ªç›‘å¬å‡½æ•°ä¼šè§¦å‘ã€‚è¾“å‡ºç»“æœä¼šå…ˆæ˜¯1ï¼Œç„¶åæ˜¯2ã€‚</p>
<p>å¦‚æœæƒ³è¦å½»åº•å–æ¶ˆè¯¥äº‹ä»¶ï¼Œä¸å†è§¦å‘åé¢æ‰€æœ‰<code>click</code>çš„ç›‘å¬å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨<code>stopImmediatePropagation</code>æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">p.addEventListener(&#39;click&#39;, function (event) &#123;</span><br><span class="line">  event.stopImmediatePropagation();</span><br><span class="line">  console.log(1);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">p.addEventListener(&#39;click&#39;, function(event) &#123;</span><br><span class="line">  &#x2F;&#x2F; ä¸ä¼šè¢«è§¦å‘</span><br><span class="line">  console.log(2);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>stopImmediatePropagation</code>æ–¹æ³•å¯ä»¥å½»åº•å–æ¶ˆè¿™ä¸ªäº‹ä»¶ï¼Œä½¿å¾—åé¢ç»‘å®šçš„æ‰€æœ‰<code>click</code>ç›‘å¬å‡½æ•°éƒ½ä¸å†è§¦å‘ã€‚æ‰€ä»¥ï¼Œåªä¼šè¾“å‡º1ï¼Œä¸ä¼šè¾“å‡º2ã€‚</p>
<h2 id="Event-å¯¹è±¡"><a href="#Event-å¯¹è±¡" class="headerlink" title="Event å¯¹è±¡"></a>Event å¯¹è±¡</h2><h3 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>äº‹ä»¶å‘ç”Ÿä»¥åï¼Œä¼šäº§ç”Ÿä¸€ä¸ªäº‹ä»¶å¯¹è±¡ï¼Œä½œä¸ºå‚æ•°ä¼ ç»™ç›‘å¬å‡½æ•°ã€‚æµè§ˆå™¨åŸç”Ÿæä¾›ä¸€ä¸ª<code>Event</code>å¯¹è±¡ï¼Œæ‰€æœ‰çš„äº‹ä»¶éƒ½æ˜¯è¿™ä¸ªå¯¹è±¡çš„å®ä¾‹ï¼Œæˆ–è€…è¯´ç»§æ‰¿äº†<code>Event.prototype</code>å¯¹è±¡ã€‚</p>
<p><code>Event</code>å¯¹è±¡æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥ç”Ÿæˆæ–°çš„å®ä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event &#x3D; new Event(type, options);</span><br></pre></td></tr></table></figure>

<p><code>Event</code>æ„é€ å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°<code>type</code>æ˜¯å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºäº‹ä»¶çš„åç§°ï¼›ç¬¬äºŒä¸ªå‚æ•°<code>options</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºäº‹ä»¶å¯¹è±¡çš„é…ç½®ã€‚è¯¥å¯¹è±¡ä¸»è¦æœ‰ä¸‹é¢ä¸¤ä¸ªå±æ€§ã€‚</p>
<ul>
<li><code>bubbles</code>ï¼šå¸ƒå°”å€¼ï¼Œå¯é€‰ï¼Œé»˜è®¤ä¸º<code>false</code>ï¼Œè¡¨ç¤ºäº‹ä»¶å¯¹è±¡æ˜¯å¦å†’æ³¡ã€‚</li>
<li><code>cancelable</code>ï¼šå¸ƒå°”å€¼ï¼Œå¯é€‰ï¼Œé»˜è®¤ä¸º<code>false</code>ï¼Œè¡¨ç¤ºäº‹ä»¶æ˜¯å¦å¯ä»¥è¢«å–æ¶ˆï¼Œå³èƒ½å¦ç”¨<code>Event.preventDefault()</code>å–æ¶ˆè¿™ä¸ªäº‹ä»¶ã€‚ä¸€æ—¦äº‹ä»¶è¢«å–æ¶ˆï¼Œå°±å¥½åƒä»æ¥æ²¡æœ‰å‘ç”Ÿè¿‡ï¼Œä¸ä¼šè§¦å‘æµè§ˆå™¨å¯¹è¯¥äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var ev &#x3D; new Event(</span><br><span class="line">  &#39;look&#39;,</span><br><span class="line">  &#123;</span><br><span class="line">    &#39;bubbles&#39;: true,</span><br><span class="line">    &#39;cancelable&#39;: false</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line">document.dispatchEvent(ev);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç æ–°å»ºä¸€ä¸ª<code>look</code>äº‹ä»¶å®ä¾‹ï¼Œç„¶åä½¿ç”¨<code>dispatchEvent</code>æ–¹æ³•è§¦å‘è¯¥äº‹ä»¶ã€‚</p>
<p>æ³¨æ„ï¼Œå¦‚æœä¸æ˜¯æ˜¾å¼æŒ‡å®š<code>bubbles</code>å±æ€§ä¸º<code>true</code>ï¼Œç”Ÿæˆçš„äº‹ä»¶å°±åªèƒ½åœ¨â€œæ•è·é˜¶æ®µâ€è§¦å‘ç›‘å¬å‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç ä¸º</span><br><span class="line">&#x2F;&#x2F; &lt;div&gt;&lt;p&gt;Hello&lt;&#x2F;p&gt;&lt;&#x2F;div&gt;</span><br><span class="line">var div &#x3D; document.querySelector(&#39;div&#39;);</span><br><span class="line">var p &#x3D; document.querySelector(&#39;p&#39;);</span><br><span class="line"></span><br><span class="line">function callback(event) &#123;</span><br><span class="line">  var tag &#x3D; event.currentTarget.tagName;</span><br><span class="line">  console.log(&#39;Tag: &#39; + tag); &#x2F;&#x2F; æ²¡æœ‰ä»»ä½•è¾“å‡º</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.addEventListener(&#39;click&#39;, callback, false);</span><br><span class="line"></span><br><span class="line">var click &#x3D; new Event(&#39;click&#39;);</span><br><span class="line">p.dispatchEvent(click);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>p</code>å…ƒç´ å‘å‡ºä¸€ä¸ª<code>click</code>äº‹ä»¶ï¼Œè¯¥äº‹ä»¶é»˜è®¤ä¸ä¼šå†’æ³¡ã€‚<code>div.addEventListener</code>æ–¹æ³•æŒ‡å®šåœ¨å†’æ³¡é˜¶æ®µç›‘å¬ï¼Œå› æ­¤ç›‘å¬å‡½æ•°ä¸ä¼šè§¦å‘ã€‚å¦‚æœå†™æˆ<code>div.addEventListener(&#39;click&#39;, callback, true)</code>ï¼Œé‚£ä¹ˆåœ¨â€œæ•è·é˜¶æ®µâ€å¯ä»¥ç›‘å¬åˆ°è¿™ä¸ªäº‹ä»¶ã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œå¦‚æœè¿™ä¸ªäº‹ä»¶åœ¨<code>div</code>å…ƒç´ ä¸Šè§¦å‘ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">div.dispatchEvent(click);</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆï¼Œä¸ç®¡<code>div</code>å…ƒç´ æ˜¯åœ¨å†’æ³¡é˜¶æ®µç›‘å¬ï¼Œè¿˜æ˜¯åœ¨æ•è·é˜¶æ®µç›‘å¬ï¼Œéƒ½ä¼šè§¦å‘ç›‘å¬å‡½æ•°ã€‚å› ä¸ºè¿™æ—¶<code>div</code>å…ƒç´ æ˜¯äº‹ä»¶çš„ç›®æ ‡ï¼Œä¸å­˜åœ¨æ˜¯å¦å†’æ³¡çš„é—®é¢˜ï¼Œ<code>div</code>å…ƒç´ æ€»æ˜¯ä¼šæ¥æ”¶åˆ°äº‹ä»¶ï¼Œå› æ­¤å¯¼è‡´ç›‘å¬å‡½æ•°ç”Ÿæ•ˆã€‚</p>
<h3 id="å®ä¾‹å±æ€§"><a href="#å®ä¾‹å±æ€§" class="headerlink" title="å®ä¾‹å±æ€§"></a>å®ä¾‹å±æ€§</h3><h4 id="Event-bubblesï¼ŒEvent-eventPhase"><a href="#Event-bubblesï¼ŒEvent-eventPhase" class="headerlink" title="Event.bubblesï¼ŒEvent.eventPhase"></a>Event.bubblesï¼ŒEvent.eventPhase</h4><p><code>Event.bubbles</code>å±æ€§è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå½“å‰äº‹ä»¶æ˜¯å¦ä¼šå†’æ³¡ã€‚è¯¥å±æ€§ä¸ºåªè¯»å±æ€§ï¼Œä¸€èˆ¬ç”¨æ¥äº†è§£ Event å®ä¾‹æ˜¯å¦å¯ä»¥å†’æ³¡ã€‚å‰é¢è¯´è¿‡ï¼Œé™¤éæ˜¾å¼å£°æ˜ï¼Œ<code>Event</code>æ„é€ å‡½æ•°ç”Ÿæˆçš„äº‹ä»¶ï¼Œé»˜è®¤æ˜¯ä¸å†’æ³¡çš„ã€‚</p>
<p><code>Event.eventPhase</code>å±æ€§è¿”å›ä¸€ä¸ªæ•´æ•°å¸¸é‡ï¼Œè¡¨ç¤ºäº‹ä»¶ç›®å‰æ‰€å¤„çš„é˜¶æ®µã€‚è¯¥å±æ€§åªè¯»ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var phase &#x3D; event.eventPhase;</span><br></pre></td></tr></table></figure>

<p><code>Event.eventPhase</code>çš„è¿”å›å€¼æœ‰å››ç§å¯èƒ½ã€‚</p>
<ul>
<li>0ï¼Œäº‹ä»¶ç›®å‰æ²¡æœ‰å‘ç”Ÿã€‚</li>
<li>1ï¼Œäº‹ä»¶ç›®å‰å¤„äºæ•è·é˜¶æ®µï¼Œå³å¤„äºä»ç¥–å…ˆèŠ‚ç‚¹å‘ç›®æ ‡èŠ‚ç‚¹çš„ä¼ æ’­è¿‡ç¨‹ä¸­ã€‚</li>
<li>2ï¼Œäº‹ä»¶åˆ°è¾¾ç›®æ ‡èŠ‚ç‚¹ï¼Œå³<code>Event.target</code>å±æ€§æŒ‡å‘çš„é‚£ä¸ªèŠ‚ç‚¹ã€‚</li>
<li>3ï¼Œäº‹ä»¶å¤„äºå†’æ³¡é˜¶æ®µï¼Œå³å¤„äºä»ç›®æ ‡èŠ‚ç‚¹å‘ç¥–å…ˆèŠ‚ç‚¹çš„åå‘ä¼ æ’­è¿‡ç¨‹ä¸­ã€‚</li>
</ul>
<h4 id="Event-cancelableï¼ŒEvent-cancelBubbleï¼Œevent-defaultPrevented"><a href="#Event-cancelableï¼ŒEvent-cancelBubbleï¼Œevent-defaultPrevented" class="headerlink" title="Event.cancelableï¼ŒEvent.cancelBubbleï¼Œevent.defaultPrevented"></a>Event.cancelableï¼ŒEvent.cancelBubbleï¼Œevent.defaultPrevented</h4><p><code>Event.cancelable</code>å±æ€§è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºäº‹ä»¶æ˜¯å¦å¯ä»¥å–æ¶ˆã€‚è¯¥å±æ€§ä¸ºåªè¯»å±æ€§ï¼Œä¸€èˆ¬ç”¨æ¥äº†è§£ Event å®ä¾‹çš„ç‰¹æ€§ã€‚</p>
<p>å¤§å¤šæ•°æµè§ˆå™¨çš„åŸç”Ÿäº‹ä»¶æ˜¯å¯ä»¥å–æ¶ˆçš„ã€‚æ¯”å¦‚ï¼Œå–æ¶ˆ<code>click</code>äº‹ä»¶ï¼Œç‚¹å‡»é“¾æ¥å°†æ— æ•ˆã€‚ä½†æ˜¯é™¤éæ˜¾å¼å£°æ˜ï¼Œ<code>Event</code>æ„é€ å‡½æ•°ç”Ÿæˆçš„äº‹ä»¶ï¼Œé»˜è®¤æ˜¯ä¸å¯ä»¥å–æ¶ˆçš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var evt &#x3D; new Event(&#39;foo&#39;);</span><br><span class="line">evt.cancelable  &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<p>å½“<code>Event.cancelable</code>å±æ€§ä¸º<code>true</code>æ—¶ï¼Œè°ƒç”¨<code>Event.preventDefault()</code>å°±å¯ä»¥å–æ¶ˆè¿™ä¸ªäº‹ä»¶ï¼Œé˜»æ­¢æµè§ˆå™¨å¯¹è¯¥äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚</p>
<p>å¦‚æœäº‹ä»¶ä¸èƒ½å–æ¶ˆï¼Œè°ƒç”¨<code>Event.preventDefault()</code>ä¼šæ²¡æœ‰ä»»ä½•æ•ˆæœã€‚æ‰€ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä¹‹å‰ï¼Œæœ€å¥½ç”¨<code>Event.cancelable</code>å±æ€§åˆ¤æ–­ä¸€ä¸‹æ˜¯å¦å¯ä»¥å–æ¶ˆã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function preventEvent(event) &#123;</span><br><span class="line">  if (event.cancelable) &#123;</span><br><span class="line">    event.preventDefault();</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    console.warn(&#39;This event couldn\&#39;t be canceled.&#39;);</span><br><span class="line">    console.dir(event);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Event.cancelBubble</code>å±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœè®¾ä¸º<code>true</code>ï¼Œç›¸å½“äºæ‰§è¡Œ<code>Event.stopPropagation()</code>ï¼Œå¯ä»¥é˜»æ­¢äº‹ä»¶çš„ä¼ æ’­ã€‚</p>
<p><code>Event.defaultPrevented</code>å±æ€§è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥äº‹ä»¶æ˜¯å¦è°ƒç”¨è¿‡<code>Event.preventDefault</code>æ–¹æ³•ã€‚è¯¥å±æ€§åªè¯»ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (event.defaultPrevented) &#123;</span><br><span class="line">  console.log(&#39;è¯¥äº‹ä»¶å·²ç»å–æ¶ˆäº†&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Event-currentTargetï¼ŒEvent-target"><a href="#Event-currentTargetï¼ŒEvent-target" class="headerlink" title="Event.currentTargetï¼ŒEvent.target"></a>Event.currentTargetï¼ŒEvent.target</h4><p>äº‹ä»¶å‘ç”Ÿä»¥åï¼Œä¼šç»è¿‡æ•è·å’Œå†’æ³¡ä¸¤ä¸ªé˜¶æ®µï¼Œä¾æ¬¡é€šè¿‡å¤šä¸ª DOM èŠ‚ç‚¹ã€‚å› æ­¤ï¼Œä»»æ„äº‹ä»¶éƒ½æœ‰ä¸¤ä¸ªä¸äº‹ä»¶ç›¸å…³çš„èŠ‚ç‚¹ï¼Œä¸€ä¸ªæ˜¯äº‹ä»¶çš„åŸå§‹è§¦å‘èŠ‚ç‚¹ï¼ˆ<code>Event.target</code>ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯äº‹ä»¶å½“å‰æ­£åœ¨é€šè¿‡çš„èŠ‚ç‚¹ï¼ˆ<code>Event.currentTarget</code>ï¼‰ã€‚å‰è€…é€šå¸¸æ˜¯åè€…çš„åä»£èŠ‚ç‚¹ã€‚</p>
<p><code>Event.currentTarget</code>å±æ€§è¿”å›äº‹ä»¶å½“å‰æ‰€åœ¨çš„èŠ‚ç‚¹ï¼Œå³äº‹ä»¶å½“å‰æ­£åœ¨é€šè¿‡çš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„ç›‘å¬å‡½æ•°æ‰€åœ¨çš„é‚£ä¸ªèŠ‚ç‚¹ã€‚éšç€äº‹ä»¶çš„ä¼ æ’­ï¼Œè¿™ä¸ªå±æ€§çš„å€¼ä¼šå˜ã€‚</p>
<p><code>Event.target</code>å±æ€§è¿”å›åŸå§‹è§¦å‘äº‹ä»¶çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œå³äº‹ä»¶æœ€åˆå‘ç”Ÿçš„èŠ‚ç‚¹ã€‚è¿™ä¸ªå±æ€§ä¸ä¼šéšç€äº‹ä»¶çš„ä¼ æ’­è€Œæ”¹å˜ã€‚</p>
<p>äº‹ä»¶ä¼ æ’­è¿‡ç¨‹ä¸­ï¼Œä¸åŒèŠ‚ç‚¹çš„ç›‘å¬å‡½æ•°å†…éƒ¨çš„<code>Event.target</code>ä¸<code>Event.currentTarget</code>å±æ€§çš„å€¼æ˜¯ä¸ä¸€æ ·çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç ä¸º</span><br><span class="line">&#x2F;&#x2F; &lt;p id&#x3D;&quot;para&quot;&gt;Hello &lt;em&gt;World&lt;&#x2F;em&gt;&lt;&#x2F;p&gt;</span><br><span class="line">function hide(e) &#123;</span><br><span class="line">  &#x2F;&#x2F; ä¸ç®¡ç‚¹å‡» Hello æˆ– Worldï¼Œæ€»æ˜¯è¿”å› true</span><br><span class="line">  console.log(this &#x3D;&#x3D;&#x3D; e.currentTarget);</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; ç‚¹å‡» Helloï¼Œè¿”å› true</span><br><span class="line">  &#x2F;&#x2F; ç‚¹å‡» Worldï¼Œè¿”å› false</span><br><span class="line">  console.log(this &#x3D;&#x3D;&#x3D; e.target);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.getElementById(&#39;para&#39;).addEventListener(&#39;click&#39;, hide, false);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>&lt;em&gt;</code>æ˜¯<code>&lt;p&gt;</code>çš„å­èŠ‚ç‚¹ï¼Œç‚¹å‡»<code>&lt;em&gt;</code>æˆ–è€…ç‚¹å‡»<code>&lt;p&gt;</code>ï¼Œéƒ½ä¼šå¯¼è‡´ç›‘å¬å‡½æ•°æ‰§è¡Œã€‚è¿™æ—¶ï¼Œ<code>e.target</code>æ€»æ˜¯æŒ‡å‘åŸå§‹ç‚¹å‡»ä½ç½®çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œè€Œ<code>e.currentTarget</code>æŒ‡å‘äº‹ä»¶ä¼ æ’­è¿‡ç¨‹ä¸­æ­£åœ¨ç»è¿‡çš„é‚£ä¸ªèŠ‚ç‚¹ã€‚ç”±äºç›‘å¬å‡½æ•°åªæœ‰äº‹ä»¶ç»è¿‡æ—¶æ‰ä¼šè§¦å‘ï¼Œæ‰€ä»¥<code>e.currentTarget</code>æ€»æ˜¯ç­‰åŒäºç›‘å¬å‡½æ•°å†…éƒ¨çš„<code>this</code>ã€‚</p>
<h4 id="Event-type"><a href="#Event-type" class="headerlink" title="Event.type"></a>Event.type</h4><p><code>Event.type</code>å±æ€§è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºäº‹ä»¶ç±»å‹ã€‚äº‹ä»¶çš„ç±»å‹æ˜¯åœ¨ç”Ÿæˆäº‹ä»¶çš„æ—¶å€™æŒ‡å®šçš„ã€‚è¯¥å±æ€§åªè¯»ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var evt &#x3D; new Event(&#39;foo&#39;);</span><br><span class="line">evt.type &#x2F;&#x2F; &quot;foo&quot;</span><br></pre></td></tr></table></figure>

<h4 id="Event-timeStamp"><a href="#Event-timeStamp" class="headerlink" title="Event.timeStamp"></a>Event.timeStamp</h4><p><code>Event.timeStamp</code>å±æ€§è¿”å›ä¸€ä¸ªæ¯«ç§’æ—¶é—´æˆ³ï¼Œè¡¨ç¤ºäº‹ä»¶å‘ç”Ÿçš„æ—¶é—´ã€‚å®ƒæ˜¯ç›¸å¯¹äºç½‘é¡µåŠ è½½æˆåŠŸå¼€å§‹è®¡ç®—çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var evt &#x3D; new Event(&#39;foo&#39;);</span><br><span class="line">evt.timeStamp &#x2F;&#x2F; 3683.6999999995896</span><br></pre></td></tr></table></figure>

<p>å®ƒçš„è¿”å›å€¼æœ‰å¯èƒ½æ˜¯æ•´æ•°ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯å°æ•°ï¼ˆé«˜ç²¾åº¦æ—¶é—´æˆ³ï¼‰ï¼Œå–å†³äºæµè§ˆå™¨çš„è®¾ç½®ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªè®¡ç®—é¼ æ ‡ç§»åŠ¨é€Ÿåº¦çš„ä¾‹å­ï¼Œæ˜¾ç¤ºæ¯ç§’ç§»åŠ¨çš„åƒç´ æ•°é‡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">var previousX;</span><br><span class="line">var previousY;</span><br><span class="line">var previousT;</span><br><span class="line"></span><br><span class="line">window.addEventListener(&#39;mousemove&#39;, function(event) &#123;</span><br><span class="line">  if (</span><br><span class="line">    previousX !&#x3D;&#x3D; undefined &amp;&amp;</span><br><span class="line">    previousY !&#x3D;&#x3D; undefined &amp;&amp;</span><br><span class="line">    previousT !&#x3D;&#x3D; undefined</span><br><span class="line">  ) &#123;</span><br><span class="line">    var deltaX &#x3D; event.screenX - previousX;</span><br><span class="line">    var deltaY &#x3D; event.screenY - previousY;</span><br><span class="line">    var deltaD &#x3D; Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));</span><br><span class="line"></span><br><span class="line">    var deltaT &#x3D; event.timeStamp - previousT;</span><br><span class="line">    console.log(deltaD &#x2F; deltaT * 1000);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  previousX &#x3D; event.screenX;</span><br><span class="line">  previousY &#x3D; event.screenY;</span><br><span class="line">  previousT &#x3D; event.timeStamp;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Event-isTrusted"><a href="#Event-isTrusted" class="headerlink" title="Event.isTrusted"></a>Event.isTrusted</h4><p><code>Event.isTrusted</code>å±æ€§è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥äº‹ä»¶æ˜¯å¦ç”±çœŸå®çš„ç”¨æˆ·è¡Œä¸ºäº§ç”Ÿã€‚æ¯”å¦‚ï¼Œç”¨æˆ·ç‚¹å‡»é“¾æ¥ä¼šäº§ç”Ÿä¸€ä¸ª<code>click</code>äº‹ä»¶ï¼Œè¯¥äº‹ä»¶æ˜¯ç”¨æˆ·äº§ç”Ÿçš„ï¼›<code>Event</code>æ„é€ å‡½æ•°ç”Ÿæˆçš„äº‹ä»¶ï¼Œåˆ™æ˜¯è„šæœ¬äº§ç”Ÿçš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var evt &#x3D; new Event(&#39;foo&#39;);</span><br><span class="line">evt.isTrusted &#x2F;&#x2F; false</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>evt</code>å¯¹è±¡æ˜¯è„šæœ¬äº§ç”Ÿçš„ï¼Œæ‰€ä»¥<code>isTrusted</code>å±æ€§è¿”å›<code>false</code>ã€‚</p>
<h4 id="Event-detail"><a href="#Event-detail" class="headerlink" title="Event.detail"></a>Event.detail</h4><p><code>Event.detail</code>å±æ€§åªæœ‰æµè§ˆå™¨çš„ UI ï¼ˆç”¨æˆ·ç•Œé¢ï¼‰äº‹ä»¶æ‰å…·æœ‰ã€‚è¯¥å±æ€§è¿”å›ä¸€ä¸ªæ•°å€¼ï¼Œè¡¨ç¤ºäº‹ä»¶çš„æŸç§ä¿¡æ¯ã€‚å…·ä½“å«ä¹‰ä¸äº‹ä»¶ç±»å‹ç›¸å…³ã€‚æ¯”å¦‚ï¼Œå¯¹äº<code>click</code>å’Œ<code>dblclick</code>äº‹ä»¶ï¼Œ<code>Event.detail</code>æ˜¯é¼ æ ‡æŒ‰ä¸‹çš„æ¬¡æ•°ï¼ˆ<code>1</code>è¡¨ç¤ºå•å‡»ï¼Œ<code>2</code>è¡¨ç¤ºåŒå‡»ï¼Œ<code>3</code>è¡¨ç¤ºä¸‰å‡»ï¼‰ï¼›å¯¹äºé¼ æ ‡æ»šè½®äº‹ä»¶ï¼Œ<code>Event.detail</code>æ˜¯æ»šè½®æ­£å‘æ»šåŠ¨çš„è·ç¦»ï¼Œè´Ÿå€¼å°±æ˜¯è´Ÿå‘æ»šåŠ¨çš„è·ç¦»ï¼Œè¿”å›å€¼æ€»æ˜¯3çš„å€æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">&#x2F;&#x2F; &lt;p&gt;Hello&lt;&#x2F;p&gt;</span><br><span class="line">function giveDetails(e) &#123;</span><br><span class="line">  console.log(e.detail);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.querySelector(&#39;p&#39;).onclick &#x3D; giveDetails;</span><br></pre></td></tr></table></figure>

<h3 id="å®ä¾‹æ–¹æ³•"><a href="#å®ä¾‹æ–¹æ³•" class="headerlink" title="å®ä¾‹æ–¹æ³•"></a>å®ä¾‹æ–¹æ³•</h3><h4 id="Event-preventDefault"><a href="#Event-preventDefault" class="headerlink" title="Event.preventDefault()"></a>Event.preventDefault()</h4><p><code>Event.preventDefault</code>æ–¹æ³•å–æ¶ˆæµè§ˆå™¨å¯¹å½“å‰äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚æ¯”å¦‚ç‚¹å‡»é“¾æ¥åï¼Œæµè§ˆå™¨é»˜è®¤ä¼šè·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä»¥åï¼Œå°±ä¸ä¼šè·³è½¬äº†ï¼›å†æ¯”å¦‚ï¼ŒæŒ‰ä¸€ä¸‹ç©ºæ ¼é”®ï¼Œé¡µé¢å‘ä¸‹æ»šåŠ¨ä¸€æ®µè·ç¦»ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä»¥åä¹Ÿä¸ä¼šæ»šåŠ¨äº†ã€‚è¯¥æ–¹æ³•ç”Ÿæ•ˆçš„å‰ææ˜¯ï¼Œäº‹ä»¶å¯¹è±¡çš„<code>cancelable</code>å±æ€§ä¸º<code>true</code>ï¼Œå¦‚æœä¸º<code>false</code>ï¼Œè°ƒç”¨è¯¥æ–¹æ³•æ²¡æœ‰ä»»ä½•æ•ˆæœã€‚</p>
<p>æ³¨æ„ï¼Œè¯¥æ–¹æ³•åªæ˜¯å–æ¶ˆäº‹ä»¶å¯¹å½“å‰å…ƒç´ çš„é»˜è®¤å½±å“ï¼Œä¸ä¼šé˜»æ­¢äº‹ä»¶çš„ä¼ æ’­ã€‚å¦‚æœè¦é˜»æ­¢ä¼ æ’­ï¼Œå¯ä»¥ä½¿ç”¨<code>stopPropagation()</code>æˆ–<code>stopImmediatePropagation()</code>æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç ä¸º</span><br><span class="line">&#x2F;&#x2F; &lt;input type&#x3D;&quot;checkbox&quot; id&#x3D;&quot;my-checkbox&quot; &#x2F;&gt;</span><br><span class="line">var cb &#x3D; document.getElementById(&#39;my-checkbox&#39;);</span><br><span class="line"></span><br><span class="line">cb.addEventListener(</span><br><span class="line">  &#39;click&#39;,</span><br><span class="line">  function (e)&#123; e.preventDefault(); &#125;,</span><br><span class="line">  false</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæµè§ˆå™¨çš„é»˜è®¤è¡Œä¸ºæ˜¯å•å‡»ä¼šé€‰ä¸­å•é€‰æ¡†ï¼Œå–æ¶ˆè¿™ä¸ªè¡Œä¸ºï¼Œå°±å¯¼è‡´æ— æ³•é€‰ä¸­å•é€‰æ¡†ã€‚</p>
<p>åˆ©ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä¸ºæ–‡æœ¬è¾“å…¥æ¡†è®¾ç½®æ ¡éªŒæ¡ä»¶ã€‚å¦‚æœç”¨æˆ·çš„è¾“å…¥ä¸ç¬¦åˆæ¡ä»¶ï¼Œå°±æ— æ³•å°†å­—ç¬¦è¾“å…¥æ–‡æœ¬æ¡†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç ä¸º</span><br><span class="line">&#x2F;&#x2F; &lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;my-input&quot; &#x2F;&gt;</span><br><span class="line">var input &#x3D; document.getElementById(&#39;my-input&#39;);</span><br><span class="line">input.addEventListener(&#39;keypress&#39;, checkName, false);</span><br><span class="line"></span><br><span class="line">function checkName(e) &#123;</span><br><span class="line">  if (e.charCode &lt; 97 || e.charCode &gt; 122) &#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸ºæ–‡æœ¬æ¡†çš„<code>keypress</code>äº‹ä»¶è®¾å®šç›‘å¬å‡½æ•°åï¼Œå°†åªèƒ½è¾“å…¥å°å†™å­—æ¯ï¼Œå¦åˆ™è¾“å…¥äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼ˆå†™å…¥æ–‡æœ¬æ¡†ï¼‰å°†è¢«å–æ¶ˆï¼Œå¯¼è‡´ä¸èƒ½å‘æ–‡æœ¬æ¡†è¾“å…¥å†…å®¹ã€‚</p>
<h4 id="Event-stopPropagation"><a href="#Event-stopPropagation" class="headerlink" title="Event.stopPropagation()"></a>Event.stopPropagation()</h4><p><code>stopPropagation</code>æ–¹æ³•é˜»æ­¢äº‹ä»¶åœ¨ DOM ä¸­ç»§ç»­ä¼ æ’­ï¼Œé˜²æ­¢å†è§¦å‘å®šä¹‰åœ¨åˆ«çš„èŠ‚ç‚¹ä¸Šçš„ç›‘å¬å‡½æ•°ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬åœ¨å½“å‰èŠ‚ç‚¹ä¸Šå…¶ä»–çš„äº‹ä»¶ç›‘å¬å‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function stopEvent(e) &#123;</span><br><span class="line">  e.stopPropagation();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">el.addEventListener(&#39;click&#39;, stopEvent, false);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>click</code>äº‹ä»¶å°†ä¸ä¼šè¿›ä¸€æ­¥å†’æ³¡åˆ°<code>el</code>èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚</p>
<h4 id="Event-stopImmediatePropagation"><a href="#Event-stopImmediatePropagation" class="headerlink" title="Event.stopImmediatePropagation()"></a>Event.stopImmediatePropagation()</h4><p><code>Event.stopImmediatePropagation</code>æ–¹æ³•é˜»æ­¢åŒä¸€ä¸ªäº‹ä»¶çš„å…¶ä»–ç›‘å¬å‡½æ•°è¢«è°ƒç”¨ï¼Œä¸ç®¡ç›‘å¬å‡½æ•°å®šä¹‰åœ¨å½“å‰èŠ‚ç‚¹è¿˜æ˜¯å…¶ä»–èŠ‚ç‚¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥æ–¹æ³•é˜»æ­¢äº‹ä»¶çš„ä¼ æ’­ï¼Œæ¯”<code>Event.stopPropagation()</code>æ›´å½»åº•ã€‚</p>
<p>å¦‚æœåŒä¸€ä¸ªèŠ‚ç‚¹å¯¹äºåŒä¸€ä¸ªäº‹ä»¶æŒ‡å®šäº†å¤šä¸ªç›‘å¬å‡½æ•°ï¼Œè¿™äº›å‡½æ•°ä¼šæ ¹æ®æ·»åŠ çš„é¡ºåºä¾æ¬¡è°ƒç”¨ã€‚åªè¦å…¶ä¸­æœ‰ä¸€ä¸ªç›‘å¬å‡½æ•°è°ƒç”¨äº†<code>Event.stopImmediatePropagation</code>æ–¹æ³•ï¼Œå…¶ä»–çš„ç›‘å¬å‡½æ•°å°±ä¸ä¼šå†æ‰§è¡Œäº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function l1(e)&#123;</span><br><span class="line">  e.stopImmediatePropagation();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function l2(e)&#123;</span><br><span class="line">  console.log(&#39;hello world&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">el.addEventListener(&#39;click&#39;, l1, false);</span><br><span class="line">el.addEventListener(&#39;click&#39;, l2, false);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç åœ¨<code>el</code>èŠ‚ç‚¹ä¸Šï¼Œä¸º<code>click</code>äº‹ä»¶æ·»åŠ äº†ä¸¤ä¸ªç›‘å¬å‡½æ•°<code>l1</code>å’Œ<code>l2</code>ã€‚ç”±äº<code>l1</code>è°ƒç”¨äº†<code>event.stopImmediatePropagation</code>æ–¹æ³•ï¼Œæ‰€ä»¥<code>l2</code>ä¸ä¼šè¢«è°ƒç”¨ã€‚</p>
<h4 id="Event-composedPath"><a href="#Event-composedPath" class="headerlink" title="Event.composedPath()"></a>Event.composedPath()</h4><p><code>Event.composedPath()</code>è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯äº‹ä»¶çš„æœ€åº•å±‚èŠ‚ç‚¹å’Œä¾æ¬¡å†’æ³¡ç»è¿‡çš„æ‰€æœ‰ä¸Šå±‚èŠ‚ç‚¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">&#x2F;&#x2F; &lt;div&gt;</span><br><span class="line">&#x2F;&#x2F;   &lt;p&gt;Hello&lt;&#x2F;p&gt;</span><br><span class="line">&#x2F;&#x2F; &lt;&#x2F;div&gt;</span><br><span class="line">var div &#x3D; document.querySelector(&#39;div&#39;);</span><br><span class="line">var p &#x3D; document.querySelector(&#39;p&#39;);</span><br><span class="line"></span><br><span class="line">div.addEventListener(&#39;click&#39;, function (e) &#123;</span><br><span class="line">  console.log(e.composedPath());</span><br><span class="line">&#125;, false);</span><br><span class="line">&#x2F;&#x2F; [p, div, body, html, document, Window]</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>click</code>äº‹ä»¶çš„æœ€åº•å±‚èŠ‚ç‚¹æ˜¯<code>p</code>ï¼Œå‘ä¸Šä¾æ¬¡æ˜¯<code>div</code>ã€<code>body</code>ã€<code>html</code>ã€<code>document</code>ã€<code>Window</code>ã€‚</p>
<h2 id="é¼ æ ‡äº‹ä»¶"><a href="#é¼ æ ‡äº‹ä»¶" class="headerlink" title="é¼ æ ‡äº‹ä»¶"></a>é¼ æ ‡äº‹ä»¶</h2><h3 id="é¼ æ ‡äº‹ä»¶çš„ç§ç±»"><a href="#é¼ æ ‡äº‹ä»¶çš„ç§ç±»" class="headerlink" title="é¼ æ ‡äº‹ä»¶çš„ç§ç±»"></a>é¼ æ ‡äº‹ä»¶çš„ç§ç±»</h3><p>é¼ æ ‡äº‹ä»¶ä¸»è¦æœ‰ä¸‹é¢è¿™äº›ï¼Œæ‰€æœ‰äº‹ä»¶éƒ½ç»§æ‰¿äº†<code>MouseEvent</code>æ¥å£ï¼ˆè¯¦è§åæ–‡ï¼‰ã€‚</p>
<p>ï¼ˆ1ï¼‰ç‚¹å‡»äº‹ä»¶</p>
<p>é¼ æ ‡ç‚¹å‡»ç›¸å…³çš„æœ‰å››ä¸ªäº‹ä»¶ã€‚</p>
<ul>
<li><code>click</code>ï¼šæŒ‰ä¸‹é¼ æ ‡ï¼ˆé€šå¸¸æ˜¯æŒ‰ä¸‹ä¸»æŒ‰é’®ï¼‰æ—¶è§¦å‘ã€‚</li>
<li><code>dblclick</code>ï¼šåœ¨åŒä¸€ä¸ªå…ƒç´ ä¸ŠåŒå‡»é¼ æ ‡æ—¶è§¦å‘ã€‚</li>
<li><code>mousedown</code>ï¼šæŒ‰ä¸‹é¼ æ ‡é”®æ—¶è§¦å‘ã€‚</li>
<li><code>mouseup</code>ï¼šé‡Šæ”¾æŒ‰ä¸‹çš„é¼ æ ‡é”®æ—¶è§¦å‘ã€‚</li>
</ul>
<p><code>click</code>äº‹ä»¶å¯ä»¥çœ‹æˆæ˜¯ä¸¤ä¸ªäº‹ä»¶ç»„æˆçš„ï¼šç”¨æˆ·åœ¨åŒä¸€ä¸ªä½ç½®å…ˆè§¦å‘<code>mousedown</code>ï¼Œå†è§¦å‘<code>mouseup</code>ã€‚å› æ­¤ï¼Œè§¦å‘é¡ºåºæ˜¯ï¼Œ<code>mousedown</code>é¦–å…ˆè§¦å‘ï¼Œ<code>mouseup</code>æ¥ç€è§¦å‘ï¼Œ<code>click</code>æœ€åè§¦å‘ã€‚</p>
<p>åŒå‡»æ—¶ï¼Œ<code>dblclick</code>äº‹ä»¶åˆ™ä¼šåœ¨<code>mousedown</code>ã€<code>mouseup</code>ã€<code>click</code>ä¹‹åè§¦å‘ã€‚</p>
<p>ï¼ˆ2ï¼‰ç§»åŠ¨äº‹ä»¶</p>
<p>é¼ æ ‡ç§»åŠ¨ç›¸å…³çš„æœ‰äº”ä¸ªäº‹ä»¶ã€‚</p>
<ul>
<li><code>mousemove</code>ï¼šå½“é¼ æ ‡åœ¨ä¸€ä¸ªèŠ‚ç‚¹å†…éƒ¨ç§»åŠ¨æ—¶è§¦å‘ã€‚å½“é¼ æ ‡æŒç»­ç§»åŠ¨æ—¶ï¼Œè¯¥äº‹ä»¶ä¼šè¿ç»­è§¦å‘ã€‚ä¸ºäº†é¿å…æ€§èƒ½é—®é¢˜ï¼Œå»ºè®®å¯¹è¯¥äº‹ä»¶çš„ç›‘å¬å‡½æ•°åšä¸€äº›é™å®šï¼Œæ¯”å¦‚é™å®šä¸€æ®µæ—¶é—´å†…åªèƒ½è¿è¡Œä¸€æ¬¡ã€‚</li>
<li><code>mouseenter</code>ï¼šé¼ æ ‡è¿›å…¥ä¸€ä¸ªèŠ‚ç‚¹æ—¶è§¦å‘ï¼Œè¿›å…¥å­èŠ‚ç‚¹ä¸ä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶ï¼ˆè¯¦è§åæ–‡ï¼‰ã€‚</li>
<li><code>mouseover</code>ï¼šé¼ æ ‡è¿›å…¥ä¸€ä¸ªèŠ‚ç‚¹æ—¶è§¦å‘ï¼Œè¿›å…¥å­èŠ‚ç‚¹ä¼šå†ä¸€æ¬¡è§¦å‘è¿™ä¸ªäº‹ä»¶ï¼ˆè¯¦è§åæ–‡ï¼‰ã€‚</li>
<li><code>mouseout</code>ï¼šé¼ æ ‡ç¦»å¼€ä¸€ä¸ªèŠ‚ç‚¹æ—¶è§¦å‘ï¼Œç¦»å¼€çˆ¶èŠ‚ç‚¹ä¹Ÿä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶ï¼ˆè¯¦è§åæ–‡ï¼‰ã€‚</li>
<li><code>mouseleave</code>ï¼šé¼ æ ‡ç¦»å¼€ä¸€ä¸ªèŠ‚ç‚¹æ—¶è§¦å‘ï¼Œç¦»å¼€çˆ¶èŠ‚ç‚¹ä¸ä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶ï¼ˆè¯¦è§åæ–‡ï¼‰ã€‚</li>
</ul>
<p><code>mouseover</code>äº‹ä»¶å’Œ<code>mouseenter</code>äº‹ä»¶ï¼Œéƒ½æ˜¯é¼ æ ‡è¿›å…¥ä¸€ä¸ªèŠ‚ç‚¹æ—¶è§¦å‘ã€‚ä¸¤è€…çš„åŒºåˆ«æ˜¯ï¼Œ<code>mouseenter</code>äº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼Œè€Œåªè¦é¼ æ ‡åœ¨èŠ‚ç‚¹å†…éƒ¨ç§»åŠ¨ï¼Œ<code>mouseover</code>äº‹ä»¶ä¼šåœ¨å­èŠ‚ç‚¹ä¸Šè§¦å‘å¤šæ¬¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* HTML ä»£ç å¦‚ä¸‹</span><br><span class="line"> &lt;ul&gt;</span><br><span class="line">   &lt;li&gt;item 1&lt;&#x2F;li&gt;</span><br><span class="line">   &lt;li&gt;item 2&lt;&#x2F;li&gt;</span><br><span class="line">   &lt;li&gt;item 3&lt;&#x2F;li&gt;</span><br><span class="line"> &lt;&#x2F;ul&gt;</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">var ul &#x3D; document.querySelector(&#39;ul&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¿›å…¥ ul èŠ‚ç‚¹ä»¥åï¼Œmouseenter äº‹ä»¶åªä¼šè§¦å‘ä¸€æ¬¡</span><br><span class="line">&#x2F;&#x2F; ä»¥ååªè¦é¼ æ ‡åœ¨èŠ‚ç‚¹å†…ç§»åŠ¨ï¼Œéƒ½ä¸ä¼šå†è§¦å‘è¿™ä¸ªäº‹ä»¶</span><br><span class="line">&#x2F;&#x2F; event.target æ˜¯ ul èŠ‚ç‚¹</span><br><span class="line">ul.addEventListener(&#39;mouseenter&#39;, function (event) &#123;</span><br><span class="line">  event.target.style.color &#x3D; &#39;purple&#39;;</span><br><span class="line">  setTimeout(function () &#123;</span><br><span class="line">    event.target.style.color &#x3D; &#39;&#39;;</span><br><span class="line">  &#125;, 500);</span><br><span class="line">&#125;, false);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¿›å…¥ ul èŠ‚ç‚¹ä»¥åï¼Œåªè¦åœ¨å­èŠ‚ç‚¹ä¸Šç§»åŠ¨ï¼Œmouseover äº‹ä»¶ä¼šè§¦å‘å¤šæ¬¡</span><br><span class="line">&#x2F;&#x2F; event.target æ˜¯ li èŠ‚ç‚¹</span><br><span class="line">ul.addEventListener(&#39;mouseover&#39;, function (event) &#123;</span><br><span class="line">  event.target.style.color &#x3D; &#39;orange&#39;;</span><br><span class="line">  setTimeout(function () &#123;</span><br><span class="line">    event.target.style.color &#x3D; &#39;&#39;;</span><br><span class="line">  &#125;, 500);</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œåœ¨çˆ¶èŠ‚ç‚¹å†…éƒ¨è¿›å…¥å­èŠ‚ç‚¹ï¼Œä¸ä¼šè§¦å‘<code>mouseenter</code>äº‹ä»¶ï¼Œä½†æ˜¯ä¼šè§¦å‘<code>mouseover</code>äº‹ä»¶ã€‚</p>
<p><code>mouseout</code>äº‹ä»¶å’Œ<code>mouseleave</code>äº‹ä»¶ï¼Œéƒ½æ˜¯é¼ æ ‡ç¦»å¼€ä¸€ä¸ªèŠ‚ç‚¹æ—¶è§¦å‘ã€‚ä¸¤è€…çš„åŒºåˆ«æ˜¯ï¼Œåœ¨çˆ¶å…ƒç´ å†…éƒ¨ç¦»å¼€ä¸€ä¸ªå­å…ƒç´ æ—¶ï¼Œ<code>mouseleave</code>äº‹ä»¶ä¸ä¼šè§¦å‘ï¼Œè€Œ<code>mouseout</code>äº‹ä»¶ä¼šè§¦å‘ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* HTML ä»£ç å¦‚ä¸‹</span><br><span class="line"> &lt;ul&gt;</span><br><span class="line">   &lt;li&gt;item 1&lt;&#x2F;li&gt;</span><br><span class="line">   &lt;li&gt;item 2&lt;&#x2F;li&gt;</span><br><span class="line">   &lt;li&gt;item 3&lt;&#x2F;li&gt;</span><br><span class="line"> &lt;&#x2F;ul&gt;</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">var ul &#x3D; document.querySelector(&#39;ul&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å…ˆè¿›å…¥ ul èŠ‚ç‚¹ï¼Œç„¶ååœ¨èŠ‚ç‚¹å†…éƒ¨ç§»åŠ¨ï¼Œä¸ä¼šè§¦å‘ mouseleave äº‹ä»¶</span><br><span class="line">&#x2F;&#x2F; åªæœ‰ç¦»å¼€ ul èŠ‚ç‚¹æ—¶ï¼Œè§¦å‘ä¸€æ¬¡ mouseleave</span><br><span class="line">&#x2F;&#x2F; event.target æ˜¯ ul èŠ‚ç‚¹</span><br><span class="line">ul.addEventListener(&#39;mouseleave&#39;, function (event) &#123;</span><br><span class="line">  event.target.style.color &#x3D; &#39;purple&#39;;</span><br><span class="line">  setTimeout(function () &#123;</span><br><span class="line">    event.target.style.color &#x3D; &#39;&#39;;</span><br><span class="line">  &#125;, 500);</span><br><span class="line">&#125;, false);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; å…ˆè¿›å…¥ ul èŠ‚ç‚¹ï¼Œç„¶ååœ¨èŠ‚ç‚¹å†…éƒ¨ç§»åŠ¨ï¼Œmouseout äº‹ä»¶ä¼šè§¦å‘å¤šæ¬¡</span><br><span class="line">&#x2F;&#x2F; event.target æ˜¯ li èŠ‚ç‚¹</span><br><span class="line">ul.addEventListener(&#39;mouseout&#39;, function (event) &#123;</span><br><span class="line">  event.target.style.color &#x3D; &#39;orange&#39;;</span><br><span class="line">  setTimeout(function () &#123;</span><br><span class="line">    event.target.style.color &#x3D; &#39;&#39;;</span><br><span class="line">  &#125;, 500);</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œåœ¨çˆ¶èŠ‚ç‚¹å†…éƒ¨ç¦»å¼€å­èŠ‚ç‚¹ï¼Œä¸ä¼šè§¦å‘<code>mouseleave</code>äº‹ä»¶ï¼Œä½†æ˜¯ä¼šè§¦å‘<code>mouseout</code>äº‹ä»¶ã€‚</p>
<p>ï¼ˆ3ï¼‰å…¶ä»–äº‹ä»¶</p>
<ul>
<li><code>contextmenu</code>ï¼šæŒ‰ä¸‹é¼ æ ‡å³é”®æ—¶ï¼ˆä¸Šä¸‹æ–‡èœå•å‡ºç°å‰ï¼‰è§¦å‘ï¼Œæˆ–è€…æŒ‰ä¸‹â€œä¸Šä¸‹æ–‡â€èœå•é”®æ—¶è§¦å‘ã€‚</li>
<li><code>wheel</code>ï¼šæ»šåŠ¨é¼ æ ‡çš„æ»šè½®æ—¶è§¦å‘ï¼Œè¯¥äº‹ä»¶ç»§æ‰¿çš„æ˜¯<code>WheelEvent</code>æ¥å£ã€‚</li>
</ul>
<h3 id="MouseEvent-æ¥å£"><a href="#MouseEvent-æ¥å£" class="headerlink" title="MouseEvent æ¥å£"></a>MouseEvent æ¥å£</h3><p><code>MouseEvent</code>æ¥å£ä»£è¡¨äº†é¼ æ ‡ç›¸å…³çš„äº‹ä»¶ï¼Œå•å‡»ï¼ˆclickï¼‰ã€åŒå‡»ï¼ˆdblclickï¼‰ã€æ¾å¼€é¼ æ ‡é”®ï¼ˆmouseupï¼‰ã€æŒ‰ä¸‹é¼ æ ‡é”®ï¼ˆmousedownï¼‰ç­‰åŠ¨ä½œï¼Œæ‰€äº§ç”Ÿçš„äº‹ä»¶å¯¹è±¡éƒ½æ˜¯<code>MouseEvent</code>å®ä¾‹ã€‚æ­¤å¤–ï¼Œæ»šè½®äº‹ä»¶å’Œæ‹–æ‹‰äº‹ä»¶ä¹Ÿæ˜¯<code>MouseEvent</code>å®ä¾‹ã€‚</p>
<p><code>MouseEvent</code>æ¥å£ç»§æ‰¿äº†<code>Event</code>æ¥å£ï¼Œæ‰€ä»¥æ‹¥æœ‰<code>Event</code>çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶ä¸”è¿˜æä¾›é¼ æ ‡ç‹¬æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<p>æµè§ˆå™¨åŸç”Ÿæä¾›ä¸€ä¸ª<code>MouseEvent()</code>æ„é€ å‡½æ•°ï¼Œç”¨äºæ–°å»ºä¸€ä¸ª<code>MouseEvent</code>å®ä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var event &#x3D; new MouseEvent(type, options);</span><br></pre></td></tr></table></figure>

<p><code>MouseEvent()</code>æ„é€ å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºäº‹ä»¶åç§°ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªäº‹ä»¶é…ç½®å¯¹è±¡ï¼Œè¯¥å‚æ•°å¯é€‰ã€‚é™¤äº†<code>Event</code>æ¥å£çš„å®ä¾‹é…ç½®å±æ€§ï¼Œè¯¥å¯¹è±¡å¯ä»¥é…ç½®ä»¥ä¸‹å±æ€§ï¼Œæ‰€æœ‰å±æ€§éƒ½æ˜¯å¯é€‰çš„ã€‚</p>
<ul>
<li><code>screenX</code>ï¼šæ•°å€¼ï¼Œé¼ æ ‡ç›¸å¯¹äºå±å¹•çš„æ°´å¹³ä½ç½®ï¼ˆå•ä½åƒç´ ï¼‰ï¼Œé»˜è®¤å€¼ä¸º0ï¼Œè®¾ç½®è¯¥å±æ€§ä¸ä¼šç§»åŠ¨é¼ æ ‡ã€‚</li>
<li><code>screenY</code>ï¼šæ•°å€¼ï¼Œé¼ æ ‡ç›¸å¯¹äºå±å¹•çš„å‚ç›´ä½ç½®ï¼ˆå•ä½åƒç´ ï¼‰ï¼Œå…¶ä»–ä¸<code>screenX</code>ç›¸åŒã€‚</li>
<li><code>clientX</code>ï¼šæ•°å€¼ï¼Œé¼ æ ‡ç›¸å¯¹äºç¨‹åºçª—å£çš„æ°´å¹³ä½ç½®ï¼ˆå•ä½åƒç´ ï¼‰ï¼Œé»˜è®¤å€¼ä¸º0ï¼Œè®¾ç½®è¯¥å±æ€§ä¸ä¼šç§»åŠ¨é¼ æ ‡ã€‚</li>
<li><code>clientY</code>ï¼šæ•°å€¼ï¼Œé¼ æ ‡ç›¸å¯¹äºç¨‹åºçª—å£çš„å‚ç›´ä½ç½®ï¼ˆå•ä½åƒç´ ï¼‰ï¼Œå…¶ä»–ä¸<code>clientX</code>ç›¸åŒã€‚</li>
<li><code>ctrlKey</code>ï¼šå¸ƒå°”å€¼ï¼Œæ˜¯å¦åŒæ—¶æŒ‰ä¸‹äº† Ctrl é”®ï¼Œé»˜è®¤å€¼ä¸º<code>false</code>ã€‚</li>
<li><code>shiftKey</code>ï¼šå¸ƒå°”å€¼ï¼Œæ˜¯å¦åŒæ—¶æŒ‰ä¸‹äº† Shift é”®ï¼Œé»˜è®¤å€¼ä¸º<code>false</code>ã€‚</li>
<li><code>altKey</code>ï¼šå¸ƒå°”å€¼ï¼Œæ˜¯å¦åŒæ—¶æŒ‰ä¸‹ Alt é”®ï¼Œé»˜è®¤å€¼ä¸º<code>false</code>ã€‚</li>
<li><code>metaKey</code>ï¼šå¸ƒå°”å€¼ï¼Œæ˜¯å¦åŒæ—¶æŒ‰ä¸‹ Meta é”®ï¼Œé»˜è®¤å€¼ä¸º<code>false</code>ã€‚</li>
<li><code>button</code>ï¼šæ•°å€¼ï¼Œè¡¨ç¤ºæŒ‰ä¸‹äº†å“ªä¸€ä¸ªé¼ æ ‡æŒ‰é”®ï¼Œé»˜è®¤å€¼ä¸º<code>0</code>ï¼Œè¡¨ç¤ºæŒ‰ä¸‹ä¸»é”®ï¼ˆé€šå¸¸æ˜¯é¼ æ ‡çš„å·¦é”®ï¼‰æˆ–è€…å½“å‰äº‹ä»¶æ²¡æœ‰å®šä¹‰è¿™ä¸ªå±æ€§ï¼›<code>1</code>è¡¨ç¤ºæŒ‰ä¸‹è¾…åŠ©é”®ï¼ˆé€šå¸¸æ˜¯é¼ æ ‡çš„ä¸­é—´é”®ï¼‰ï¼Œ<code>2</code>è¡¨ç¤ºæŒ‰ä¸‹æ¬¡è¦é”®ï¼ˆé€šå¸¸æ˜¯é¼ æ ‡çš„å³é”®ï¼‰ã€‚</li>
<li><code>buttons</code>ï¼šæ•°å€¼ï¼Œè¡¨ç¤ºæŒ‰ä¸‹äº†é¼ æ ‡çš„å“ªäº›é”®ï¼Œæ˜¯ä¸€ä¸ªä¸‰ä¸ªæ¯”ç‰¹ä½çš„äºŒè¿›åˆ¶å€¼ï¼Œé»˜è®¤ä¸º<code>0</code>ï¼ˆæ²¡æœ‰æŒ‰ä¸‹ä»»ä½•é”®ï¼‰ã€‚<code>1</code>ï¼ˆäºŒè¿›åˆ¶<code>001</code>ï¼‰è¡¨ç¤ºæŒ‰ä¸‹ä¸»é”®ï¼ˆé€šå¸¸æ˜¯å·¦é”®ï¼‰ï¼Œ<code>2</code>ï¼ˆäºŒè¿›åˆ¶<code>010</code>ï¼‰è¡¨ç¤ºæŒ‰ä¸‹æ¬¡è¦é”®ï¼ˆé€šå¸¸æ˜¯å³é”®ï¼‰ï¼Œ<code>4</code>ï¼ˆäºŒè¿›åˆ¶<code>100</code>ï¼‰è¡¨ç¤ºæŒ‰ä¸‹è¾…åŠ©é”®ï¼ˆé€šå¸¸æ˜¯ä¸­é—´é”®ï¼‰ã€‚å› æ­¤ï¼Œå¦‚æœè¿”å›<code>3</code>ï¼ˆäºŒè¿›åˆ¶<code>011</code>ï¼‰å°±è¡¨ç¤ºåŒæ—¶æŒ‰ä¸‹äº†å·¦é”®å’Œå³é”®ã€‚</li>
<li><code>relatedTarget</code>ï¼šèŠ‚ç‚¹å¯¹è±¡ï¼Œè¡¨ç¤ºäº‹ä»¶çš„ç›¸å…³èŠ‚ç‚¹ï¼Œé»˜è®¤ä¸º<code>null</code>ã€‚<code>mouseenter</code>å’Œ<code>mouseover</code>äº‹ä»¶æ—¶ï¼Œè¡¨ç¤ºé¼ æ ‡åˆšåˆšç¦»å¼€çš„é‚£ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼›<code>mouseout</code>å’Œ<code>mouseleave</code>äº‹ä»¶æ—¶ï¼Œè¡¨ç¤ºé¼ æ ‡æ­£åœ¨è¿›å…¥çš„é‚£ä¸ªå…ƒç´ èŠ‚ç‚¹ã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function simulateClick() &#123;</span><br><span class="line">  var event &#x3D; new MouseEvent(&#39;click&#39;, &#123;</span><br><span class="line">    &#39;bubbles&#39;: true,</span><br><span class="line">    &#39;cancelable&#39;: true</span><br><span class="line">  &#125;);</span><br><span class="line">  var cb &#x3D; document.getElementById(&#39;checkbox&#39;);</span><br><span class="line">  cb.dispatchEvent(event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ç”Ÿæˆä¸€ä¸ªé¼ æ ‡ç‚¹å‡»äº‹ä»¶ï¼Œå¹¶è§¦å‘è¯¥äº‹ä»¶ã€‚</p>
<h3 id="MouseEvent-æ¥å£çš„å®ä¾‹å±æ€§"><a href="#MouseEvent-æ¥å£çš„å®ä¾‹å±æ€§" class="headerlink" title="MouseEvent æ¥å£çš„å®ä¾‹å±æ€§"></a>MouseEvent æ¥å£çš„å®ä¾‹å±æ€§</h3><h4 id="MouseEvent-altKeyï¼ŒMouseEvent-ctrlKeyï¼ŒMouseEvent-metaKeyï¼ŒMouseEvent-shiftKey"><a href="#MouseEvent-altKeyï¼ŒMouseEvent-ctrlKeyï¼ŒMouseEvent-metaKeyï¼ŒMouseEvent-shiftKey" class="headerlink" title="MouseEvent.altKeyï¼ŒMouseEvent.ctrlKeyï¼ŒMouseEvent.metaKeyï¼ŒMouseEvent.shiftKey"></a>MouseEvent.altKeyï¼ŒMouseEvent.ctrlKeyï¼ŒMouseEvent.metaKeyï¼ŒMouseEvent.shiftKey</h4><p><code>MouseEvent.altKey</code>ã€<code>MouseEvent.ctrlKey</code>ã€<code>MouseEvent.metaKey</code>ã€<code>MouseEvent.shiftKey</code>è¿™å››ä¸ªå±æ€§éƒ½è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œæ˜¯å¦æŒ‰ä¸‹å¯¹åº”çš„é”®ã€‚å®ƒä»¬éƒ½æ˜¯åªè¯»å±æ€§ã€‚</p>
<ul>
<li><code>altKey</code>å±æ€§ï¼šAlt é”®</li>
<li><code>ctrlKey</code>å±æ€§ï¼šCtrl é”®</li>
<li><code>metaKey</code>å±æ€§ï¼šMeta é”®ï¼ˆMac é”®ç›˜æ˜¯ä¸€ä¸ªå››ç“£çš„å°èŠ±ï¼ŒWindows é”®ç›˜æ˜¯ Windows é”®ï¼‰</li>
<li><code>shiftKey</code>å±æ€§ï¼šShift é”®</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">&#x2F;&#x2F; &lt;body onclick&#x3D;&quot;showKey(event)&quot;&gt;</span><br><span class="line">function showKey(e) &#123;</span><br><span class="line">  console.log(&#39;ALT key pressed: &#39; + e.altKey);</span><br><span class="line">  console.log(&#39;CTRL key pressed: &#39; + e.ctrlKey);</span><br><span class="line">  console.log(&#39;META key pressed: &#39; + e.metaKey);</span><br><span class="line">  console.log(&#39;SHIFT key pressed: &#39; + e.shiftKey);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç‚¹å‡»ç½‘é¡µä¼šè¾“å‡ºæ˜¯å¦åŒæ—¶æŒ‰ä¸‹å¯¹åº”çš„é”®ã€‚</p>
<h4 id="MouseEvent-buttonï¼ŒMouseEvent-buttons"><a href="#MouseEvent-buttonï¼ŒMouseEvent-buttons" class="headerlink" title="MouseEvent.buttonï¼ŒMouseEvent.buttons"></a>MouseEvent.buttonï¼ŒMouseEvent.buttons</h4><p><code>MouseEvent.button</code>å±æ€§è¿”å›ä¸€ä¸ªæ•°å€¼ï¼Œè¡¨ç¤ºäº‹ä»¶å‘ç”Ÿæ—¶æŒ‰ä¸‹äº†é¼ æ ‡çš„å“ªä¸ªé”®ã€‚è¯¥å±æ€§åªè¯»ã€‚</p>
<ul>
<li>0ï¼šæŒ‰ä¸‹ä¸»é”®ï¼ˆé€šå¸¸æ˜¯å·¦é”®ï¼‰ï¼Œæˆ–è€…è¯¥äº‹ä»¶æ²¡æœ‰åˆå§‹åŒ–è¿™ä¸ªå±æ€§ï¼ˆæ¯”å¦‚<code>mousemove</code>äº‹ä»¶ï¼‰ã€‚</li>
<li>1ï¼šæŒ‰ä¸‹è¾…åŠ©é”®ï¼ˆé€šå¸¸æ˜¯ä¸­é”®æˆ–è€…æ»šè½®é”®ï¼‰ã€‚</li>
<li>2ï¼šæŒ‰ä¸‹æ¬¡é”®ï¼ˆé€šå¸¸æ˜¯å³é”®ï¼‰ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç ä¸º</span><br><span class="line">&#x2F;&#x2F; &lt;button onmouseup&#x3D;&quot;whichButton(event)&quot;&gt;ç‚¹å‡»&lt;&#x2F;button&gt;</span><br><span class="line">var whichButton &#x3D; function (e) &#123;</span><br><span class="line">  switch (e.button) &#123;</span><br><span class="line">    case 0:</span><br><span class="line">      console.log(&#39;Left button clicked.&#39;);</span><br><span class="line">      break;</span><br><span class="line">    case 1:</span><br><span class="line">      console.log(&#39;Middle button clicked.&#39;);</span><br><span class="line">      break;</span><br><span class="line">    case 2:</span><br><span class="line">      console.log(&#39;Right button clicked.&#39;);</span><br><span class="line">      break;</span><br><span class="line">    default:</span><br><span class="line">      console.log(&#39;Unexpected code: &#39; + e.button);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>MouseEvent.buttons</code>å±æ€§è¿”å›ä¸€ä¸ªä¸‰ä¸ªæ¯”ç‰¹ä½çš„å€¼ï¼Œè¡¨ç¤ºåŒæ—¶æŒ‰ä¸‹äº†å“ªäº›é”®ã€‚å®ƒç”¨æ¥å¤„ç†åŒæ—¶æŒ‰ä¸‹å¤šä¸ªé¼ æ ‡é”®çš„æƒ…å†µã€‚è¯¥å±æ€§åªè¯»ã€‚</p>
<ul>
<li>1ï¼šäºŒè¿›åˆ¶ä¸º<code>001</code>ï¼ˆåè¿›åˆ¶çš„1ï¼‰ï¼Œè¡¨ç¤ºæŒ‰ä¸‹å·¦é”®ã€‚</li>
<li>2ï¼šäºŒè¿›åˆ¶ä¸º<code>010</code>ï¼ˆåè¿›åˆ¶çš„2ï¼‰ï¼Œè¡¨ç¤ºæŒ‰ä¸‹å³é”®ã€‚</li>
<li>4ï¼šäºŒè¿›åˆ¶ä¸º<code>100</code>ï¼ˆåè¿›åˆ¶çš„4ï¼‰ï¼Œè¡¨ç¤ºæŒ‰ä¸‹ä¸­é”®æˆ–æ»šè½®é”®ã€‚</li>
</ul>
<p>åŒæ—¶æŒ‰ä¸‹å¤šä¸ªé”®çš„æ—¶å€™ï¼Œæ¯ä¸ªæŒ‰ä¸‹çš„é”®å¯¹åº”çš„æ¯”ç‰¹ä½éƒ½ä¼šæœ‰å€¼ã€‚æ¯”å¦‚ï¼ŒåŒæ—¶æŒ‰ä¸‹å·¦é”®å’Œå³é”®ï¼Œä¼šè¿”å›3ï¼ˆäºŒè¿›åˆ¶ä¸º011ï¼‰ã€‚</p>
<h4 id="MouseEvent-clientXï¼ŒMouseEvent-clientY"><a href="#MouseEvent-clientXï¼ŒMouseEvent-clientY" class="headerlink" title="MouseEvent.clientXï¼ŒMouseEvent.clientY"></a>MouseEvent.clientXï¼ŒMouseEvent.clientY</h4><p><code>MouseEvent.clientX</code>å±æ€§è¿”å›é¼ æ ‡ä½ç½®ç›¸å¯¹äºæµè§ˆå™¨çª—å£å·¦ä¸Šè§’çš„æ°´å¹³åæ ‡ï¼ˆå•ä½åƒç´ ï¼‰ï¼Œ<code>MouseEvent.clientY</code>å±æ€§è¿”å›å‚ç›´åæ ‡ã€‚è¿™ä¸¤ä¸ªå±æ€§éƒ½æ˜¯åªè¯»å±æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç ä¸º</span><br><span class="line">&#x2F;&#x2F; &lt;body onmousedown&#x3D;&quot;showCoords(event)&quot;&gt;</span><br><span class="line">function showCoords(evt)&#123;</span><br><span class="line">  console.log(</span><br><span class="line">    &#39;clientX value: &#39; + evt.clientX + &#39;\n&#39; +</span><br><span class="line">    &#39;clientY value: &#39; + evt.clientY + &#39;\n&#39;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸¤ä¸ªå±æ€§è¿˜åˆ†åˆ«æœ‰ä¸€ä¸ªåˆ«å<code>MouseEvent.x</code>å’Œ<code>MouseEvent.y</code>ã€‚</p>
<h4 id="MouseEvent-movementXï¼ŒMouseEvent-movementY"><a href="#MouseEvent-movementXï¼ŒMouseEvent-movementY" class="headerlink" title="MouseEvent.movementXï¼ŒMouseEvent.movementY"></a>MouseEvent.movementXï¼ŒMouseEvent.movementY</h4><p><code>MouseEvent.movementX</code>å±æ€§è¿”å›å½“å‰ä½ç½®ä¸ä¸Šä¸€ä¸ª<code>mousemove</code>äº‹ä»¶ä¹‹é—´çš„æ°´å¹³è·ç¦»ï¼ˆå•ä½åƒç´ ï¼‰ã€‚æ•°å€¼ä¸Šï¼Œå®ƒç­‰äºä¸‹é¢çš„è®¡ç®—å…¬å¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">currentEvent.movementX &#x3D; currentEvent.screenX - previousEvent.screenX</span><br></pre></td></tr></table></figure>

<p><code>MouseEvent.movementY</code>å±æ€§è¿”å›å½“å‰ä½ç½®ä¸ä¸Šä¸€ä¸ª<code>mousemove</code>äº‹ä»¶ä¹‹é—´çš„å‚ç›´è·ç¦»ï¼ˆå•ä½åƒç´ ï¼‰ã€‚æ•°å€¼ä¸Šï¼Œå®ƒç­‰äºä¸‹é¢çš„è®¡ç®—å…¬å¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">currentEvent.movementY &#x3D; currentEvent.screenY - previousEvent.screenYã€‚</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸¤ä¸ªå±æ€§éƒ½æ˜¯åªè¯»å±æ€§ã€‚</p>
<h4 id="MouseEvent-screenXï¼ŒMouseEvent-screenY"><a href="#MouseEvent-screenXï¼ŒMouseEvent-screenY" class="headerlink" title="MouseEvent.screenXï¼ŒMouseEvent.screenY"></a>MouseEvent.screenXï¼ŒMouseEvent.screenY</h4><p><code>MouseEvent.screenX</code>å±æ€§è¿”å›é¼ æ ‡ä½ç½®ç›¸å¯¹äºå±å¹•å·¦ä¸Šè§’çš„æ°´å¹³åæ ‡ï¼ˆå•ä½åƒç´ ï¼‰ï¼Œ<code>MouseEvent.screenY</code>å±æ€§è¿”å›å‚ç›´åæ ‡ã€‚è¿™ä¸¤ä¸ªå±æ€§éƒ½æ˜¯åªè¯»å±æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">&#x2F;&#x2F; &lt;body onmousedown&#x3D;&quot;showCoords(event)&quot;&gt;</span><br><span class="line">function showCoords(evt) &#123;</span><br><span class="line">  console.log(</span><br><span class="line">    &#39;screenX value: &#39; + evt.screenX + &#39;\n&#39;,</span><br><span class="line">    &#39;screenY value: &#39; + evt.screenY + &#39;\n&#39;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="MouseEvent-offsetXï¼ŒMouseEvent-offsetY"><a href="#MouseEvent-offsetXï¼ŒMouseEvent-offsetY" class="headerlink" title="MouseEvent.offsetXï¼ŒMouseEvent.offsetY"></a>MouseEvent.offsetXï¼ŒMouseEvent.offsetY</h4><p><code>MouseEvent.offsetX</code>å±æ€§è¿”å›é¼ æ ‡ä½ç½®ä¸ç›®æ ‡èŠ‚ç‚¹å·¦ä¾§çš„<code>padding</code>è¾¹ç¼˜çš„æ°´å¹³è·ç¦»ï¼ˆå•ä½åƒç´ ï¼‰ï¼Œ<code>MouseEvent.offsetY</code>å±æ€§è¿”å›ä¸ç›®æ ‡èŠ‚ç‚¹ä¸Šæ–¹çš„<code>padding</code>è¾¹ç¼˜çš„å‚ç›´è·ç¦»ã€‚è¿™ä¸¤ä¸ªå±æ€§éƒ½æ˜¯åªè¯»å±æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    p &#123;</span><br><span class="line">      width: 100px;</span><br><span class="line">      height: 100px;</span><br><span class="line">      padding: 100px;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;&#x2F;style&gt;</span><br><span class="line">  &lt;p&gt;Hello&lt;&#x2F;p&gt;</span><br><span class="line">*&#x2F;</span><br><span class="line">var p &#x3D; document.querySelector(&#39;p&#39;);</span><br><span class="line">p.addEventListener(</span><br><span class="line">  &#39;click&#39;,</span><br><span class="line">  function (e) &#123;</span><br><span class="line">    console.log(e.offsetX);</span><br><span class="line">    console.log(e.offsetY);</span><br><span class="line">  &#125;,</span><br><span class="line">  false</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œé¼ æ ‡å¦‚æœåœ¨<code>p</code>å…ƒç´ çš„ä¸­å¿ƒä½ç½®ç‚¹å‡»ï¼Œä¼šè¿”å›<code>150 150</code>ã€‚å› æ­¤ä¸­å¿ƒä½ç½®è·ç¦»å·¦ä¾§å’Œä¸Šæ–¹çš„<code>padding</code>è¾¹ç¼˜ï¼Œç­‰äº<code>padding</code>çš„å®½åº¦ï¼ˆ100åƒç´ ï¼‰åŠ ä¸Šå…ƒç´ å†…å®¹åŒºåŸŸä¸€åŠçš„å®½åº¦ï¼ˆ50åƒç´ ï¼‰ã€‚</p>
<h4 id="MouseEvent-pageXï¼ŒMouseEvent-pageY"><a href="#MouseEvent-pageXï¼ŒMouseEvent-pageY" class="headerlink" title="MouseEvent.pageXï¼ŒMouseEvent.pageY"></a>MouseEvent.pageXï¼ŒMouseEvent.pageY</h4><p><code>MouseEvent.pageX</code>å±æ€§è¿”å›é¼ æ ‡ä½ç½®ä¸æ–‡æ¡£å·¦ä¾§è¾¹ç¼˜çš„è·ç¦»ï¼ˆå•ä½åƒç´ ï¼‰ï¼Œ<code>MouseEvent.pageY</code>å±æ€§è¿”å›ä¸æ–‡æ¡£ä¸Šä¾§è¾¹ç¼˜çš„è·ç¦»ï¼ˆå•ä½åƒç´ ï¼‰ã€‚å®ƒä»¬çš„è¿”å›å€¼éƒ½åŒ…æ‹¬æ–‡æ¡£ä¸å¯è§çš„éƒ¨åˆ†ã€‚è¿™ä¸¤ä¸ªå±æ€§éƒ½æ˜¯åªè¯»ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">      height: 2000px;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;&#x2F;style&gt;</span><br><span class="line">*&#x2F;</span><br><span class="line">document.body.addEventListener(</span><br><span class="line">  &#39;click&#39;,</span><br><span class="line">  function (e) &#123;</span><br><span class="line">    console.log(e.pageX);</span><br><span class="line">    console.log(e.pageY);</span><br><span class="line">  &#125;,</span><br><span class="line">  false</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œé¡µé¢é«˜åº¦ä¸º2000åƒç´ ï¼Œä¼šäº§ç”Ÿå‚ç›´æ»šåŠ¨æ¡ã€‚æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨ï¼Œç‚¹å‡»é¼ æ ‡è¾“å‡ºçš„<code>pageY</code>å€¼ä¼šæ¥è¿‘2000ã€‚</p>
<h4 id="MouseEvent-relatedTarget"><a href="#MouseEvent-relatedTarget" class="headerlink" title="MouseEvent.relatedTarget"></a>MouseEvent.relatedTarget</h4><p><code>MouseEvent.relatedTarget</code>å±æ€§è¿”å›äº‹ä»¶çš„ç›¸å…³èŠ‚ç‚¹ã€‚å¯¹äºé‚£äº›æ²¡æœ‰ç›¸å…³èŠ‚ç‚¹çš„äº‹ä»¶ï¼Œè¯¥å±æ€§è¿”å›<code>null</code>ã€‚è¯¥å±æ€§åªè¯»ã€‚</p>
<p>ä¸‹è¡¨åˆ—å‡ºä¸åŒäº‹ä»¶çš„<code>target</code>å±æ€§å€¼å’Œ<code>relatedTarget</code>å±æ€§å€¼ä¹‰ã€‚</p>
<table>
<thead>
<tr>
<th>äº‹ä»¶åç§°</th>
<th>target å±æ€§</th>
<th>relatedTarget å±æ€§</th>
</tr>
</thead>
<tbody><tr>
<td>focusin</td>
<td>æ¥å—ç„¦ç‚¹çš„èŠ‚ç‚¹</td>
<td>ä¸§å¤±ç„¦ç‚¹çš„èŠ‚ç‚¹</td>
</tr>
<tr>
<td>focusout</td>
<td>ä¸§å¤±ç„¦ç‚¹çš„èŠ‚ç‚¹</td>
<td>æ¥å—ç„¦ç‚¹çš„èŠ‚ç‚¹</td>
</tr>
<tr>
<td>mouseenter</td>
<td>å°†è¦è¿›å…¥çš„èŠ‚ç‚¹</td>
<td>å°†è¦ç¦»å¼€çš„èŠ‚ç‚¹</td>
</tr>
<tr>
<td>mouseleave</td>
<td>å°†è¦ç¦»å¼€çš„èŠ‚ç‚¹</td>
<td>å°†è¦è¿›å…¥çš„èŠ‚ç‚¹</td>
</tr>
<tr>
<td>mouseout</td>
<td>å°†è¦ç¦»å¼€çš„èŠ‚ç‚¹</td>
<td>å°†è¦è¿›å…¥çš„èŠ‚ç‚¹</td>
</tr>
<tr>
<td>mouseover</td>
<td>å°†è¦è¿›å…¥çš„èŠ‚ç‚¹</td>
<td>å°†è¦ç¦»å¼€çš„èŠ‚ç‚¹</td>
</tr>
<tr>
<td>dragenter</td>
<td>å°†è¦è¿›å…¥çš„èŠ‚ç‚¹</td>
<td>å°†è¦ç¦»å¼€çš„èŠ‚ç‚¹</td>
</tr>
<tr>
<td>dragexit</td>
<td>å°†è¦ç¦»å¼€çš„èŠ‚ç‚¹</td>
<td>å°†è¦è¿›å…¥çš„èŠ‚ç‚¹</td>
</tr>
</tbody></table>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*</span><br><span class="line">  HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">  &lt;div id&#x3D;&quot;outer&quot; style&#x3D;&quot;height:50px;width:50px;border:1px solid black;&quot;&gt;</span><br><span class="line">    &lt;div id&#x3D;&quot;inner&quot; style&#x3D;&quot;height:25px;width:25px;border:1px solid black;&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">var inner &#x3D; document.getElementById(&#39;inner&#39;);</span><br><span class="line">inner.addEventListener(&#39;mouseover&#39;, function (event) &#123;</span><br><span class="line">  console.log(&#39;è¿›å…¥&#39; + event.target.id + &#39; ç¦»å¼€&#39; + event.relatedTarget.id);</span><br><span class="line">&#125;, false);</span><br><span class="line">inner.addEventListener(&#39;mouseenter&#39;, function (event) &#123;</span><br><span class="line">  console.log(&#39;è¿›å…¥&#39; + event.target.id + &#39; ç¦»å¼€&#39; + event.relatedTarget.id);</span><br><span class="line">&#125;);</span><br><span class="line">inner.addEventListener(&#39;mouseout&#39;, function (event) &#123;</span><br><span class="line">  console.log(&#39;ç¦»å¼€&#39; + event.target.id + &#39; è¿›å…¥&#39; + event.relatedTarget.id);</span><br><span class="line">&#125;);</span><br><span class="line">inner.addEventListener(&quot;mouseleave&quot;, function (event)&#123;</span><br><span class="line">  console.log(&#39;ç¦»å¼€&#39; + event.target.id + &#39; è¿›å…¥&#39; + event.relatedTarget.id);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; é¼ æ ‡ä» outer è¿›å…¥innerï¼Œè¾“å‡º</span><br><span class="line">&#x2F;&#x2F; è¿›å…¥inner ç¦»å¼€outer</span><br><span class="line">&#x2F;&#x2F; è¿›å…¥inner ç¦»å¼€outer</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; é¼ æ ‡ä» innerè¿›å…¥ outerï¼Œè¾“å‡º</span><br><span class="line">&#x2F;&#x2F; ç¦»å¼€inner è¿›å…¥outer</span><br><span class="line">&#x2F;&#x2F; ç¦»å¼€inner è¿›å…¥outer</span><br></pre></td></tr></table></figure>

<h3 id="MouseEvent-æ¥å£çš„å®ä¾‹æ–¹æ³•"><a href="#MouseEvent-æ¥å£çš„å®ä¾‹æ–¹æ³•" class="headerlink" title="MouseEvent æ¥å£çš„å®ä¾‹æ–¹æ³•"></a>MouseEvent æ¥å£çš„å®ä¾‹æ–¹æ³•</h3><h4 id="MouseEvent-getModifierState"><a href="#MouseEvent-getModifierState" class="headerlink" title="MouseEvent.getModifierState()"></a>MouseEvent.getModifierState()</h4><p><code>MouseEvent.getModifierState</code>æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæœ‰æ²¡æœ‰æŒ‰ä¸‹ç‰¹å®šçš„åŠŸèƒ½é”®ã€‚å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªè¡¨ç¤º<a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState#Modifier_keys_on_Gecko" target="_blank" rel="noopener">åŠŸèƒ½é”®</a>çš„å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(&#39;click&#39;, function (e) &#123;</span><br><span class="line">  console.log(e.getModifierState(&#39;CapsLock&#39;));</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç å¯ä»¥äº†è§£ç”¨æˆ·æ˜¯å¦æŒ‰ä¸‹äº†å¤§å†™é”®ã€‚</p>
<h3 id="WheelEvent-æ¥å£"><a href="#WheelEvent-æ¥å£" class="headerlink" title="WheelEvent æ¥å£"></a>WheelEvent æ¥å£</h3><h4 id="æ¦‚è¿°-2"><a href="#æ¦‚è¿°-2" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h4><p>WheelEvent æ¥å£ç»§æ‰¿äº† MouseEvent å®ä¾‹ï¼Œä»£è¡¨é¼ æ ‡æ»šè½®äº‹ä»¶çš„å®ä¾‹å¯¹è±¡ã€‚ç›®å‰ï¼Œé¼ æ ‡æ»šè½®ç›¸å…³çš„äº‹ä»¶åªæœ‰ä¸€ä¸ª<code>wheel</code>äº‹ä»¶ï¼Œç”¨æˆ·æ»šåŠ¨é¼ æ ‡çš„æ»šè½®ï¼Œå°±ç”Ÿæˆè¿™ä¸ªäº‹ä»¶çš„å®ä¾‹ã€‚</p>
<p>æµè§ˆå™¨åŸç”Ÿæä¾›<code>WheelEvent()</code>æ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ<code>WheelEvent</code>å®ä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var wheelEvent &#x3D; new WheelEvent(type, options);</span><br></pre></td></tr></table></figure>

<p><code>WheelEvent()</code>æ„é€ å‡½æ•°å¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºäº‹ä»¶ç±»å‹ï¼Œå¯¹äºæ»šè½®äº‹ä»¶æ¥è¯´ï¼Œè¿™ä¸ªå€¼ç›®å‰åªèƒ½æ˜¯<code>wheel</code>ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯äº‹ä»¶çš„é…ç½®å¯¹è±¡ã€‚è¯¥å¯¹è±¡çš„å±æ€§é™¤äº†<code>Event</code>ã€<code>UIEvent</code>çš„é…ç½®å±æ€§ä»¥å¤–ï¼Œè¿˜å¯ä»¥æ¥å—ä»¥ä¸‹å‡ ä¸ªå±æ€§ï¼Œæ‰€æœ‰å±æ€§éƒ½æ˜¯å¯é€‰çš„ã€‚</p>
<ul>
<li><code>deltaX</code>ï¼šæ•°å€¼ï¼Œè¡¨ç¤ºæ»šè½®çš„æ°´å¹³æ»šåŠ¨é‡ï¼Œé»˜è®¤å€¼æ˜¯ 0.0ã€‚</li>
<li><code>deltaY</code>ï¼šæ•°å€¼ï¼Œè¡¨ç¤ºæ»šè½®çš„å‚ç›´æ»šåŠ¨é‡ï¼Œé»˜è®¤å€¼æ˜¯ 0.0ã€‚</li>
<li><code>deltaZ</code>ï¼šæ•°å€¼ï¼Œè¡¨ç¤ºæ»šè½®çš„ Z è½´æ»šåŠ¨é‡ï¼Œé»˜è®¤å€¼æ˜¯ 0.0ã€‚</li>
<li><code>deltaMode</code>ï¼šæ•°å€¼ï¼Œè¡¨ç¤ºç›¸å…³çš„æ»šåŠ¨äº‹ä»¶çš„å•ä½ï¼Œé€‚ç”¨äºä¸Šé¢ä¸‰ä¸ªå±æ€§ã€‚<code>0</code>è¡¨ç¤ºæ»šåŠ¨å•ä½ä¸ºåƒç´ ï¼Œ<code>1</code>è¡¨ç¤ºå•ä½ä¸ºè¡Œï¼Œ<code>2</code>è¡¨ç¤ºå•ä½ä¸ºé¡µï¼Œé»˜è®¤ä¸º<code>0</code>ã€‚</li>
</ul>
<h4 id="å®ä¾‹å±æ€§-1"><a href="#å®ä¾‹å±æ€§-1" class="headerlink" title="å®ä¾‹å±æ€§"></a>å®ä¾‹å±æ€§</h4><p><code>WheelEvent</code>äº‹ä»¶å®ä¾‹é™¤äº†å…·æœ‰<code>Event</code>å’Œ<code>MouseEvent</code>çš„å®ä¾‹å±æ€§å’Œå®ä¾‹æ–¹æ³•ï¼Œè¿˜æœ‰ä¸€äº›è‡ªå·±çš„å®ä¾‹å±æ€§ï¼Œä½†æ˜¯æ²¡æœ‰è‡ªå·±çš„å®ä¾‹æ–¹æ³•ã€‚</p>
<p>ä¸‹é¢çš„å±æ€§éƒ½æ˜¯åªè¯»å±æ€§ã€‚</p>
<ul>
<li><code>WheelEvent.deltaX</code>ï¼šæ•°å€¼ï¼Œè¡¨ç¤ºæ»šè½®çš„æ°´å¹³æ»šåŠ¨é‡ã€‚</li>
<li><code>WheelEvent.deltaY</code>ï¼šæ•°å€¼ï¼Œè¡¨ç¤ºæ»šè½®çš„å‚ç›´æ»šåŠ¨é‡ã€‚</li>
<li><code>WheelEvent.deltaZ</code>ï¼šæ•°å€¼ï¼Œè¡¨ç¤ºæ»šè½®çš„ Z è½´æ»šåŠ¨é‡ã€‚</li>
<li><code>WheelEvent.deltaMode</code>ï¼šæ•°å€¼ï¼Œè¡¨ç¤ºä¸Šé¢ä¸‰ä¸ªå±æ€§çš„å•ä½ï¼Œ<code>0</code>æ˜¯åƒç´ ï¼Œ<code>1</code>æ˜¯è¡Œï¼Œ<code>2</code>æ˜¯é¡µã€‚</li>
</ul>
<h2 id="é”®ç›˜äº‹ä»¶"><a href="#é”®ç›˜äº‹ä»¶" class="headerlink" title="é”®ç›˜äº‹ä»¶"></a>é”®ç›˜äº‹ä»¶</h2><h3 id="é”®ç›˜äº‹ä»¶çš„ç§ç±»"><a href="#é”®ç›˜äº‹ä»¶çš„ç§ç±»" class="headerlink" title="é”®ç›˜äº‹ä»¶çš„ç§ç±»"></a>é”®ç›˜äº‹ä»¶çš„ç§ç±»</h3><p>é”®ç›˜äº‹ä»¶ç”±ç”¨æˆ·å‡»æ‰“é”®ç›˜è§¦å‘ï¼Œä¸»è¦æœ‰<code>keydown</code>ã€<code>keypress</code>ã€<code>keyup</code>ä¸‰ä¸ªäº‹ä»¶ï¼Œå®ƒä»¬éƒ½ç»§æ‰¿äº†<code>KeyboardEvent</code>æ¥å£ã€‚</p>
<ul>
<li><code>keydown</code>ï¼šæŒ‰ä¸‹é”®ç›˜æ—¶è§¦å‘ã€‚</li>
<li><code>keypress</code>ï¼šæŒ‰ä¸‹æœ‰å€¼çš„é”®æ—¶è§¦å‘ï¼Œå³æŒ‰ä¸‹ Ctrlã€Altã€Shiftã€Meta è¿™æ ·æ— å€¼çš„é”®ï¼Œè¿™ä¸ªäº‹ä»¶ä¸ä¼šè§¦å‘ã€‚å¯¹äºæœ‰å€¼çš„é”®ï¼ŒæŒ‰ä¸‹æ—¶å…ˆè§¦å‘<code>keydown</code>äº‹ä»¶ï¼Œå†è§¦å‘è¿™ä¸ªäº‹ä»¶ã€‚</li>
<li><code>keyup</code>ï¼šæ¾å¼€é”®ç›˜æ—¶è§¦å‘è¯¥äº‹ä»¶ã€‚</li>
</ul>
<p>å¦‚æœç”¨æˆ·ä¸€ç›´æŒ‰é”®ä¸æ¾å¼€ï¼Œå°±ä¼šè¿ç»­è§¦å‘é”®ç›˜äº‹ä»¶ï¼Œè§¦å‘çš„é¡ºåºå¦‚ä¸‹ã€‚</p>
<ol>
<li>keydown</li>
<li>keypress</li>
<li>keydown</li>
<li>keypress</li>
<li>â€¦ï¼ˆé‡å¤ä»¥ä¸Šè¿‡ç¨‹ï¼‰</li>
<li>keyup</li>
</ol>
<h3 id="KeyboardEvent-æ¥å£æ¦‚è¿°"><a href="#KeyboardEvent-æ¥å£æ¦‚è¿°" class="headerlink" title="KeyboardEvent æ¥å£æ¦‚è¿°"></a>KeyboardEvent æ¥å£æ¦‚è¿°</h3><p><code>KeyboardEvent</code>æ¥å£ç”¨æ¥æè¿°ç”¨æˆ·ä¸é”®ç›˜çš„äº’åŠ¨ã€‚è¿™ä¸ªæ¥å£ç»§æ‰¿äº†<code>Event</code>æ¥å£ï¼Œå¹¶ä¸”å®šä¹‰äº†è‡ªå·±çš„å®ä¾‹å±æ€§å’Œå®ä¾‹æ–¹æ³•ã€‚</p>
<p>æµè§ˆå™¨åŸç”Ÿæä¾›<code>KeyboardEvent</code>æ„é€ å‡½æ•°ï¼Œç”¨æ¥æ–°å»ºé”®ç›˜äº‹ä»¶çš„å®ä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new KeyboardEvent(type, options)</span><br></pre></td></tr></table></figure>

<p><code>KeyboardEvent</code>æ„é€ å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºäº‹ä»¶ç±»å‹ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªäº‹ä»¶é…ç½®å¯¹è±¡ï¼Œè¯¥å‚æ•°å¯é€‰ã€‚é™¤äº†<code>Event</code>æ¥å£æä¾›çš„å±æ€§ï¼Œè¿˜å¯ä»¥é…ç½®ä»¥ä¸‹å­—æ®µï¼Œå®ƒä»¬éƒ½æ˜¯å¯é€‰ã€‚</p>
<ul>
<li><code>key</code>ï¼šå­—ç¬¦ä¸²ï¼Œå½“å‰æŒ‰ä¸‹çš„é”®ï¼Œé»˜è®¤ä¸ºç©ºå­—ç¬¦ä¸²ã€‚</li>
<li><code>code</code>ï¼šå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå½“å‰æŒ‰ä¸‹çš„é”®çš„å­—ç¬¦ä¸²å½¢å¼ï¼Œé»˜è®¤ä¸ºç©ºå­—ç¬¦ä¸²ã€‚</li>
<li><code>location</code>ï¼šæ•´æ•°ï¼Œå½“å‰æŒ‰ä¸‹çš„é”®çš„ä½ç½®ï¼Œé»˜è®¤ä¸º<code>0</code>ã€‚</li>
<li><code>ctrlKey</code>ï¼šå¸ƒå°”å€¼ï¼Œæ˜¯å¦æŒ‰ä¸‹ Ctrl é”®ï¼Œé»˜è®¤ä¸º<code>false</code>ã€‚</li>
<li><code>shiftKey</code>ï¼šå¸ƒå°”å€¼ï¼Œæ˜¯å¦æŒ‰ä¸‹ Shift é”®ï¼Œé»˜è®¤ä¸º<code>false</code>ã€‚</li>
<li><code>altKey</code>ï¼šå¸ƒå°”å€¼ï¼Œæ˜¯å¦æŒ‰ä¸‹ Alt é”®ï¼Œé»˜è®¤ä¸º<code>false</code>ã€‚</li>
<li><code>metaKey</code>ï¼šå¸ƒå°”å€¼ï¼Œæ˜¯å¦æŒ‰ä¸‹ Meta é”®ï¼Œé»˜è®¤ä¸º<code>false</code>ã€‚</li>
<li><code>repeat</code>ï¼šå¸ƒå°”å€¼ï¼Œæ˜¯å¦é‡å¤æŒ‰é”®ï¼Œé»˜è®¤ä¸º<code>false</code>ã€‚</li>
</ul>
<h3 id="KeyboardEvent-çš„å®ä¾‹å±æ€§"><a href="#KeyboardEvent-çš„å®ä¾‹å±æ€§" class="headerlink" title="KeyboardEvent çš„å®ä¾‹å±æ€§"></a>KeyboardEvent çš„å®ä¾‹å±æ€§</h3><h4 id="KeyboardEvent-altKeyï¼ŒKeyboardEvent-ctrlKeyï¼ŒKeyboardEvent-metaKeyï¼ŒKeyboardEvent-shiftKey"><a href="#KeyboardEvent-altKeyï¼ŒKeyboardEvent-ctrlKeyï¼ŒKeyboardEvent-metaKeyï¼ŒKeyboardEvent-shiftKey" class="headerlink" title="KeyboardEvent.altKeyï¼ŒKeyboardEvent.ctrlKeyï¼ŒKeyboardEvent.metaKeyï¼ŒKeyboardEvent.shiftKey"></a>KeyboardEvent.altKeyï¼ŒKeyboardEvent.ctrlKeyï¼ŒKeyboardEvent.metaKeyï¼ŒKeyboardEvent.shiftKey</h4><p>ä»¥ä¸‹å±æ€§éƒ½æ˜¯åªè¯»å±æ€§ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æŒ‰ä¸‹å¯¹åº”çš„é”®ã€‚</p>
<ul>
<li><code>KeyboardEvent.altKey</code>ï¼šæ˜¯å¦æŒ‰ä¸‹ Alt é”®</li>
<li><code>KeyboardEvent.ctrlKey</code>ï¼šæ˜¯å¦æŒ‰ä¸‹ Ctrl é”®</li>
<li><code>KeyboardEvent.metaKey</code>ï¼šæ˜¯å¦æŒ‰ä¸‹ meta é”®ï¼ˆMac ç³»ç»Ÿæ˜¯ä¸€ä¸ªå››ç“£çš„å°èŠ±ï¼ŒWindows ç³»ç»Ÿæ˜¯ windows é”®ï¼‰</li>
<li><code>KeyboardEvent.shiftKey</code>ï¼šæ˜¯å¦æŒ‰ä¸‹ Shift é”®</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function showChar(e) &#123;</span><br><span class="line">  console.log(&#39;ALT: &#39; + e.altKey);</span><br><span class="line">  console.log(&#39;CTRL: &#39; + e.ctrlKey);</span><br><span class="line">  console.log(&#39;Meta: &#39; + e.metaKey);</span><br><span class="line">  console.log(&#39;Shift: &#39; + e.shiftKey);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.body.addEventListener(&#39;keydown&#39;, showChar, false);</span><br></pre></td></tr></table></figure>

<h4 id="KeyboardEvent-code"><a href="#KeyboardEvent-code" class="headerlink" title="KeyboardEvent.code"></a>KeyboardEvent.code</h4><p><code>KeyboardEvent.code</code>å±æ€§è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå½“å‰æŒ‰ä¸‹çš„é”®çš„å­—ç¬¦ä¸²å½¢å¼ã€‚è¯¥å±æ€§åªè¯»ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨é”®çš„å­—ç¬¦ä¸²å½¢å¼ï¼Œå…¶ä»–é”®è¯·æŸ¥<a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code/code_values" target="_blank" rel="noopener">æ–‡æ¡£</a>ã€‚</p>
<ul>
<li>æ•°å­—é”®0 - 9ï¼šè¿”å›<code>digit0</code> - <code>digit9</code></li>
<li>å­—æ¯é”®A - zï¼šè¿”å›<code>KeyA</code> - <code>KeyZ</code></li>
<li>åŠŸèƒ½é”®F1 - F12ï¼šè¿”å› <code>F1</code> - <code>F12</code></li>
<li>æ–¹å‘é”®ï¼šè¿”å›<code>ArrowDown</code>ã€<code>ArrowUp</code>ã€<code>ArrowLeft</code>ã€<code>ArrowRight</code></li>
<li>Alt é”®ï¼šè¿”å›<code>AltLeft</code>æˆ–<code>AltRight</code></li>
<li>Shift é”®ï¼šè¿”å›<code>ShiftLeft</code>æˆ–<code>ShiftRight</code></li>
<li>Ctrl é”®ï¼šè¿”å›<code>ControlLeft</code>æˆ–<code>ControlRight</code></li>
</ul>
<h4 id="KeyboardEvent-key"><a href="#KeyboardEvent-key" class="headerlink" title="KeyboardEvent.key"></a>KeyboardEvent.key</h4><p><code>KeyboardEvent.key</code>å±æ€§è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæŒ‰ä¸‹çš„é”®åã€‚è¯¥å±æ€§åªè¯»ã€‚</p>
<p>å¦‚æœæŒ‰ä¸‹çš„é”®ä»£è¡¨å¯æ‰“å°å­—ç¬¦ï¼Œåˆ™è¿”å›è¿™ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚æ•°å­—ã€å­—æ¯ã€‚</p>
<p>å¦‚æœæŒ‰ä¸‹çš„é”®ä»£è¡¨ä¸å¯æ‰“å°çš„ç‰¹æ®Šå­—ç¬¦ï¼Œåˆ™è¿”å›é¢„å®šä¹‰çš„é”®å€¼ï¼Œæ¯”å¦‚ Backspaceï¼ŒTabï¼ŒEnterï¼ŒShiftï¼ŒControlï¼ŒAltï¼ŒCapsLockï¼ŒEscï¼ŒSpacebarï¼ŒPageUpï¼ŒPageDownï¼ŒEndï¼ŒHomeï¼ŒLeftï¼ŒRightï¼ŒUpï¼ŒDownï¼ŒPrintScreenï¼ŒInsertï¼ŒDelï¼ŒWinï¼ŒF1ï½F12ï¼ŒNumLockï¼ŒScroll ç­‰ã€‚</p>
<p>å¦‚æœåŒæ—¶æŒ‰ä¸‹ä¸€ä¸ªæ§åˆ¶é”®å’Œä¸€ä¸ªç¬¦å·é”®ï¼Œåˆ™è¿”å›ç¬¦å·é”®çš„é”®åã€‚æ¯”å¦‚ï¼ŒæŒ‰ä¸‹ Ctrl + aï¼Œåˆ™è¿”å›<code>a</code>ï¼›æŒ‰ä¸‹ Shift + aï¼Œåˆ™è¿”å›å¤§å†™çš„<code>A</code>ã€‚</p>
<p>å¦‚æœæ— æ³•è¯†åˆ«é”®åï¼Œè¿”å›å­—ç¬¦ä¸²<code>Unidentified</code>ã€‚</p>
<h4 id="KeyboardEvent-location"><a href="#KeyboardEvent-location" class="headerlink" title="KeyboardEvent.location"></a>KeyboardEvent.location</h4><p><code>KeyboardEvent.location</code>å±æ€§è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæŒ‰ä¸‹çš„é”®å¤„åœ¨é”®ç›˜çš„å“ªä¸€ä¸ªåŒºåŸŸã€‚å®ƒå¯èƒ½å–ä»¥ä¸‹å€¼ã€‚</p>
<ul>
<li>0ï¼šå¤„åœ¨é”®ç›˜çš„ä¸»åŒºåŸŸï¼Œæˆ–è€…æ— æ³•åˆ¤æ–­å¤„äºå“ªä¸€ä¸ªåŒºåŸŸã€‚</li>
<li>1ï¼šå¤„åœ¨é”®ç›˜çš„å·¦ä¾§ï¼Œåªé€‚ç”¨é‚£äº›æœ‰ä¸¤ä¸ªä½ç½®çš„é”®ï¼ˆæ¯”å¦‚ Ctrl å’Œ Shift é”®ï¼‰ã€‚</li>
<li>2ï¼šå¤„åœ¨é”®ç›˜çš„å³ä¾§ï¼Œåªé€‚ç”¨é‚£äº›æœ‰ä¸¤ä¸ªä½ç½®çš„é”®ï¼ˆæ¯”å¦‚ Ctrl å’Œ Shift é”®ï¼‰ã€‚</li>
<li>3ï¼šå¤„åœ¨æ•°å­—å°é”®ç›˜ã€‚</li>
</ul>
<h4 id="KeyboardEvent-repeat"><a href="#KeyboardEvent-repeat" class="headerlink" title="KeyboardEvent.repeat"></a>KeyboardEvent.repeat</h4><p><code>KeyboardEvent.repeat</code>è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œä»£è¡¨è¯¥é”®æ˜¯å¦è¢«æŒ‰ç€ä¸æ”¾ï¼Œä»¥ä¾¿åˆ¤æ–­æ˜¯å¦é‡å¤è¿™ä¸ªé”®ï¼Œå³æµè§ˆå™¨ä¼šæŒç»­è§¦å‘<code>keydown</code>å’Œ<code>keypress</code>äº‹ä»¶ï¼Œç›´åˆ°ç”¨æˆ·æ¾å¼€æ‰‹ä¸ºæ­¢ã€‚</p>
<h3 id="KeyboardEvent-çš„å®ä¾‹æ–¹æ³•"><a href="#KeyboardEvent-çš„å®ä¾‹æ–¹æ³•" class="headerlink" title="KeyboardEvent çš„å®ä¾‹æ–¹æ³•"></a>KeyboardEvent çš„å®ä¾‹æ–¹æ³•</h3><h4 id="KeyboardEvent-getModifierState"><a href="#KeyboardEvent-getModifierState" class="headerlink" title="KeyboardEvent.getModifierState()"></a>KeyboardEvent.getModifierState()</h4><p><code>KeyboardEvent.getModifierState()</code>æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æŒ‰ä¸‹æˆ–æ¿€æ´»æŒ‡å®šçš„åŠŸèƒ½é”®ã€‚å®ƒçš„å¸¸ç”¨å‚æ•°å¦‚ä¸‹ã€‚</p>
<ul>
<li><code>Alt</code>ï¼šAlt é”®</li>
<li><code>CapsLock</code>ï¼šå¤§å†™é”å®šé”®</li>
<li><code>Control</code>ï¼šCtrl é”®</li>
<li><code>Meta</code>ï¼šMeta é”®</li>
<li><code>NumLock</code>ï¼šæ•°å­—é”®ç›˜å¼€å…³é”®</li>
<li><code>Shift</code>ï¼šShift é”®</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if (</span><br><span class="line">  event.getModifierState(&#39;Control&#39;) +</span><br><span class="line">  event.getModifierState(&#39;Alt&#39;) +</span><br><span class="line">  event.getModifierState(&#39;Meta&#39;) &gt; 1</span><br><span class="line">) &#123;</span><br><span class="line">  return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œåªè¦<code>Control</code>ã€<code>Alt</code>ã€<code>Meta</code>é‡Œé¢ï¼ŒåŒæ—¶æŒ‰ä¸‹ä»»æ„ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„é”®å°±è¿”å›ã€‚</p>
<h2 id="è¿›åº¦äº‹ä»¶"><a href="#è¿›åº¦äº‹ä»¶" class="headerlink" title="è¿›åº¦äº‹ä»¶"></a>è¿›åº¦äº‹ä»¶</h2><h3 id="è¿›åº¦äº‹ä»¶çš„ç§ç±»"><a href="#è¿›åº¦äº‹ä»¶çš„ç§ç±»" class="headerlink" title="è¿›åº¦äº‹ä»¶çš„ç§ç±»"></a>è¿›åº¦äº‹ä»¶çš„ç§ç±»</h3><p>è¿›åº¦äº‹ä»¶ç”¨æ¥æè¿°èµ„æºåŠ è½½çš„è¿›åº¦ï¼Œä¸»è¦ç”± AJAX è¯·æ±‚ã€<code>&lt;img&gt;</code>ã€<code>&lt;audio&gt;</code>ã€<code>&lt;video&gt;</code>ã€<code>&lt;style&gt;</code>ã€<code>&lt;link&gt;</code>ç­‰å¤–éƒ¨èµ„æºçš„åŠ è½½è§¦å‘ï¼Œç»§æ‰¿äº†<code>ProgressEvent</code>æ¥å£ã€‚å®ƒä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ç§äº‹ä»¶ã€‚</p>
<ul>
<li><code>abort</code>ï¼šå¤–éƒ¨èµ„æºä¸­æ­¢åŠ è½½æ—¶ï¼ˆæ¯”å¦‚ç”¨æˆ·å–æ¶ˆï¼‰è§¦å‘ã€‚å¦‚æœå‘ç”Ÿé”™è¯¯å¯¼è‡´ä¸­æ­¢ï¼Œä¸ä¼šè§¦å‘è¯¥äº‹ä»¶ã€‚</li>
<li><code>error</code>ï¼šç”±äºé”™è¯¯å¯¼è‡´å¤–éƒ¨èµ„æºæ— æ³•åŠ è½½æ—¶è§¦å‘ã€‚</li>
<li><code>load</code>ï¼šå¤–éƒ¨èµ„æºåŠ è½½æˆåŠŸæ—¶è§¦å‘ã€‚</li>
<li><code>loadstart</code>ï¼šå¤–éƒ¨èµ„æºå¼€å§‹åŠ è½½æ—¶è§¦å‘ã€‚</li>
<li><code>loadend</code>ï¼šå¤–éƒ¨èµ„æºåœæ­¢åŠ è½½æ—¶è§¦å‘ï¼Œå‘ç”Ÿé¡ºåºæ’åœ¨<code>error</code>ã€<code>abort</code>ã€<code>load</code>ç­‰äº‹ä»¶çš„åé¢ã€‚</li>
<li><code>progress</code>ï¼šå¤–éƒ¨èµ„æºåŠ è½½è¿‡ç¨‹ä¸­ä¸æ–­è§¦å‘ã€‚</li>
<li><code>timeout</code>ï¼šåŠ è½½è¶…æ—¶æ—¶è§¦å‘ã€‚</li>
</ul>
<p>æ³¨æ„ï¼Œé™¤äº†èµ„æºä¸‹è½½ï¼Œæ–‡ä»¶ä¸Šä¼ ä¹Ÿå­˜åœ¨è¿™äº›äº‹ä»¶ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">image.addEventListener(&#39;load&#39;, function (event) &#123;</span><br><span class="line">  image.classList.add(&#39;finished&#39;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">image.addEventListener(&#39;error&#39;, function (event) &#123;</span><br><span class="line">  image.style.display &#x3D; &#39;none&#39;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç åœ¨å›¾ç‰‡å…ƒç´ åŠ è½½å®Œæˆåï¼Œä¸ºå›¾ç‰‡å…ƒç´ æ·»åŠ ä¸€ä¸ª<code>finished</code>çš„ Classã€‚å¦‚æœåŠ è½½å¤±è´¥ï¼Œå°±æŠŠå›¾ç‰‡å…ƒç´ çš„æ ·å¼è®¾ç½®ä¸ºä¸æ˜¾ç¤ºã€‚</p>
<p>æœ‰æ—¶å€™ï¼Œå›¾ç‰‡åŠ è½½ä¼šåœ¨è„šæœ¬è¿è¡Œä¹‹å‰å°±å®Œæˆï¼Œå°¤å…¶æ˜¯å½“è„šæœ¬æ”¾ç½®åœ¨ç½‘é¡µåº•éƒ¨çš„æ—¶å€™ï¼Œå› æ­¤æœ‰å¯èƒ½<code>load</code>å’Œ<code>error</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°æ ¹æœ¬ä¸ä¼šæ‰§è¡Œã€‚æ‰€ä»¥ï¼Œæ¯”è¾ƒå¯é çš„æ–¹å¼ï¼Œæ˜¯ç”¨<code>complete</code>å±æ€§å…ˆåˆ¤æ–­ä¸€ä¸‹æ˜¯å¦åŠ è½½å®Œæˆã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function loaded() &#123;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (image.complete) &#123;</span><br><span class="line">  loaded();</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  image.addEventListener(&#39;load&#39;, loaded);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±äº DOM çš„å…ƒç´ èŠ‚ç‚¹æ²¡æœ‰æä¾›æ˜¯å¦åŠ è½½é”™è¯¯çš„å±æ€§ï¼Œæ‰€ä»¥<code>error</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°æœ€å¥½æ”¾åœ¨<code>&lt;img&gt;</code>å…ƒç´ çš„ HTML ä»£ç ä¸­ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯å‘ç”ŸåŠ è½½é”™è¯¯æ—¶ç™¾åˆ†ä¹‹ç™¾ä¼šæ‰§è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src&#x3D;&quot;&#x2F;wrong&#x2F;url&quot; onerror&#x3D;&quot;this.style.display&#x3D;&#39;none&#39;;&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure>

<p><code>loadend</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥å–ä»£<code>abort</code>äº‹ä»¶ã€<code>load</code>äº‹ä»¶ã€<code>error</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ï¼Œå› ä¸ºå®ƒæ€»æ˜¯åœ¨è¿™äº›äº‹ä»¶ä¹‹åå‘ç”Ÿã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">req.addEventListener(&#39;loadend&#39;, loadEnd, false);</span><br><span class="line"></span><br><span class="line">function loadEnd(e) &#123;</span><br><span class="line">  console.log(&#39;ä¼ è¾“ç»“æŸï¼ŒæˆåŠŸå¤±è´¥æœªçŸ¥&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>loadend</code>äº‹ä»¶æœ¬èº«ä¸æä¾›å…³äºè¿›åº¦ç»“æŸçš„åŸå› ï¼Œä½†å¯ä»¥ç”¨å®ƒæ¥åšæ‰€æœ‰åŠ è½½ç»“æŸåœºæ™¯éƒ½éœ€è¦åšçš„ä¸€äº›æ“ä½œã€‚</p>
<p>å¦å¤–ï¼Œ<code>error</code>äº‹ä»¶æœ‰ä¸€ä¸ªç‰¹æ®Šçš„æ€§è´¨ï¼Œå°±æ˜¯ä¸ä¼šå†’æ³¡ã€‚æ‰€ä»¥ï¼Œå­å…ƒç´ çš„<code>error</code>äº‹ä»¶ï¼Œä¸ä¼šè§¦å‘çˆ¶å…ƒç´ çš„<code>error</code>äº‹ä»¶ç›‘å¬å‡½æ•°ã€‚</p>
<h3 id="ProgressEvent-æ¥å£"><a href="#ProgressEvent-æ¥å£" class="headerlink" title="ProgressEvent æ¥å£"></a>ProgressEvent æ¥å£</h3><p><code>ProgressEvent</code>æ¥å£ä¸»è¦ç”¨æ¥æè¿°å¤–éƒ¨èµ„æºåŠ è½½çš„è¿›åº¦ï¼Œæ¯”å¦‚ AJAX åŠ è½½ã€<code>&lt;img&gt;</code>ã€<code>&lt;video&gt;</code>ã€<code>&lt;style&gt;</code>ã€<code>&lt;link&gt;</code>ç­‰å¤–éƒ¨èµ„æºåŠ è½½ã€‚è¿›åº¦ç›¸å…³çš„äº‹ä»¶éƒ½ç»§æ‰¿äº†è¿™ä¸ªæ¥å£ã€‚</p>
<p>æµè§ˆå™¨åŸç”Ÿæä¾›äº†<code>ProgressEvent()</code>æ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆäº‹ä»¶å®ä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new ProgressEvent(type, options)</span><br></pre></td></tr></table></figure>

<p><code>ProgressEvent()</code>æ„é€ å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºäº‹ä»¶çš„ç±»å‹ï¼Œè¿™ä¸ªå‚æ•°æ˜¯å¿…é¡»çš„ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œè¡¨ç¤ºäº‹ä»¶çš„å±æ€§ï¼Œè¯¥å‚æ•°å¯é€‰ã€‚é…ç½®å¯¹è±¡é™¤äº†å¯ä»¥ä½¿ç”¨<code>Event</code>æ¥å£çš„é…ç½®å±æ€§ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å±æ€§ï¼Œæ‰€æœ‰è¿™äº›å±æ€§éƒ½æ˜¯å¯é€‰çš„ã€‚</p>
<ul>
<li><code>lengthComputable</code>ï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåŠ è½½çš„æ€»é‡æ˜¯å¦å¯ä»¥è®¡ç®—ï¼Œé»˜è®¤æ˜¯<code>false</code>ã€‚</li>
<li><code>loaded</code>ï¼šæ•´æ•°ï¼Œè¡¨ç¤ºå·²ç»åŠ è½½çš„é‡ï¼Œé»˜è®¤æ˜¯<code>0</code>ã€‚</li>
<li><code>total</code>ï¼šæ•´æ•°ï¼Œè¡¨ç¤ºéœ€è¦åŠ è½½çš„æ€»é‡ï¼Œé»˜è®¤æ˜¯<code>0</code>ã€‚</li>
</ul>
<p><code>ProgressEvent</code>å…·æœ‰å¯¹åº”çš„å®ä¾‹å±æ€§ã€‚</p>
<ul>
<li><code>ProgressEvent.lengthComputable</code></li>
<li><code>ProgressEvent.loaded</code></li>
<li><code>ProgressEvent.total</code></li>
</ul>
<p>å¦‚æœ<code>ProgressEvent.lengthComputable</code>ä¸º<code>false</code>ï¼Œ<code>ProgressEvent.total</code>å®é™…ä¸Šæ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var p &#x3D; new ProgressEvent(&#39;load&#39;, &#123;</span><br><span class="line">  lengthComputable: true,</span><br><span class="line">  loaded: 30,</span><br><span class="line">  total: 100,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">document.body.addEventListener(&#39;load&#39;, function (e) &#123;</span><br><span class="line">  console.log(&#39;å·²ç»åŠ è½½ï¼š&#39; + (e.loaded &#x2F; e.total) * 100 + &#39;%&#39;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">document.body.dispatchEvent(p);</span><br><span class="line">&#x2F;&#x2F; å·²ç»åŠ è½½ï¼š30%</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç å…ˆæ„é€ ä¸€ä¸ª<code>load</code>äº‹ä»¶ï¼ŒæŠ›å‡ºåè¢«ç›‘å¬å‡½æ•°æ•æ‰åˆ°ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®é™…çš„ä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">var xhr &#x3D; new XMLHttpRequest();</span><br><span class="line"></span><br><span class="line">xhr.addEventListener(&#39;progress&#39;, updateProgress, false);</span><br><span class="line">xhr.addEventListener(&#39;load&#39;, transferComplete, false);</span><br><span class="line">xhr.addEventListener(&#39;error&#39;, transferFailed, false);</span><br><span class="line">xhr.addEventListener(&#39;abort&#39;, transferCanceled, false);</span><br><span class="line"></span><br><span class="line">xhr.open();</span><br><span class="line"></span><br><span class="line">function updateProgress(e) &#123;</span><br><span class="line">  if (e.lengthComputable) &#123;</span><br><span class="line">    var percentComplete &#x3D; e.loaded &#x2F; e.total;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    console.log(&#39;ä¸èƒ½è®¡ç®—è¿›åº¦&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function transferComplete(e) &#123;</span><br><span class="line">  console.log(&#39;ä¼ è¾“ç»“æŸ&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function transferFailed(evt) &#123;</span><br><span class="line">  console.log(&#39;ä¼ è¾“è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function transferCanceled(evt) &#123;</span><br><span class="line">  console.log(&#39;ç”¨æˆ·å–æ¶ˆäº†ä¼ è¾“&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢æ˜¯ä¸‹è½½è¿‡ç¨‹çš„è¿›åº¦äº‹ä»¶ï¼Œè¿˜å­˜åœ¨ä¸Šä¼ è¿‡ç¨‹çš„è¿›åº¦äº‹ä»¶ã€‚è¿™æ—¶æ‰€æœ‰ç›‘å¬å‡½æ•°éƒ½è¦æ”¾åœ¨<code>XMLHttpRequest.upload</code>å¯¹è±¡ä¸Šé¢ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var xhr &#x3D; new XMLHttpRequest();</span><br><span class="line"></span><br><span class="line">xhr.upload.addEventListener(&#39;progress&#39;, updateProgress, false);</span><br><span class="line">xhr.upload.addEventListener(&#39;load&#39;, transferComplete, false);</span><br><span class="line">xhr.upload.addEventListener(&#39;error&#39;, transferFailed, false);</span><br><span class="line">xhr.upload.addEventListener(&#39;abort&#39;, transferCanceled, false);</span><br><span class="line"></span><br><span class="line">xhr.open();</span><br></pre></td></tr></table></figure>

<h2 id="è¡¨å•äº‹ä»¶"><a href="#è¡¨å•äº‹ä»¶" class="headerlink" title="è¡¨å•äº‹ä»¶"></a>è¡¨å•äº‹ä»¶</h2><h3 id="è¡¨å•äº‹ä»¶çš„ç§ç±»"><a href="#è¡¨å•äº‹ä»¶çš„ç§ç±»" class="headerlink" title="è¡¨å•äº‹ä»¶çš„ç§ç±»"></a>è¡¨å•äº‹ä»¶çš„ç§ç±»</h3><h4 id="input-äº‹ä»¶"><a href="#input-äº‹ä»¶" class="headerlink" title="input äº‹ä»¶"></a>input äº‹ä»¶</h4><p><code>input</code>äº‹ä»¶å½“<code>&lt;input&gt;</code>ã€<code>&lt;select&gt;</code>ã€<code>&lt;textarea&gt;</code>çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ã€‚å¯¹äºå¤é€‰æ¡†ï¼ˆ<code>&lt;input type=checkbox&gt;</code>ï¼‰æˆ–å•é€‰æ¡†ï¼ˆ<code>&lt;input type=radio&gt;</code>ï¼‰ï¼Œç”¨æˆ·æ”¹å˜é€‰é¡¹æ—¶ï¼Œä¹Ÿä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶ã€‚å¦å¤–ï¼Œå¯¹äºæ‰“å¼€<code>contenteditable</code>å±æ€§çš„å…ƒç´ ï¼Œåªè¦å€¼å‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿä¼šè§¦å‘<code>input</code>äº‹ä»¶ã€‚</p>
<p><code>input</code>äº‹ä»¶çš„ä¸€ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯ä¼šè¿ç»­è§¦å‘ï¼Œæ¯”å¦‚ç”¨æˆ·æ¯æŒ‰ä¸‹ä¸€æ¬¡æŒ‰é”®ï¼Œå°±ä¼šè§¦å‘ä¸€æ¬¡<code>input</code>äº‹ä»¶ã€‚</p>
<p><code>input</code>äº‹ä»¶å¯¹è±¡ç»§æ‰¿äº†<code>InputEvent</code>æ¥å£ã€‚</p>
<p>è¯¥äº‹ä»¶è·Ÿ<code>change</code>äº‹ä»¶å¾ˆåƒï¼Œä¸åŒä¹‹å¤„åœ¨äº<code>input</code>äº‹ä»¶åœ¨å…ƒç´ çš„å€¼å‘ç”Ÿå˜åŒ–åç«‹å³å‘ç”Ÿï¼Œè€Œ<code>change</code>åœ¨å…ƒç´ å¤±å»ç„¦ç‚¹æ—¶å‘ç”Ÿï¼Œè€Œå†…å®¹æ­¤æ—¶å¯èƒ½å·²ç»å˜åŒ–å¤šæ¬¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæœ‰è¿ç»­å˜åŒ–ï¼Œ<code>input</code>äº‹ä»¶ä¼šè§¦å‘å¤šæ¬¡ï¼Œè€Œ<code>change</code>äº‹ä»¶åªåœ¨å¤±å»ç„¦ç‚¹æ—¶è§¦å‘ä¸€æ¬¡ã€‚</p>
<p>ä¸‹é¢æ˜¯<code>&lt;select&gt;</code>å…ƒç´ çš„ä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">&lt;select id&#x3D;&quot;mySelect&quot;&gt;</span><br><span class="line">  &lt;option value&#x3D;&quot;1&quot;&gt;1&lt;&#x2F;option&gt;</span><br><span class="line">  &lt;option value&#x3D;&quot;2&quot;&gt;2&lt;&#x2F;option&gt;</span><br><span class="line">  &lt;option value&#x3D;&quot;3&quot;&gt;3&lt;&#x2F;option&gt;</span><br><span class="line">&lt;&#x2F;select&gt;</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">function inputHandler(e) &#123;</span><br><span class="line">  console.log(e.target.value)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var mySelect &#x3D; document.querySelector(&#39;#mySelect&#39;);</span><br><span class="line">mySelect.addEventListener(&#39;input&#39;, inputHandler);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ”¹å˜ä¸‹æ‹‰æ¡†é€‰é¡¹æ—¶ï¼Œä¼šè§¦å‘<code>input</code>äº‹ä»¶ï¼Œä»è€Œæ‰§è¡Œå›è°ƒå‡½æ•°<code>inputHandler</code>ã€‚</p>
<h4 id="select-äº‹ä»¶"><a href="#select-äº‹ä»¶" class="headerlink" title="select äº‹ä»¶"></a>select äº‹ä»¶</h4><p><code>select</code>äº‹ä»¶å½“åœ¨<code>&lt;input&gt;</code>ã€<code>&lt;textarea&gt;</code>é‡Œé¢é€‰ä¸­æ–‡æœ¬æ—¶è§¦å‘ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">&#x2F;&#x2F; &lt;input id&#x3D;&quot;test&quot; type&#x3D;&quot;text&quot; value&#x3D;&quot;Select me!&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">var elem &#x3D; document.getElementById(&#39;test&#39;);</span><br><span class="line">elem.addEventListener(&#39;select&#39;, function (e) &#123;</span><br><span class="line">  console.log(e.type); &#x2F;&#x2F; &quot;select&quot;</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<p>é€‰ä¸­çš„æ–‡æœ¬å¯ä»¥é€šè¿‡<code>event.target</code>å…ƒç´ çš„<code>selectionDirection</code>ã€<code>selectionEnd</code>ã€<code>selectionStart</code>å’Œ<code>value</code>å±æ€§æ‹¿åˆ°ã€‚</p>
<h4 id="change-äº‹ä»¶"><a href="#change-äº‹ä»¶" class="headerlink" title="change äº‹ä»¶"></a>change äº‹ä»¶</h4><p><code>change</code>äº‹ä»¶å½“<code>&lt;input&gt;</code>ã€<code>&lt;select&gt;</code>ã€<code>&lt;textarea&gt;</code>çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ã€‚å®ƒä¸<code>input</code>äº‹ä»¶çš„æœ€å¤§ä¸åŒï¼Œå°±æ˜¯ä¸ä¼šè¿ç»­è§¦å‘ï¼Œåªæœ‰å½“å…¨éƒ¨ä¿®æ”¹å®Œæˆæ—¶æ‰ä¼šè§¦å‘ï¼Œå¦ä¸€æ–¹é¢<code>input</code>äº‹ä»¶å¿…ç„¶ä¼´éš<code>change</code>äº‹ä»¶ã€‚å…·ä½“æ¥è¯´ï¼Œåˆ†æˆä»¥ä¸‹å‡ ç§æƒ…å†µã€‚</p>
<ul>
<li>æ¿€æ´»å•é€‰æ¡†ï¼ˆradioï¼‰æˆ–å¤é€‰æ¡†ï¼ˆcheckboxï¼‰æ—¶è§¦å‘ã€‚</li>
<li>ç”¨æˆ·æäº¤æ—¶è§¦å‘ã€‚æ¯”å¦‚ï¼Œä»ä¸‹åˆ—åˆ—è¡¨ï¼ˆselectï¼‰å®Œæˆé€‰æ‹©ï¼Œåœ¨æ—¥æœŸæˆ–æ–‡ä»¶è¾“å…¥æ¡†å®Œæˆé€‰æ‹©ã€‚</li>
<li>å½“æ–‡æœ¬æ¡†æˆ–<code>&lt;textarea&gt;</code>å…ƒç´ çš„å€¼å‘ç”Ÿæ”¹å˜ï¼Œå¹¶ä¸”ä¸§å¤±ç„¦ç‚¹æ—¶è§¦å‘ã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">&#x2F;&#x2F; &lt;select size&#x3D;&quot;1&quot; onchange&#x3D;&quot;changeEventHandler(event);&quot;&gt;</span><br><span class="line">&#x2F;&#x2F;   &lt;option&gt;chocolate&lt;&#x2F;option&gt;</span><br><span class="line">&#x2F;&#x2F;   &lt;option&gt;strawberry&lt;&#x2F;option&gt;</span><br><span class="line">&#x2F;&#x2F;   &lt;option&gt;vanilla&lt;&#x2F;option&gt;</span><br><span class="line">&#x2F;&#x2F; &lt;&#x2F;select&gt;</span><br><span class="line"></span><br><span class="line">function changeEventHandler(event) &#123;</span><br><span class="line">  console.log(event.target.value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ¯”è¾ƒä¸€ä¸‹ä¸Šé¢<code>input</code>äº‹ä»¶çš„ä¾‹å­ï¼Œä½ ä¼šå‘ç°å¯¹äº<code>&lt;select&gt;</code>å…ƒç´ æ¥è¯´ï¼Œ<code>input</code>å’Œ<code>change</code>äº‹ä»¶åŸºæœ¬æ˜¯ç­‰ä»·çš„ã€‚</p>
<h4 id="invalid-äº‹ä»¶"><a href="#invalid-äº‹ä»¶" class="headerlink" title="invalid äº‹ä»¶"></a>invalid äº‹ä»¶</h4><p>ç”¨æˆ·æäº¤è¡¨å•æ—¶ï¼Œå¦‚æœè¡¨å•å…ƒç´ çš„å€¼ä¸æ»¡è¶³æ ¡éªŒæ¡ä»¶ï¼Œå°±ä¼šè§¦å‘<code>invalid</code>äº‹ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;form&gt;</span><br><span class="line">  &lt;input type&#x3D;&quot;text&quot; required oninvalid&#x3D;&quot;console.log(&#39;invalid input&#39;)&quot; &#x2F;&gt;</span><br><span class="line">  &lt;button type&#x3D;&quot;submit&quot;&gt;æäº¤&lt;&#x2F;button&gt;</span><br><span class="line">&lt;&#x2F;form&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œè¾“å…¥æ¡†æ˜¯å¿…å¡«çš„ã€‚å¦‚æœä¸å¡«ï¼Œç”¨æˆ·ç‚¹å‡»æŒ‰é’®æäº¤æ—¶ï¼Œå°±ä¼šè§¦å‘è¾“å…¥æ¡†çš„<code>invalid</code>äº‹ä»¶ï¼Œå¯¼è‡´æäº¤è¢«å–æ¶ˆã€‚</p>
<h4 id="reset-äº‹ä»¶ï¼Œsubmit-äº‹ä»¶"><a href="#reset-äº‹ä»¶ï¼Œsubmit-äº‹ä»¶" class="headerlink" title="reset äº‹ä»¶ï¼Œsubmit äº‹ä»¶"></a>reset äº‹ä»¶ï¼Œsubmit äº‹ä»¶</h4><p>è¿™ä¸¤ä¸ªäº‹ä»¶å‘ç”Ÿåœ¨è¡¨å•å¯¹è±¡<code>&lt;form&gt;</code>ä¸Šï¼Œè€Œä¸æ˜¯å‘ç”Ÿåœ¨è¡¨å•çš„æˆå‘˜ä¸Šã€‚</p>
<p><code>reset</code>äº‹ä»¶å½“è¡¨å•é‡ç½®ï¼ˆæ‰€æœ‰è¡¨å•æˆå‘˜å˜å›é»˜è®¤å€¼ï¼‰æ—¶è§¦å‘ã€‚</p>
<p><code>submit</code>äº‹ä»¶å½“è¡¨å•æ•°æ®å‘æœåŠ¡å™¨æäº¤æ—¶è§¦å‘ã€‚æ³¨æ„ï¼Œ<code>submit</code>äº‹ä»¶çš„å‘ç”Ÿå¯¹è±¡æ˜¯<code>&lt;form&gt;</code>å…ƒç´ ï¼Œè€Œä¸æ˜¯<code>&lt;button&gt;</code>å…ƒç´ ï¼Œå› ä¸ºæäº¤çš„æ˜¯è¡¨å•ï¼Œè€Œä¸æ˜¯æŒ‰é’®ã€‚</p>
<h3 id="InputEvent-æ¥å£"><a href="#InputEvent-æ¥å£" class="headerlink" title="InputEvent æ¥å£"></a>InputEvent æ¥å£</h3><p><code>InputEvent</code>æ¥å£ä¸»è¦ç”¨æ¥æè¿°<code>input</code>äº‹ä»¶çš„å®ä¾‹ã€‚è¯¥æ¥å£ç»§æ‰¿äº†<code>Event</code>æ¥å£ï¼Œè¿˜å®šä¹‰äº†ä¸€äº›è‡ªå·±çš„å®ä¾‹å±æ€§å’Œå®ä¾‹æ–¹æ³•ã€‚</p>
<p>æµè§ˆå™¨åŸç”Ÿæä¾›<code>InputEvent()</code>æ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆå®ä¾‹å¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new InputEvent(type, options)</span><br></pre></td></tr></table></figure>

<p><code>InputEvent</code>æ„é€ å‡½æ•°å¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºäº‹ä»¶åç§°ï¼Œè¯¥å‚æ•°æ˜¯å¿…éœ€çš„ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œç”¨æ¥è®¾ç½®äº‹ä»¶å®ä¾‹çš„å±æ€§ï¼Œè¯¥å‚æ•°æ˜¯å¯é€‰çš„ã€‚é…ç½®å¯¹è±¡çš„å­—æ®µé™¤äº†<code>Event</code>æ„é€ å‡½æ•°çš„é…ç½®å±æ€§ï¼Œè¿˜å¯ä»¥è®¾ç½®ä¸‹é¢çš„å­—æ®µï¼Œè¿™äº›å­—æ®µéƒ½æ˜¯å¯é€‰çš„ã€‚</p>
<ul>
<li><code>inputType</code>ï¼šå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå‘ç”Ÿå˜æ›´çš„ç±»å‹ï¼ˆè¯¦è§ä¸‹æ–‡ï¼‰ã€‚</li>
<li><code>data</code>ï¼šå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ’å…¥çš„å­—ç¬¦ä¸²ã€‚å¦‚æœæ²¡æœ‰æ’å…¥çš„å­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚åˆ é™¤æ“ä½œï¼‰ï¼Œåˆ™è¿”å›<code>null</code>æˆ–ç©ºå­—ç¬¦ä¸²ã€‚</li>
<li><code>dataTransfer</code>ï¼šè¿”å›ä¸€ä¸ª DataTransfer å¯¹è±¡å®ä¾‹ï¼Œè¯¥å±æ€§é€šå¸¸åªåœ¨è¾“å…¥æ¡†æ¥å—å¯Œæ–‡æœ¬è¾“å…¥æ—¶æœ‰æ•ˆã€‚</li>
</ul>
<p><code>InputEvent</code>çš„å®ä¾‹å±æ€§ä¸»è¦å°±æ˜¯ä¸Šé¢ä¸‰ä¸ªå±æ€§ï¼Œè¿™ä¸‰ä¸ªå®ä¾‹å±æ€§éƒ½æ˜¯åªè¯»çš„ã€‚</p>
<p><strong>ï¼ˆ1ï¼‰InputEvent.data</strong></p>
<p><code>InputEvent.data</code>å±æ€§è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå˜åŠ¨çš„å†…å®¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">&#x2F;&#x2F; &lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;myInput&quot;&gt;</span><br><span class="line">var input &#x3D; document.getElementById(&#39;myInput&#39;);</span><br><span class="line">input.addEventListener(&#39;input&#39;, myFunction, false);</span><br><span class="line"></span><br><span class="line">function myFunction(e) &#123;</span><br><span class="line">  console.log(e.data);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœæ‰‹åŠ¨åœ¨è¾“å…¥æ¡†é‡Œé¢è¾“å…¥<code>abc</code>ï¼Œæ§åˆ¶å°ä¼šå…ˆè¾“å‡º<code>a</code>ï¼Œå†åœ¨ä¸‹ä¸€è¡Œè¾“å‡º<code>b</code>ï¼Œå†åœ¨ä¸‹ä¸€è¡Œè¾“å‡º<code>c</code>ã€‚ç„¶åé€‰ä¸­<code>abc</code>ï¼Œä¸€æ¬¡æ€§å°†å®ƒä»¬åˆ é™¤ï¼Œæ§åˆ¶å°ä¼šè¾“å‡º<code>null</code>æˆ–ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚</p>
<p><strong>ï¼ˆ2ï¼‰InputEvent.inputType</strong></p>
<p><code>InputEvent.inputType</code>å±æ€§è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²å‘ç”Ÿå˜æ›´çš„ç±»å‹ã€‚</p>
<p>å¯¹äºå¸¸è§æƒ…å†µï¼ŒChrome æµè§ˆå™¨çš„è¿”å›å€¼å¦‚ä¸‹ã€‚å®Œæ•´åˆ—è¡¨å¯ä»¥å‚è€ƒ<a href="https://w3c.github.io/input-events/index.html#dom-inputevent-inputtype" target="_blank" rel="noopener">æ–‡æ¡£</a>ã€‚</p>
<ul>
<li>æ‰‹åŠ¨æ’å…¥æ–‡æœ¬ï¼š<code>insertText</code></li>
<li>ç²˜è´´æ’å…¥æ–‡æœ¬ï¼š<code>insertFromPaste</code></li>
<li>å‘ååˆ é™¤ï¼š<code>deleteContentBackward</code></li>
<li>å‘å‰åˆ é™¤ï¼š<code>deleteContentForward</code></li>
</ul>
<p><strong>ï¼ˆ3ï¼‰InputEvent.dataTransfer</strong></p>
<p><code>InputEvent.dataTransfer</code>å±æ€§è¿”å›ä¸€ä¸ª DataTransfer å®ä¾‹ã€‚è¯¥å±æ€§åªåœ¨æ–‡æœ¬æ¡†æ¥å—ç²˜è´´å†…å®¹ï¼ˆinsertFromPasteï¼‰æˆ–æ‹–æ‹½å†…å®¹ï¼ˆ<code>insertFromDrop</code>ï¼‰æ—¶æ‰æœ‰æ•ˆã€‚</p>
<h2 id="è§¦æ‘¸äº‹ä»¶"><a href="#è§¦æ‘¸äº‹ä»¶" class="headerlink" title="è§¦æ‘¸äº‹ä»¶"></a>è§¦æ‘¸äº‹ä»¶</h2><h3 id="è§¦æ‘¸æ“ä½œæ¦‚è¿°"><a href="#è§¦æ‘¸æ“ä½œæ¦‚è¿°" class="headerlink" title="è§¦æ‘¸æ“ä½œæ¦‚è¿°"></a>è§¦æ‘¸æ“ä½œæ¦‚è¿°</h3><p>æµè§ˆå™¨çš„è§¦æ‘¸ API ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆã€‚</p>
<ul>
<li>Touchï¼šä¸€ä¸ªè§¦æ‘¸ç‚¹</li>
<li>TouchListï¼šå¤šä¸ªè§¦æ‘¸ç‚¹çš„é›†åˆ</li>
<li>TouchEventï¼šè§¦æ‘¸å¼•å‘çš„äº‹ä»¶å®ä¾‹</li>
</ul>
<p><code>Touch</code>æ¥å£çš„å®ä¾‹å¯¹è±¡ç”¨æ¥è¡¨ç¤ºè§¦æ‘¸ç‚¹ï¼ˆä¸€æ ¹æ‰‹æŒ‡æˆ–è€…ä¸€æ ¹è§¦æ‘¸ç¬”ï¼‰ï¼ŒåŒ…æ‹¬ä½ç½®ã€å¤§å°ã€å½¢çŠ¶ã€å‹åŠ›ã€ç›®æ ‡å…ƒç´ ç­‰å±æ€§ã€‚æœ‰æ—¶ï¼Œè§¦æ‘¸åŠ¨ä½œç”±å¤šä¸ªè§¦æ‘¸ç‚¹ï¼ˆå¤šæ ¹æ‰‹æŒ‡ï¼‰ç»„æˆï¼Œå¤šä¸ªè§¦æ‘¸ç‚¹çš„é›†åˆç”±<code>TouchList</code>æ¥å£çš„å®ä¾‹å¯¹è±¡è¡¨ç¤ºã€‚<code>TouchEvent</code>æ¥å£çš„å®ä¾‹å¯¹è±¡ä»£è¡¨ç”±è§¦æ‘¸å¼•å‘çš„äº‹ä»¶ï¼Œåªæœ‰è§¦æ‘¸å±æ‰ä¼šå¼•å‘è¿™ä¸€ç±»äº‹ä»¶ã€‚</p>
<p>å¾ˆå¤šæ—¶å€™ï¼Œè§¦æ‘¸äº‹ä»¶å’Œé¼ æ ‡äº‹ä»¶åŒæ—¶è§¦å‘ï¼Œå³ä½¿è¿™ä¸ªæ—¶å€™å¹¶æ²¡æœ‰ç”¨åˆ°é¼ æ ‡ã€‚è¿™æ˜¯ä¸ºäº†è®©é‚£äº›åªå®šä¹‰é¼ æ ‡äº‹ä»¶ã€æ²¡æœ‰å®šä¹‰è§¦æ‘¸äº‹ä»¶çš„ä»£ç ï¼Œåœ¨è§¦æ‘¸å±çš„æƒ…å†µä¸‹ä»ç„¶èƒ½ç”¨ã€‚å¦‚æœæƒ³é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥ç”¨<code>event.preventDefault</code>æ–¹æ³•é˜»æ­¢å‘å‡ºé¼ æ ‡äº‹ä»¶ã€‚</p>
<h3 id="Touch-æ¥å£"><a href="#Touch-æ¥å£" class="headerlink" title="Touch æ¥å£"></a>Touch æ¥å£</h3><h4 id="Touch-æ¥å£æ¦‚è¿°"><a href="#Touch-æ¥å£æ¦‚è¿°" class="headerlink" title="Touch æ¥å£æ¦‚è¿°"></a>Touch æ¥å£æ¦‚è¿°</h4><p>Touch æ¥å£ä»£è¡¨å•ä¸ªè§¦æ‘¸ç‚¹ã€‚è§¦æ‘¸ç‚¹å¯èƒ½æ˜¯ä¸€æ ¹æ‰‹æŒ‡ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€æ ¹è§¦æ‘¸ç¬”ã€‚</p>
<p>æµè§ˆå™¨åŸç”Ÿæä¾›<code>Touch</code>æ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ<code>Touch</code>å®ä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var touch &#x3D; new Touch(touchOptions);</span><br></pre></td></tr></table></figure>

<p><code>Touch</code>æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªé…ç½®å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå®ƒæœ‰ä»¥ä¸‹å±æ€§ã€‚</p>
<ul>
<li><code>identifier</code>ï¼šå¿…éœ€ï¼Œç±»å‹ä¸ºæ•´æ•°ï¼Œè¡¨ç¤ºè§¦æ‘¸ç‚¹çš„å”¯ä¸€ IDã€‚</li>
<li><code>target</code>ï¼šå¿…éœ€ï¼Œç±»å‹ä¸ºå…ƒç´ èŠ‚ç‚¹ï¼Œè¡¨ç¤ºè§¦æ‘¸ç‚¹å¼€å§‹æ—¶æ‰€åœ¨çš„ç½‘é¡µå…ƒç´ ã€‚</li>
<li><code>clientX</code>ï¼šå¯é€‰ï¼Œç±»å‹ä¸ºæ•°å€¼ï¼Œè¡¨ç¤ºè§¦æ‘¸ç‚¹ç›¸å¯¹äºæµè§ˆå™¨çª—å£å·¦ä¸Šè§’çš„æ°´å¹³è·ç¦»ï¼Œé»˜è®¤ä¸º0ã€‚</li>
<li><code>clientY</code>ï¼šå¯é€‰ï¼Œç±»å‹ä¸ºæ•°å€¼ï¼Œè¡¨ç¤ºè§¦æ‘¸ç‚¹ç›¸å¯¹äºæµè§ˆå™¨çª—å£å·¦ä¸Šè§’çš„å‚ç›´è·ç¦»ï¼Œé»˜è®¤ä¸º0ã€‚</li>
<li><code>screenX</code>ï¼šå¯é€‰ï¼Œç±»å‹ä¸ºæ•°å€¼ï¼Œè¡¨ç¤ºè§¦æ‘¸ç‚¹ç›¸å¯¹äºå±å¹•å·¦ä¸Šè§’çš„æ°´å¹³è·ç¦»ï¼Œé»˜è®¤ä¸º0ã€‚</li>
<li><code>screenY</code>ï¼šå¯é€‰ï¼Œç±»å‹ä¸ºæ•°å€¼ï¼Œè¡¨ç¤ºè§¦æ‘¸ç‚¹ç›¸å¯¹äºå±å¹•å·¦ä¸Šè§’çš„å‚ç›´è·ç¦»ï¼Œé»˜è®¤ä¸º0ã€‚</li>
<li><code>pageX</code>ï¼šå¯é€‰ï¼Œç±»å‹ä¸ºæ•°å€¼ï¼Œè¡¨ç¤ºè§¦æ‘¸ç‚¹ç›¸å¯¹äºç½‘é¡µå·¦ä¸Šè§’çš„æ°´å¹³ä½ç½®ï¼ˆå³åŒ…æ‹¬é¡µé¢çš„æ»šåŠ¨è·ç¦»ï¼‰ï¼Œé»˜è®¤ä¸º0ã€‚</li>
<li><code>pageY</code>ï¼šå¯é€‰ï¼Œç±»å‹ä¸ºæ•°å€¼ï¼Œè¡¨ç¤ºè§¦æ‘¸ç‚¹ç›¸å¯¹äºç½‘é¡µå·¦ä¸Šè§’çš„å‚ç›´ä½ç½®ï¼ˆå³åŒ…æ‹¬é¡µé¢çš„æ»šåŠ¨è·ç¦»ï¼‰ï¼Œé»˜è®¤ä¸º0ã€‚</li>
<li><code>radiusX</code>ï¼šå¯é€‰ï¼Œç±»å‹ä¸ºæ•°å€¼ï¼Œè¡¨ç¤ºè§¦æ‘¸ç‚¹å‘¨å›´å—åˆ°å½±å“çš„æ¤­åœ†èŒƒå›´çš„ X è½´åŠå¾„ï¼Œé»˜è®¤ä¸º0ã€‚</li>
<li><code>radiusY</code>ï¼šå¯é€‰ï¼šç±»å‹ä¸ºæ•°å€¼ï¼Œè¡¨ç¤ºè§¦æ‘¸ç‚¹å‘¨å›´å—åˆ°å½±å“çš„æ¤­åœ†èŒƒå›´çš„ Y è½´åŠå¾„ï¼Œé»˜è®¤ä¸º0ã€‚</li>
<li><code>rotationAngle</code>ï¼šå¯é€‰ï¼Œç±»å‹ä¸ºæ•°å€¼ï¼Œè¡¨ç¤ºè§¦æ‘¸åŒºåŸŸçš„æ¤­åœ†çš„æ—‹è½¬è§’åº¦ï¼Œå•ä½ä¸ºåº¦æ•°ï¼Œåœ¨0åˆ°90åº¦ä¹‹é—´ï¼Œé»˜è®¤å€¼ä¸º0ã€‚</li>
<li><code>force</code>ï¼šå¯é€‰ï¼Œç±»å‹ä¸ºæ•°å€¼ï¼ŒèŒƒå›´åœ¨<code>0</code>åˆ°<code>1</code>ä¹‹é—´ï¼Œè¡¨ç¤ºè§¦æ‘¸å‹åŠ›ã€‚<code>0</code>ä»£è¡¨æ²¡æœ‰å‹åŠ›ï¼Œ<code>1</code>ä»£è¡¨ç¡¬ä»¶æ‰€èƒ½è¯†åˆ«çš„æœ€å¤§å‹åŠ›ï¼Œé»˜è®¤ä¸º<code>0</code>ã€‚</li>
</ul>
<h4 id="Touch-æ¥å£çš„å®ä¾‹å±æ€§"><a href="#Touch-æ¥å£çš„å®ä¾‹å±æ€§" class="headerlink" title="Touch æ¥å£çš„å®ä¾‹å±æ€§"></a>Touch æ¥å£çš„å®ä¾‹å±æ€§</h4><p><strong>ï¼ˆ1ï¼‰Touch.identifier</strong></p>
<p><code>Touch.identifier</code>å±æ€§è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè§¦æ‘¸ç‚¹çš„å”¯ä¸€ IDã€‚è¿™ä¸ªå€¼åœ¨æ•´ä¸ªè§¦æ‘¸è¿‡ç¨‹ä¿æŒä¸å˜ï¼Œç›´åˆ°è§¦æ‘¸äº‹ä»¶ç»“æŸã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">someElement.addEventListener(&#39;touchmove&#39;, function (e) &#123;</span><br><span class="line">  for (var i &#x3D; 0; i &lt; e.changedTouches.length; i++) &#123;</span><br><span class="line">    console.log(e.changedTouches[i].identifier);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ2ï¼‰Touch.screenXï¼ŒTouch.screenYï¼ŒTouch.clientXï¼ŒTouch.clientYï¼ŒpageXï¼ŒpageY</strong></p>
<p><code>Touch.screenX</code>å±æ€§å’Œ<code>Touch.screenY</code>å±æ€§ï¼Œåˆ†åˆ«è¡¨ç¤ºè§¦æ‘¸ç‚¹ç›¸å¯¹äºå±å¹•å·¦ä¸Šè§’çš„æ¨ªåæ ‡å’Œçºµåæ ‡ï¼Œä¸é¡µé¢æ˜¯å¦æ»šåŠ¨æ— å…³ã€‚</p>
<p><code>Touch.clientX</code>å±æ€§å’Œ<code>Touch.clientY</code>å±æ€§ï¼Œåˆ†åˆ«è¡¨ç¤ºè§¦æ‘¸ç‚¹ç›¸å¯¹äºæµè§ˆå™¨è§†å£å·¦ä¸Šè§’çš„æ¨ªåæ ‡å’Œçºµåæ ‡ï¼Œä¸é¡µé¢æ˜¯å¦æ»šåŠ¨æ— å…³ã€‚</p>
<p><code>Touch.pageX</code>å±æ€§å’Œ<code>Touch.pageY</code>å±æ€§ï¼Œåˆ†åˆ«è¡¨ç¤ºè§¦æ‘¸ç‚¹ç›¸å¯¹äºå½“å‰é¡µé¢å·¦ä¸Šè§’çš„æ¨ªåæ ‡å’Œçºµåæ ‡ï¼ŒåŒ…å«äº†é¡µé¢æ»šåŠ¨å¸¦æ¥çš„ä½ç§»ã€‚</p>
<p><strong>ï¼ˆ3ï¼‰Touch.radiusXï¼ŒTouch.radiusYï¼ŒTouch.rotationAngle</strong></p>
<p><code>Touch.radiusX</code>å±æ€§å’Œ<code>Touch.radiusY</code>å±æ€§ï¼Œåˆ†åˆ«è¿”å›è§¦æ‘¸ç‚¹å‘¨å›´å—åˆ°å½±å“çš„æ¤­åœ†èŒƒå›´çš„ X è½´åŠå¾„å’Œ Y è½´åŠå¾„ï¼Œå•ä½ä¸ºåƒç´ ã€‚ä¹˜ä»¥ 2 å°±å¯ä»¥å¾—åˆ°è§¦æ‘¸èŒƒå›´çš„å®½åº¦å’Œé«˜åº¦ã€‚</p>
<p><code>Touch.rotationAngle</code>å±æ€§è¡¨ç¤ºè§¦æ‘¸åŒºåŸŸçš„æ¤­åœ†çš„æ—‹è½¬è§’åº¦ï¼Œå•ä½ä¸ºåº¦æ•°ï¼Œåœ¨<code>0</code>åˆ°<code>90</code>åº¦ä¹‹é—´ã€‚</p>
<p>ä¸Šé¢è¿™ä¸‰ä¸ªå±æ€§å…±åŒå®šä¹‰äº†ç”¨æˆ·ä¸å±å¹•æ¥è§¦çš„åŒºåŸŸï¼Œå¯¹äºæè¿°æ‰‹æŒ‡è¿™ä¸€ç±»éç²¾ç¡®çš„è§¦æ‘¸ï¼Œå¾ˆæœ‰å¸®åŠ©ã€‚æŒ‡å°–æ¥è§¦å±å¹•ï¼Œè§¦æ‘¸èŒƒå›´ä¼šå½¢æˆä¸€ä¸ªæ¤­åœ†ï¼Œè¿™ä¸‰ä¸ªå±æ€§å°±ç”¨æ¥æè¿°è¿™ä¸ªæ¤­åœ†åŒºåŸŸã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">div.addEventListener(&#39;touchstart&#39;, rotate);</span><br><span class="line">div.addEventListener(&#39;touchmove&#39;, rotate);</span><br><span class="line">div.addEventListener(&#39;touchend&#39;, rotate);</span><br><span class="line"></span><br><span class="line">function rotate(e) &#123;</span><br><span class="line">  var touch &#x3D; e.changedTouches.item(0);</span><br><span class="line">  e.preventDefault();</span><br><span class="line"></span><br><span class="line">  src.style.width &#x3D; touch.radiusX * 2 + &#39;px&#39;;</span><br><span class="line">  src.style.height &#x3D; touch.radiusY * 2 + &#39;px&#39;;</span><br><span class="line">  src.style.transform &#x3D; &#39;rotate(&#39; + touch.rotationAngle + &#39;deg)&#39;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ4ï¼‰Touch.force</strong></p>
<p><code>Touch.force</code>å±æ€§è¿”å›ä¸€ä¸ª<code>0</code>åˆ°<code>1</code>ä¹‹é—´çš„æ•°å€¼ï¼Œè¡¨ç¤ºè§¦æ‘¸å‹åŠ›ã€‚<code>0</code>ä»£è¡¨æ²¡æœ‰å‹åŠ›ï¼Œ<code>1</code>ä»£è¡¨ç¡¬ä»¶æ‰€èƒ½è¯†åˆ«çš„æœ€å¤§å‹åŠ›ã€‚</p>
<p><strong>ï¼ˆ5ï¼‰Touch.target</strong></p>
<p><code>Touch.target</code>å±æ€§è¿”å›ä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼Œä»£è¡¨è§¦æ‘¸å‘ç”Ÿæ—¶æ‰€åœ¨çš„é‚£ä¸ªå…ƒç´ èŠ‚ç‚¹ã€‚å³ä½¿è§¦æ‘¸ç‚¹å·²ç»ç¦»å¼€äº†è¿™ä¸ªèŠ‚ç‚¹ï¼Œè¯¥å±æ€§ä¾ç„¶ä¸å˜ã€‚</p>
<h3 id="TouchList-æ¥å£"><a href="#TouchList-æ¥å£" class="headerlink" title="TouchList æ¥å£"></a>TouchList æ¥å£</h3><p><code>TouchList</code>æ¥å£è¡¨ç¤ºä¸€ç»„è§¦æ‘¸ç‚¹çš„é›†åˆã€‚å®ƒçš„å®ä¾‹æ˜¯ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œæˆå‘˜æ˜¯<code>Touch</code>çš„å®ä¾‹å¯¹è±¡ï¼Œè¡¨ç¤ºæ‰€æœ‰è§¦æ‘¸ç‚¹ã€‚ç”¨æˆ·ç”¨ä¸‰æ ¹æ‰‹æŒ‡è§¦æ‘¸ï¼Œäº§ç”Ÿçš„<code>TouchList</code>å®ä¾‹å°±ä¼šåŒ…å«ä¸‰ä¸ªæˆå‘˜ï¼Œæ¯æ ¹æ‰‹æŒ‡çš„è§¦æ‘¸ç‚¹å¯¹åº”ä¸€ä¸ª<code>Touch</code>å®ä¾‹å¯¹è±¡ã€‚</p>
<p>å®ƒçš„å®ä¾‹ä¸»è¦é€šè¿‡è§¦æ‘¸äº‹ä»¶çš„<code>TouchEvent.touches</code>ã€<code>TouchEvent.changedTouches</code>ã€<code>TouchEvent.targetTouches</code>è¿™å‡ ä¸ªå±æ€§è·å–ã€‚</p>
<p>å®ƒçš„å®ä¾‹å±æ€§å’Œå®ä¾‹æ–¹æ³•åªæœ‰ä¸¤ä¸ªã€‚</p>
<ul>
<li><code>TouchList.length</code>ï¼šæ•°å€¼ï¼Œè¡¨ç¤ºæˆå‘˜æ•°é‡ï¼ˆå³è§¦æ‘¸ç‚¹çš„æ•°é‡ï¼‰ã€‚</li>
<li><code>TouchList.item()</code>ï¼šè¿”å›æŒ‡å®šä½ç½®çš„æˆå‘˜ï¼Œå®ƒçš„å‚æ•°æ˜¯è¯¥æˆå‘˜çš„ä½ç½®ç¼–å·ï¼ˆä»é›¶å¼€å§‹ï¼‰ã€‚</li>
</ul>
<h4 id="TouchEvent-æ¥å£"><a href="#TouchEvent-æ¥å£" class="headerlink" title="TouchEvent æ¥å£"></a>TouchEvent æ¥å£</h4><h4 id="æ¦‚è¿°-3"><a href="#æ¦‚è¿°-3" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h4><p>TouchEvent æ¥å£ç»§æ‰¿äº† Event æ¥å£ï¼Œè¡¨ç¤ºç”±è§¦æ‘¸å¼•å‘çš„äº‹ä»¶å®ä¾‹ï¼Œé€šå¸¸æ¥è‡ªè§¦æ‘¸å±æˆ–è½¨è¿¹æ¿ã€‚é™¤äº†è¢«ç»§æ‰¿çš„å±æ€§ä»¥å¤–ï¼Œå®ƒè¿˜æœ‰ä¸€äº›è‡ªå·±çš„å±æ€§ã€‚</p>
<p>æµè§ˆå™¨åŸç”Ÿæä¾›<code>TouchEvent()</code>æ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆè§¦æ‘¸äº‹ä»¶çš„å®ä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new TouchEvent(type, options)</span><br></pre></td></tr></table></figure>

<p><code>TouchEvent()</code>æ„é€ å‡½æ•°å¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºäº‹ä»¶ç±»å‹ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯äº‹ä»¶çš„é…ç½®å¯¹è±¡ï¼Œè¯¥å‚æ•°æ˜¯å¯é€‰çš„ï¼Œå¯¹è±¡çš„æ‰€æœ‰å±æ€§ä¹Ÿæ˜¯å¯é€‰çš„ã€‚é™¤äº†<code>Event</code>æ¥å£çš„é…ç½®å±æ€§ï¼Œè¯¥æ¥å£è¿˜æœ‰ä¸€äº›è‡ªå·±çš„é…ç½®å±æ€§ã€‚</p>
<ul>
<li><code>touches</code>ï¼š<code>TouchList</code>å®ä¾‹ï¼Œä»£è¡¨æ‰€æœ‰çš„å½“å‰å¤„äºæ´»è·ƒçŠ¶æ€çš„è§¦æ‘¸ç‚¹ï¼Œé»˜è®¤å€¼æ˜¯ä¸€ä¸ªç©ºæ•°ç»„<code>[]</code>ã€‚</li>
<li><code>targetTouches</code>ï¼š<code>TouchList</code>å®ä¾‹ï¼Œä»£è¡¨æ‰€æœ‰å¤„åœ¨è§¦æ‘¸çš„ç›®æ ‡å…ƒç´ èŠ‚ç‚¹å†…éƒ¨ã€ä¸”ä»ç„¶å¤„äºæ´»åŠ¨çŠ¶æ€çš„è§¦æ‘¸ç‚¹ï¼Œé»˜è®¤å€¼æ˜¯ä¸€ä¸ªç©ºæ•°ç»„<code>[]</code>ã€‚</li>
<li><code>changedTouches</code>ï¼š<code>TouchList</code>å®ä¾‹ï¼Œä»£è¡¨æœ¬æ¬¡è§¦æ‘¸äº‹ä»¶çš„ç›¸å…³è§¦æ‘¸ç‚¹ï¼Œé»˜è®¤å€¼æ˜¯ä¸€ä¸ªç©ºæ•°ç»„<code>[]</code>ã€‚</li>
<li><code>ctrlKey</code>ï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤º Ctrl é”®æ˜¯å¦åŒæ—¶æŒ‰ä¸‹ï¼Œé»˜è®¤å€¼ä¸º<code>false</code>ã€‚</li>
<li><code>shiftKey</code>ï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤º Shift é”®æ˜¯å¦åŒæ—¶æŒ‰ä¸‹ï¼Œé»˜è®¤å€¼ä¸º<code>false</code>ã€‚</li>
<li><code>altKey</code>ï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤º Alt é”®æ˜¯å¦åŒæ—¶æŒ‰ä¸‹ï¼Œé»˜è®¤å€¼ä¸º<code>false</code>ã€‚</li>
<li><code>metaKey</code>ï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤º Meta é”®ï¼ˆæˆ– Windows é”®ï¼‰æ˜¯å¦åŒæ—¶æŒ‰ä¸‹ï¼Œé»˜è®¤å€¼ä¸º<code>false</code>ã€‚</li>
</ul>
<h5 id="å®ä¾‹å±æ€§-2"><a href="#å®ä¾‹å±æ€§-2" class="headerlink" title="å®ä¾‹å±æ€§"></a>å®ä¾‹å±æ€§</h5><p>TouchEvent æ¥å£çš„å®ä¾‹å…·æœ‰<code>Event</code>å®ä¾‹çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œæ­¤å¤–è¿˜æœ‰ä¸€äº›å®ƒè‡ªå·±çš„å®ä¾‹å±æ€§ï¼Œè¿™äº›å±æ€§å…¨éƒ¨éƒ½æ˜¯åªè¯»ã€‚</p>
<p><strong>ï¼ˆ1ï¼‰TouchEvent.altKeyï¼ŒTouchEvent.ctrlKeyï¼ŒTouchEvent.shiftKeyï¼ŒTouchEvent.metaKey</strong></p>
<ul>
<li><code>TouchEvent.altKey</code>ï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè§¦æ‘¸æ—¶æ˜¯å¦æŒ‰ä¸‹äº† Alt é”®ã€‚</li>
<li><code>TouchEvent.ctrlKey</code>ï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè§¦æ‘¸æ—¶æ˜¯å¦æŒ‰ä¸‹äº† Ctrl é”®ã€‚</li>
<li><code>TouchEvent.shiftKey</code>ï¼šå¸ƒå°”å€¼ï¼šè¡¨ç¤ºè§¦æ‘¸æ—¶æ˜¯å¦æŒ‰ä¸‹äº† Shift é”®ã€‚</li>
<li><code>TouchEvent.metaKey</code>ï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè§¦æ‘¸æ—¶æ˜¯å¦æŒ‰ä¸‹äº† Meta é”®ï¼ˆæˆ– Windows é”®ï¼‰ã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">someElement.addEventListener(&#39;touchstart&#39;, function (e) &#123;</span><br><span class="line">  console.log(&#39;altKey &#x3D; &#39; + e.altKey);</span><br><span class="line">  console.log(&#39;ctrlKey &#x3D; &#39; + e.ctrlKey);</span><br><span class="line">  console.log(&#39;metaKey &#x3D; &#39; + e.metaKey);</span><br><span class="line">  console.log(&#39;shiftKey &#x3D; &#39; + e.shiftKey);</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ2ï¼‰TouchEvent.changedTouches</strong></p>
<p><code>TouchEvent.changedTouches</code>å±æ€§è¿”å›ä¸€ä¸ª<code>TouchList</code>å®ä¾‹ï¼Œæˆå‘˜æ˜¯ä¸€ç»„<code>Touch</code>å®ä¾‹å¯¹è±¡ï¼Œè¡¨ç¤ºæœ¬æ¬¡è§¦æ‘¸äº‹ä»¶çš„ç›¸å…³è§¦æ‘¸ç‚¹ã€‚</p>
<p>å¯¹äºä¸åŒçš„æ—¶é—´ï¼Œè¯¥å±æ€§çš„å«ä¹‰æœ‰æ‰€ä¸åŒã€‚</p>
<ul>
<li><code>touchstart</code>äº‹ä»¶ï¼šè¢«æ¿€æ´»çš„è§¦æ‘¸ç‚¹</li>
<li><code>touchmove</code>äº‹ä»¶ï¼šå‘ç”Ÿå˜åŒ–çš„è§¦æ‘¸ç‚¹</li>
<li><code>touchend</code>äº‹ä»¶ï¼šæ¶ˆå¤±çš„è§¦æ‘¸ç‚¹ï¼ˆå³ä¸å†è¢«è§¦ç¢°çš„ç‚¹ï¼‰</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">someElement.addEventListener(&#39;touchmove&#39;, function (e) &#123;</span><br><span class="line">  for (var i &#x3D; 0; i &lt; e.changedTouches.length; i++) &#123;</span><br><span class="line">    console.log(e.changedTouches[i].identifier);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ3ï¼‰TouchEvent.touches</strong></p>
<p><code>TouchEvent.touches</code>å±æ€§è¿”å›ä¸€ä¸ª<code>TouchList</code>å®ä¾‹ï¼Œæˆå‘˜æ˜¯æ‰€æœ‰ä»ç„¶å¤„äºæ´»åŠ¨çŠ¶æ€ï¼ˆå³è§¦æ‘¸ä¸­ï¼‰çš„è§¦æ‘¸ç‚¹ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªæ‰‹æŒ‡å°±æ˜¯ä¸€ä¸ªè§¦æ‘¸ç‚¹ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">someElement.addEventListener(&#39;touchstart&#39;, function (e) &#123;</span><br><span class="line">  switch (e.touches.length) &#123;</span><br><span class="line">    &#x2F;&#x2F; ä¸€æ ¹æ‰‹æŒ‡è§¦æ‘¸</span><br><span class="line">    case 1: handle_one_touch(e); break;</span><br><span class="line">    &#x2F;&#x2F; ä¸¤æ ¹æ‰‹æŒ‡è§¦æ‘¸</span><br><span class="line">    case 2: handle_two_touches(e); break;</span><br><span class="line">    &#x2F;&#x2F; ä¸‰æ ¹æ‰‹æŒ‡è§¦æ‘¸</span><br><span class="line">    case 3: handle_three_touches(e); break;</span><br><span class="line">    &#x2F;&#x2F; å…¶ä»–æƒ…å†µ</span><br><span class="line">    default: console.log(&#39;Not supported&#39;); break;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<p><strong>ï¼ˆ4ï¼‰TouchEvent.targetTouches</strong></p>
<p><code>TouchEvent.targetTouches</code>å±æ€§è¿”å›ä¸€ä¸ª<code>TouchList</code>å®ä¾‹ï¼Œæˆå‘˜æ˜¯è§¦æ‘¸äº‹ä»¶çš„ç›®æ ‡å…ƒç´ èŠ‚ç‚¹å†…éƒ¨ã€æ‰€æœ‰ä»ç„¶å¤„äºæ´»åŠ¨çŠ¶æ€ï¼ˆå³è§¦æ‘¸ä¸­ï¼‰çš„è§¦æ‘¸ç‚¹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function touches_in_target(ev) &#123;</span><br><span class="line">  return (ev.touches.length &#x3D;&#x3D;&#x3D; ev.targetTouches.length ? true : false);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ç”¨æ¥åˆ¤æ–­ï¼Œæ˜¯å¦æ‰€æœ‰è§¦æ‘¸ç‚¹éƒ½åœ¨ç›®æ ‡å…ƒç´ å†…ã€‚</p>
<h3 id="è§¦æ‘¸äº‹ä»¶çš„ç§ç±»"><a href="#è§¦æ‘¸äº‹ä»¶çš„ç§ç±»" class="headerlink" title="è§¦æ‘¸äº‹ä»¶çš„ç§ç±»"></a>è§¦æ‘¸äº‹ä»¶çš„ç§ç±»</h3><p>è§¦æ‘¸å¼•å‘çš„äº‹ä»¶ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ã€‚å¯ä»¥é€šè¿‡<code>TouchEvent.type</code>å±æ€§ï¼ŒæŸ¥çœ‹åˆ°åº•å‘ç”Ÿçš„æ˜¯å“ªä¸€ç§äº‹ä»¶ã€‚</p>
<ul>
<li><code>touchstart</code>ï¼šç”¨æˆ·å¼€å§‹è§¦æ‘¸æ—¶è§¦å‘ï¼Œå®ƒçš„<code>target</code>å±æ€§è¿”å›å‘ç”Ÿè§¦æ‘¸çš„å…ƒç´ èŠ‚ç‚¹ã€‚</li>
<li><code>touchend</code>ï¼šç”¨æˆ·ä¸å†æ¥è§¦è§¦æ‘¸å±æ—¶ï¼ˆæˆ–è€…ç§»å‡ºå±å¹•è¾¹ç¼˜æ—¶ï¼‰è§¦å‘ï¼Œå®ƒçš„<code>target</code>å±æ€§ä¸<code>touchstart</code>äº‹ä»¶ä¸€è‡´çš„ï¼Œå°±æ˜¯å¼€å§‹è§¦æ‘¸æ—¶æ‰€åœ¨çš„å…ƒç´ èŠ‚ç‚¹ã€‚å®ƒçš„<code>changedTouches</code>å±æ€§è¿”å›ä¸€ä¸ª<code>TouchList</code>å®ä¾‹ï¼ŒåŒ…å«æ‰€æœ‰ä¸å†è§¦æ‘¸çš„è§¦æ‘¸ç‚¹ï¼ˆå³<code>Touch</code>å®ä¾‹å¯¹è±¡ï¼‰ã€‚</li>
<li><code>touchmove</code>ï¼šç”¨æˆ·ç§»åŠ¨è§¦æ‘¸ç‚¹æ—¶è§¦å‘ï¼Œå®ƒçš„<code>target</code>å±æ€§ä¸<code>touchstart</code>äº‹ä»¶ä¸€è‡´ã€‚å¦‚æœè§¦æ‘¸çš„åŠå¾„ã€è§’åº¦ã€åŠ›åº¦å‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿä¼šè§¦å‘è¯¥äº‹ä»¶ã€‚</li>
<li><code>touchcancel</code>ï¼šè§¦æ‘¸ç‚¹å–æ¶ˆæ—¶è§¦å‘ï¼Œæ¯”å¦‚åœ¨è§¦æ‘¸åŒºåŸŸè·³å‡ºä¸€ä¸ªæ¨¡æ€çª—å£ï¼ˆmodal windowï¼‰ã€è§¦æ‘¸ç‚¹ç¦»å¼€äº†æ–‡æ¡£åŒºåŸŸï¼ˆè¿›å…¥æµè§ˆå™¨èœå•æ ï¼‰ã€ç”¨æˆ·çš„è§¦æ‘¸ç‚¹å¤ªå¤šï¼Œè¶…è¿‡äº†æ”¯æŒçš„ä¸Šé™ï¼ˆè‡ªåŠ¨å–æ¶ˆæ—©å…ˆçš„è§¦æ‘¸ç‚¹ï¼‰ã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">var el &#x3D; document.getElementsByTagName(&#39;canvas&#39;)[0];</span><br><span class="line">el.addEventListener(&#39;touchstart&#39;, handleStart, false);</span><br><span class="line">el.addEventListener(&#39;touchmove&#39;, handleMove, false);</span><br><span class="line"></span><br><span class="line">function handleStart(evt) &#123;</span><br><span class="line">  evt.preventDefault();</span><br><span class="line">  var touches &#x3D; evt.changedTouches;</span><br><span class="line">  for (var i &#x3D; 0; i &lt; touches.length; i++) &#123;</span><br><span class="line">    console.log(touches[i].pageX, touches[i].pageY);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function handleMove(evt) &#123;</span><br><span class="line">  evt.preventDefault();</span><br><span class="line">  var touches &#x3D; evt.changedTouches;</span><br><span class="line">  for (var i &#x3D; 0; i &lt; touches.length; i++) &#123;</span><br><span class="line">    var touch &#x3D; touches[i];</span><br><span class="line">    console.log(touch.pageX, touch.pageY);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ‹–æ‹‰äº‹ä»¶"><a href="#æ‹–æ‹‰äº‹ä»¶" class="headerlink" title="æ‹–æ‹‰äº‹ä»¶"></a>æ‹–æ‹‰äº‹ä»¶</h2><h3 id="æ‹–æ‹‰äº‹ä»¶çš„ç§ç±»"><a href="#æ‹–æ‹‰äº‹ä»¶çš„ç§ç±»" class="headerlink" title="æ‹–æ‹‰äº‹ä»¶çš„ç§ç±»"></a>æ‹–æ‹‰äº‹ä»¶çš„ç§ç±»</h3><p>æ‹–æ‹‰ï¼ˆdragï¼‰æŒ‡çš„æ˜¯ï¼Œç”¨æˆ·åœ¨æŸä¸ªå¯¹è±¡ä¸ŠæŒ‰ä¸‹é¼ æ ‡é”®ä¸æ”¾ï¼Œæ‹–åŠ¨å®ƒåˆ°å¦ä¸€ä¸ªä½ç½®ï¼Œç„¶åé‡Šæ”¾é¼ æ ‡é”®ï¼Œå°†è¯¥å¯¹è±¡æ”¾åœ¨é‚£é‡Œã€‚</p>
<p>æ‹–æ‹‰çš„å¯¹è±¡æœ‰å¥½å‡ ç§ï¼ŒåŒ…æ‹¬å…ƒç´ èŠ‚ç‚¹ã€å›¾ç‰‡ã€é“¾æ¥ã€é€‰ä¸­çš„æ–‡å­—ç­‰ç­‰ã€‚åœ¨ç½‘é¡µä¸­ï¼Œé™¤äº†å…ƒç´ èŠ‚ç‚¹é»˜è®¤ä¸å¯ä»¥æ‹–æ‹‰ï¼Œå…¶ä»–ï¼ˆå›¾ç‰‡ã€é“¾æ¥ã€é€‰ä¸­çš„æ–‡å­—ï¼‰éƒ½å¯ä»¥ç›´æ¥æ‹–æ‹‰ã€‚ä¸ºäº†è®©å…ƒç´ èŠ‚ç‚¹å¯æ‹–æ‹‰ï¼Œå¯ä»¥å°†è¯¥èŠ‚ç‚¹çš„<code>draggable</code>å±æ€§è®¾ä¸º<code>true</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div draggable&#x3D;&quot;true&quot;&gt;</span><br><span class="line">  æ­¤åŒºåŸŸå¯æ‹–æ‹‰</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç çš„<code>div</code>åŒºå—ï¼Œåœ¨ç½‘é¡µä¸­å¯ä»¥ç›´æ¥ç”¨é¼ æ ‡æ‹–åŠ¨ã€‚æ¾å¼€é¼ æ ‡é”®æ—¶ï¼Œæ‹–åŠ¨æ•ˆæœå°±ä¼šæ¶ˆå¤±ï¼Œè¯¥åŒºå—ä¾ç„¶åœ¨åŸæ¥çš„ä½ç½®ã€‚</p>
<p><code>draggable</code>å±æ€§å¯ç”¨äºä»»ä½•å…ƒç´ èŠ‚ç‚¹ï¼Œä½†æ˜¯å›¾ç‰‡ï¼ˆ<code>&lt;img&gt;</code>ï¼‰å’Œé“¾æ¥ï¼ˆ<code>&lt;a&gt;</code>ï¼‰ä¸åŠ è¿™ä¸ªå±æ€§ï¼Œå°±å¯ä»¥æ‹–æ‹‰ã€‚å¯¹äºå®ƒä»¬ï¼Œç”¨åˆ°è¿™ä¸ªå±æ€§çš„æ—¶å€™ï¼Œå¾€å¾€æ˜¯å°†å…¶è®¾ä¸º<code>false</code>ï¼Œé˜²æ­¢æ‹–æ‹‰è¿™ä¸¤ç§å…ƒç´ ã€‚</p>
<p>æ³¨æ„ï¼Œä¸€æ—¦æŸä¸ªå…ƒç´ èŠ‚ç‚¹çš„<code>draggable</code>å±æ€§è®¾ä¸º<code>true</code>ï¼Œå°±æ— æ³•å†ç”¨é¼ æ ‡é€‰ä¸­è¯¥èŠ‚ç‚¹å†…éƒ¨çš„æ–‡å­—æˆ–å­èŠ‚ç‚¹äº†ã€‚</p>
<p>å½“å…ƒç´ èŠ‚ç‚¹æˆ–é€‰ä¸­çš„æ–‡æœ¬è¢«æ‹–æ‹‰æ—¶ï¼Œå°±ä¼šæŒç»­è§¦å‘æ‹–æ‹‰äº‹ä»¶ï¼ŒåŒ…æ‹¬ä»¥ä¸‹ä¸€äº›äº‹ä»¶ã€‚</p>
<ul>
<li><code>drag</code>ï¼šæ‹–æ‹‰è¿‡ç¨‹ä¸­ï¼Œåœ¨è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹ä¸ŠæŒç»­è§¦å‘ï¼ˆç›¸éš”å‡ ç™¾æ¯«ç§’ï¼‰ã€‚</li>
<li><code>dragstart</code>ï¼šç”¨æˆ·å¼€å§‹æ‹–æ‹‰æ—¶ï¼Œåœ¨è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹ä¸Šè§¦å‘ï¼Œè¯¥äº‹ä»¶çš„<code>target</code>å±æ€§æ˜¯è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹ã€‚é€šå¸¸åº”è¯¥åœ¨è¿™ä¸ªäº‹ä»¶çš„ç›‘å¬å‡½æ•°ä¸­ï¼ŒæŒ‡å®šæ‹–æ‹‰çš„æ•°æ®ã€‚</li>
<li><code>dragend</code>ï¼šæ‹–æ‹‰ç»“æŸæ—¶ï¼ˆé‡Šæ”¾é¼ æ ‡é”®æˆ–æŒ‰ä¸‹ ESC é”®ï¼‰åœ¨è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹ä¸Šè§¦å‘ï¼Œè¯¥äº‹ä»¶çš„<code>target</code>å±æ€§æ˜¯è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹ã€‚å®ƒä¸<code>dragstart</code>äº‹ä»¶ï¼Œåœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Šè§¦å‘ã€‚ä¸ç®¡æ‹–æ‹‰æ˜¯å¦è·¨çª—å£ï¼Œæˆ–è€…ä¸­é€”è¢«å–æ¶ˆï¼Œ<code>dragend</code>äº‹ä»¶æ€»æ˜¯ä¼šè§¦å‘çš„ã€‚</li>
<li><code>dragenter</code>ï¼šæ‹–æ‹‰è¿›å…¥å½“å‰èŠ‚ç‚¹æ—¶ï¼Œåœ¨å½“å‰èŠ‚ç‚¹ä¸Šè§¦å‘ä¸€æ¬¡ï¼Œè¯¥äº‹ä»¶çš„<code>target</code>å±æ€§æ˜¯å½“å‰èŠ‚ç‚¹ã€‚é€šå¸¸åº”è¯¥åœ¨è¿™ä¸ªäº‹ä»¶çš„ç›‘å¬å‡½æ•°ä¸­ï¼ŒæŒ‡å®šæ˜¯å¦å…è®¸åœ¨å½“å‰èŠ‚ç‚¹æ”¾ä¸‹ï¼ˆdropï¼‰æ‹–æ‹‰çš„æ•°æ®ã€‚å¦‚æœå½“å‰èŠ‚ç‚¹æ²¡æœ‰è¯¥äº‹ä»¶çš„ç›‘å¬å‡½æ•°ï¼Œæˆ–è€…ç›‘å¬å‡½æ•°ä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼Œå°±æ„å‘³ç€ä¸å…è®¸åœ¨å½“å‰èŠ‚ç‚¹æ”¾ä¸‹æ•°æ®ã€‚åœ¨è§†è§‰ä¸Šæ˜¾ç¤ºæ‹–æ‹‰è¿›å…¥å½“å‰èŠ‚ç‚¹ï¼Œä¹Ÿæ˜¯åœ¨è¿™ä¸ªäº‹ä»¶çš„ç›‘å¬å‡½æ•°ä¸­è®¾ç½®ã€‚</li>
<li><code>dragover</code>ï¼šæ‹–æ‹‰åˆ°å½“å‰èŠ‚ç‚¹ä¸Šæ–¹æ—¶ï¼Œåœ¨å½“å‰èŠ‚ç‚¹ä¸ŠæŒç»­è§¦å‘ï¼ˆç›¸éš”å‡ ç™¾æ¯«ç§’ï¼‰ï¼Œè¯¥äº‹ä»¶çš„<code>target</code>å±æ€§æ˜¯å½“å‰èŠ‚ç‚¹ã€‚è¯¥äº‹ä»¶ä¸<code>dragenter</code>äº‹ä»¶çš„åŒºåˆ«æ˜¯ï¼Œ<code>dragenter</code>äº‹ä»¶åœ¨è¿›å…¥è¯¥èŠ‚ç‚¹æ—¶è§¦å‘ï¼Œç„¶ååªè¦æ²¡æœ‰ç¦»å¼€è¿™ä¸ªèŠ‚ç‚¹ï¼Œ<code>dragover</code>äº‹ä»¶ä¼šæŒç»­è§¦å‘ã€‚</li>
<li><code>dragleave</code>ï¼šæ‹–æ‹‰æ“ä½œç¦»å¼€å½“å‰èŠ‚ç‚¹èŒƒå›´æ—¶ï¼Œåœ¨å½“å‰èŠ‚ç‚¹ä¸Šè§¦å‘ï¼Œè¯¥äº‹ä»¶çš„<code>target</code>å±æ€§æ˜¯å½“å‰èŠ‚ç‚¹ã€‚å¦‚æœè¦åœ¨è§†è§‰ä¸Šæ˜¾ç¤ºæ‹–æ‹‰ç¦»å¼€æ“ä½œå½“å‰èŠ‚ç‚¹ï¼Œå°±åœ¨è¿™ä¸ªäº‹ä»¶çš„ç›‘å¬å‡½æ•°ä¸­è®¾ç½®ã€‚</li>
<li><code>drop</code>ï¼šè¢«æ‹–æ‹‰çš„èŠ‚ç‚¹æˆ–é€‰ä¸­çš„æ–‡æœ¬ï¼Œé‡Šæ”¾åˆ°ç›®æ ‡èŠ‚ç‚¹æ—¶ï¼Œåœ¨ç›®æ ‡èŠ‚ç‚¹ä¸Šè§¦å‘ã€‚æ³¨æ„ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹ä¸å…è®¸<code>drop</code>ï¼Œå³ä½¿åœ¨è¯¥èŠ‚ç‚¹ä¸Šæ–¹æ¾å¼€é¼ æ ‡é”®ï¼Œä¹Ÿä¸ä¼šè§¦å‘è¯¥äº‹ä»¶ã€‚å¦‚æœç”¨æˆ·æŒ‰ä¸‹ ESC é”®ï¼Œå–æ¶ˆè¿™ä¸ªæ“ä½œï¼Œä¹Ÿä¸ä¼šè§¦å‘è¯¥äº‹ä»¶ã€‚è¯¥äº‹ä»¶çš„ç›‘å¬å‡½æ•°è´Ÿè´£å–å‡ºæ‹–æ‹‰æ•°æ®ï¼Œå¹¶è¿›è¡Œç›¸å…³å¤„ç†ã€‚</li>
</ul>
<p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºï¼Œå¦‚ä½•åŠ¨æ€æ”¹å˜è¢«æ‹–åŠ¨èŠ‚ç‚¹çš„èƒŒæ™¯è‰²ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">div.addEventListener(&#39;dragstart&#39;, function (e) &#123;</span><br><span class="line">  this.style.backgroundColor &#x3D; &#39;red&#39;;</span><br><span class="line">&#125;, false);</span><br><span class="line"></span><br><span class="line">div.addEventListener(&#39;dragend&#39;, function (e) &#123;</span><br><span class="line">  this.style.backgroundColor &#x3D; &#39;green&#39;;</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>div</code>èŠ‚ç‚¹è¢«æ‹–åŠ¨æ—¶ï¼ŒèƒŒæ™¯è‰²ä¼šå˜ä¸ºçº¢è‰²ï¼Œæ‹–åŠ¨ç»“æŸï¼Œåˆå˜å›ç»¿è‰²ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œå±•ç¤ºå¦‚ä½•å®ç°å°†ä¸€ä¸ªèŠ‚ç‚¹ä»å½“å‰çˆ¶èŠ‚ç‚¹ï¼Œæ‹–æ‹‰åˆ°å¦ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ä¸­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* HTML ä»£ç å¦‚ä¸‹</span><br><span class="line"> &lt;div class&#x3D;&quot;dropzone&quot;&gt;</span><br><span class="line">   &lt;div id&#x3D;&quot;draggable&quot; draggable&#x3D;&quot;true&quot;&gt;</span><br><span class="line">     è¯¥èŠ‚ç‚¹å¯æ‹–æ‹‰</span><br><span class="line">   &lt;&#x2F;div&gt;</span><br><span class="line"> &lt;&#x2F;div&gt;</span><br><span class="line"> &lt;div class&#x3D;&quot;dropzone&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line"> &lt;div class&#x3D;&quot;dropzone&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line"> &lt;div class&#x3D;&quot;dropzone&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¢«æ‹–æ‹‰èŠ‚ç‚¹</span><br><span class="line">var dragged;</span><br><span class="line"></span><br><span class="line">document.addEventListener(&#39;dragstart&#39;, function (event) &#123;</span><br><span class="line">  &#x2F;&#x2F; ä¿å­˜è¢«æ‹–æ‹‰èŠ‚ç‚¹</span><br><span class="line">  dragged &#x3D; event.target;</span><br><span class="line">  &#x2F;&#x2F; è¢«æ‹–æ‹‰èŠ‚ç‚¹çš„èƒŒæ™¯è‰²å˜é€æ˜</span><br><span class="line">  event.target.style.opacity &#x3D; 0.5;</span><br><span class="line">&#125;, false);</span><br><span class="line"></span><br><span class="line">document.addEventListener(&#39;dragend&#39;, function (event) &#123;</span><br><span class="line">  &#x2F;&#x2F; è¢«æ‹–æ‹‰èŠ‚ç‚¹çš„èƒŒæ™¯è‰²æ¢å¤æ­£å¸¸</span><br><span class="line">  event.target.style.opacity &#x3D; &#39;&#39;;</span><br><span class="line">&#125;, false);</span><br><span class="line"></span><br><span class="line">document.addEventListener(&#39;dragover&#39;, function (event) &#123;</span><br><span class="line">  &#x2F;&#x2F; é˜²æ­¢æ‹–æ‹‰æ•ˆæœè¢«é‡ç½®ï¼Œå…è®¸è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹æ”¾å…¥ç›®æ ‡èŠ‚ç‚¹</span><br><span class="line">  event.preventDefault();</span><br><span class="line">&#125;, false);</span><br><span class="line"></span><br><span class="line">document.addEventListener(&#39;dragenter&#39;, function (event) &#123;</span><br><span class="line">  &#x2F;&#x2F; ç›®æ ‡èŠ‚ç‚¹çš„èƒŒæ™¯è‰²å˜ç´«è‰²</span><br><span class="line">  &#x2F;&#x2F; ç”±äºè¯¥äº‹ä»¶ä¼šå†’æ³¡ï¼Œæ‰€ä»¥è¦è¿‡æ»¤èŠ‚ç‚¹</span><br><span class="line">  if (event.target.className &#x3D;&#x3D;&#x3D; &#39;dropzone&#39;) &#123;</span><br><span class="line">    event.target.style.background &#x3D; &#39;purple&#39;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, false);</span><br><span class="line"></span><br><span class="line">document.addEventListener(&#39;dragleave&#39;, function( event ) &#123;</span><br><span class="line">  &#x2F;&#x2F; ç›®æ ‡èŠ‚ç‚¹çš„èƒŒæ™¯è‰²æ¢å¤åŸæ ·</span><br><span class="line">  if (event.target.className &#x3D;&#x3D;&#x3D; &#39;dropzone&#39;) &#123;</span><br><span class="line">    event.target.style.background &#x3D; &#39;&#39;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, false);</span><br><span class="line"></span><br><span class="line">document.addEventListener(&#39;drop&#39;, function( event ) &#123;</span><br><span class="line">  &#x2F;&#x2F; é˜²æ­¢äº‹ä»¶é»˜è®¤è¡Œä¸ºï¼ˆæ¯”å¦‚æŸäº›å…ƒç´ èŠ‚ç‚¹ä¸Šå¯ä»¥æ‰“å¼€é“¾æ¥ï¼‰ï¼Œ</span><br><span class="line">  event.preventDefault();</span><br><span class="line">  if (event.target.className &#x3D;&#x3D;&#x3D; &#39;dropzone&#39;) &#123;</span><br><span class="line">    &#x2F;&#x2F; æ¢å¤ç›®æ ‡èŠ‚ç‚¹èƒŒæ™¯è‰²</span><br><span class="line">    event.target.style.background &#x3D; &#39;&#39;;</span><br><span class="line">    &#x2F;&#x2F; å°†è¢«æ‹–æ‹‰èŠ‚ç‚¹æ’å…¥ç›®æ ‡èŠ‚ç‚¹</span><br><span class="line">    dragged.parentNode.removeChild(dragged);</span><br><span class="line">    event.target.appendChild( dragged );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<p>å…³äºæ‹–æ‹‰äº‹ä»¶ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªæ³¨æ„ç‚¹ã€‚</p>
<ul>
<li>æ‹–æ‹‰è¿‡ç¨‹åªè§¦å‘ä»¥ä¸Šè¿™äº›æ‹–æ‹‰äº‹ä»¶ï¼Œå°½ç®¡é¼ æ ‡åœ¨ç§»åŠ¨ï¼Œä½†æ˜¯é¼ æ ‡äº‹ä»¶ä¸ä¼šè§¦å‘ã€‚</li>
<li>å°†æ–‡ä»¶ä»æ“ä½œç³»ç»Ÿæ‹–æ‹‰è¿›æµè§ˆå™¨ï¼Œä¸ä¼šè§¦å‘<code>dragstart</code>å’Œ<code>dragend</code>äº‹ä»¶ã€‚</li>
<li><code>dragenter</code>å’Œ<code>dragover</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ï¼Œç”¨æ¥å–å‡ºæ‹–æ‹‰çš„æ•°æ®ï¼ˆå³å…è®¸æ”¾ä¸‹è¢«æ‹–æ‹‰çš„å…ƒç´ ï¼‰ã€‚ç”±äºç½‘é¡µçš„å¤§éƒ¨åˆ†åŒºåŸŸä¸é€‚åˆä½œä¸ºæ”¾ä¸‹æ‹–æ‹‰å…ƒç´ çš„ç›®æ ‡èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªäº‹ä»¶çš„é»˜è®¤è®¾ç½®ä¸ºå½“å‰èŠ‚ç‚¹ä¸å…è®¸æ¥å—è¢«æ‹–æ‹‰çš„å…ƒç´ ã€‚å¦‚æœæƒ³è¦åœ¨ç›®æ ‡èŠ‚ç‚¹ä¸Šæ”¾ä¸‹çš„æ•°æ®ï¼Œé¦–å…ˆå¿…é¡»é˜»æ­¢è¿™ä¸¤ä¸ªäº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div ondragover&#x3D;&quot;return false&quot;&gt;</span><br><span class="line">&lt;div ondragover&#x3D;&quot;event.preventDefault()&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœä¸å–æ¶ˆæ‹–æ‹‰äº‹ä»¶æˆ–è€…é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œå°±ä¸èƒ½åœ¨<code>div</code>èŠ‚ç‚¹ä¸Šæ”¾ä¸‹è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹ã€‚</p>
<h3 id="DragEvent-æ¥å£"><a href="#DragEvent-æ¥å£" class="headerlink" title="DragEvent æ¥å£"></a>DragEvent æ¥å£</h3><p>æ‹–æ‹‰äº‹ä»¶éƒ½ç»§æ‰¿äº†<code>DragEvent</code>æ¥å£ï¼Œè¿™ä¸ªæ¥å£åˆç»§æ‰¿äº†<code>MouseEvent</code>æ¥å£å’Œ<code>Event</code>æ¥å£ã€‚</p>
<p>æµè§ˆå™¨åŸç”Ÿæä¾›ä¸€ä¸ª<code>DragEvent()</code>æ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆæ‹–æ‹‰äº‹ä»¶çš„å®ä¾‹å¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new DragEvent(type, options)</span><br></pre></td></tr></table></figure>

<p><code>DragEvent()</code>æ„é€ å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºäº‹ä»¶çš„ç±»å‹ï¼Œè¯¥å‚æ•°å¿…é¡»ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯äº‹ä»¶çš„é…ç½®å¯¹è±¡ï¼Œç”¨æ¥è®¾ç½®äº‹ä»¶çš„å±æ€§ï¼Œè¯¥å‚æ•°å¯é€‰ã€‚é…ç½®å¯¹è±¡é™¤äº†æ¥å—<code>MouseEvent</code>æ¥å£å’Œ<code>Event</code>æ¥å£çš„é…ç½®å±æ€§ï¼Œè¿˜å¯ä»¥è®¾ç½®<code>dataTransfer</code>å±æ€§è¦ä¹ˆæ˜¯<code>null</code>ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ª<code>DataTransfer</code>æ¥å£çš„å®ä¾‹ã€‚</p>
<p><code>DataTransfer</code>çš„å®ä¾‹å¯¹è±¡ç”¨æ¥è¯»å†™æ‹–æ‹‰äº‹ä»¶ä¸­ä¼ è¾“çš„æ•°æ®ï¼Œè¯¦è§ä¸‹æ–‡ã€ŠDataTransfer æ¥å£ã€‹çš„éƒ¨åˆ†ã€‚</p>
<h3 id="DataTransfer-æ¥å£æ¦‚è¿°"><a href="#DataTransfer-æ¥å£æ¦‚è¿°" class="headerlink" title="DataTransfer æ¥å£æ¦‚è¿°"></a>DataTransfer æ¥å£æ¦‚è¿°</h3><p>æ‰€æœ‰æ‹–æ‹‰äº‹ä»¶çš„å®ä¾‹éƒ½æœ‰ä¸€ä¸ª<code>DragEvent.dataTransfer</code>å±æ€§ï¼Œç”¨æ¥è¯»å†™éœ€è¦ä¼ é€’çš„æ•°æ®ã€‚è¿™ä¸ªå±æ€§çš„å€¼æ˜¯ä¸€ä¸ª<code>DataTransfer</code>æ¥å£çš„å®ä¾‹ã€‚</p>
<p>æµè§ˆå™¨åŸç”Ÿæä¾›ä¸€ä¸ª<code>DataTransfer()</code>æ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ<code>DataTransfer</code>å®ä¾‹å¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var dataTrans &#x3D; new DataTransfer();</span><br></pre></td></tr></table></figure>

<p><code>DataTransfer()</code>æ„é€ å‡½æ•°ä¸æ¥å—å‚æ•°ã€‚</p>
<p>æ‹–æ‹‰çš„æ•°æ®åˆ†æˆä¸¤æ–¹é¢ï¼šæ•°æ®çš„ç§ç±»ï¼ˆåˆç§°æ ¼å¼ï¼‰å’Œæ•°æ®çš„å€¼ã€‚æ•°æ®çš„ç§ç±»æ˜¯ä¸€ä¸ª MIME å­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚<code>text/plain</code>ã€<code>image/jpeg</code>ï¼‰ï¼Œæ•°æ®çš„å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæ‹–æ‹‰ä¸€æ®µæ–‡æœ¬ï¼Œåˆ™æ•°æ®é»˜è®¤å°±æ˜¯é‚£æ®µæ–‡æœ¬ï¼›å¦‚æœæ‹–æ‹‰ä¸€ä¸ªé“¾æ¥ï¼Œåˆ™æ•°æ®é»˜è®¤å°±æ˜¯é“¾æ¥çš„ URLã€‚</p>
<p>æ‹–æ‹‰äº‹ä»¶å¼€å§‹æ—¶ï¼Œå¼€å‘è€…å¯ä»¥æä¾›æ•°æ®ç±»å‹å’Œæ•°æ®å€¼ã€‚æ‹–æ‹‰è¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…é€šè¿‡<code>dragenter</code>å’Œ<code>dragover</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ï¼Œæ£€æŸ¥æ•°æ®ç±»å‹ï¼Œä»¥ç¡®å®šæ˜¯å¦å…è®¸æ”¾ä¸‹ï¼ˆdropï¼‰è¢«æ‹–æ‹‰çš„å¯¹è±¡ã€‚æ¯”å¦‚ï¼Œåœ¨åªå…è®¸æ”¾ä¸‹é“¾æ¥çš„åŒºåŸŸï¼Œæ£€æŸ¥æ‹–æ‹‰çš„æ•°æ®ç±»å‹æ˜¯å¦ä¸º<code>text/uri-list</code>ã€‚</p>
<p>å‘ç”Ÿ<code>drop</code>äº‹ä»¶æ—¶ï¼Œç›‘å¬å‡½æ•°å–å‡ºæ‹–æ‹‰çš„æ•°æ®ï¼Œå¯¹å…¶è¿›è¡Œå¤„ç†ã€‚</p>
<h3 id="DataTransfer-çš„å®ä¾‹å±æ€§"><a href="#DataTransfer-çš„å®ä¾‹å±æ€§" class="headerlink" title="DataTransfer çš„å®ä¾‹å±æ€§"></a>DataTransfer çš„å®ä¾‹å±æ€§</h3><h4 id="DataTransfer-dropEffect"><a href="#DataTransfer-dropEffect" class="headerlink" title="DataTransfer.dropEffect"></a>DataTransfer.dropEffect</h4><p><code>DataTransfer.dropEffect</code>å±æ€§ç”¨æ¥è®¾ç½®æ”¾ä¸‹ï¼ˆdropï¼‰è¢«æ‹–æ‹‰èŠ‚ç‚¹æ—¶çš„æ•ˆæœï¼Œä¼šå½±å“åˆ°æ‹–æ‹‰ç»è¿‡ç›¸å…³åŒºåŸŸæ—¶é¼ æ ‡çš„å½¢çŠ¶ã€‚å®ƒå¯èƒ½å–ä¸‹é¢çš„å€¼ã€‚</p>
<ul>
<li>copyï¼šå¤åˆ¶è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹</li>
<li>moveï¼šç§»åŠ¨è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹</li>
<li>linkï¼šåˆ›å»ºæŒ‡å‘è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹çš„é“¾æ¥</li>
<li>noneï¼šæ— æ³•æ”¾ä¸‹è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹</li>
</ul>
<p>é™¤äº†ä¸Šé¢è¿™äº›å€¼ï¼Œè®¾ç½®å…¶ä»–çš„å€¼éƒ½æ˜¯æ— æ•ˆçš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">target.addEventListener(&#39;dragover&#39;, function (e) &#123;</span><br><span class="line">  e.preventDefault();</span><br><span class="line">  e.stopPropagation();</span><br><span class="line">  e.dataTransfer.dropEffect &#x3D; &#39;copy&#39;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œè¢«æ‹–æ‹‰å…ƒç´ ä¸€æ—¦<code>drop</code>ï¼Œæ¥å—çš„åŒºåŸŸä¼šå¤åˆ¶è¯¥èŠ‚ç‚¹ã€‚</p>
<p><code>dropEffect</code>å±æ€§ä¸€èˆ¬åœ¨<code>dragenter</code>å’Œ<code>dragover</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ä¸­è®¾ç½®ï¼Œå¯¹äº<code>dragstart</code>ã€<code>drag</code>ã€<code>dragleave</code>è¿™ä¸‰ä¸ªäº‹ä»¶ï¼Œè¯¥å±æ€§ä¸èµ·ä½œç”¨ã€‚å› ä¸ºè¯¥å±æ€§åªå¯¹æ¥å—è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹çš„åŒºåŸŸæœ‰æ•ˆï¼Œå¯¹è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹æœ¬èº«æ˜¯æ— æ•ˆçš„ã€‚è¿›å…¥ç›®æ ‡åŒºåŸŸåï¼Œæ‹–æ‹‰è¡Œä¸ºä¼šåˆå§‹åŒ–æˆè®¾å®šçš„æ•ˆæœã€‚</p>
<h4 id="DataTransfer-effectAllowed"><a href="#DataTransfer-effectAllowed" class="headerlink" title="DataTransfer.effectAllowed"></a>DataTransfer.effectAllowed</h4><p><code>DataTransfer.effectAllowed</code>å±æ€§è®¾ç½®æœ¬æ¬¡æ‹–æ‹‰ä¸­å…è®¸çš„æ•ˆæœã€‚å®ƒå¯èƒ½å–ä¸‹é¢çš„å€¼ã€‚</p>
<ul>
<li>copyï¼šå¤åˆ¶è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹</li>
<li>moveï¼šç§»åŠ¨è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹</li>
<li>linkï¼šåˆ›å»ºæŒ‡å‘è¢«æ‹–æ‹‰èŠ‚ç‚¹çš„é“¾æ¥</li>
<li>copyLinkï¼šå…è®¸<code>copy</code>æˆ–<code>link</code></li>
<li>copyMoveï¼šå…è®¸<code>copy</code>æˆ–<code>move</code></li>
<li>linkMoveï¼šå…è®¸<code>link</code>æˆ–<code>move</code></li>
<li>allï¼šå…è®¸æ‰€æœ‰æ•ˆæœ</li>
<li>noneï¼šæ— æ³•æ”¾ä¸‹è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹</li>
<li>uninitializedï¼šé»˜è®¤å€¼ï¼Œç­‰åŒäº<code>all</code></li>
</ul>
<p>å¦‚æœæŸç§æ•ˆæœæ˜¯ä¸å…è®¸çš„ï¼Œç”¨æˆ·å°±æ— æ³•åœ¨ç›®æ ‡èŠ‚ç‚¹ä¸­è¾¾æˆè¿™ç§æ•ˆæœã€‚</p>
<p>è¿™ä¸ªå±æ€§ä¸<code>dropEffect</code>å±æ€§æ˜¯åŒä¸€ä»¶äº‹çš„ä¸¤ä¸ªæ–¹é¢ã€‚å‰è€…è®¾ç½®è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹å…è®¸çš„æ•ˆæœï¼Œåè€…è®¾ç½®æ¥å—æ‹–æ‹‰çš„åŒºåŸŸçš„æ•ˆæœï¼Œå®ƒä»¬å¾€å¾€é…åˆä½¿ç”¨ã€‚</p>
<p><code>dragstart</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥è®¾ç½®è¿™ä¸ªå±æ€§ã€‚å…¶ä»–äº‹ä»¶çš„ç›‘å¬å‡½æ•°é‡Œé¢è®¾ç½®è¿™ä¸ªå±æ€§æ˜¯æ— æ•ˆçš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">source.addEventListener(&#39;dragstart&#39;, function (e) &#123;</span><br><span class="line">  e.dataTransfer.effectAllowed &#x3D; &#39;move&#39;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">target.addEventListener(&#39;dragover&#39;, function (e) &#123;</span><br><span class="line">  e.dataTransfer.dropEffect &#x3D; &#39;move&#39;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>åªè¦<code>dropEffect</code>å±æ€§å’Œ<code>effectAllowed</code>å±æ€§ä¹‹ä¸­ï¼Œæœ‰ä¸€ä¸ªä¸º<code>none</code>ï¼Œå°±æ— æ³•åœ¨ç›®æ ‡èŠ‚ç‚¹ä¸Šå®Œæˆ<code>drop</code>æ“ä½œã€‚</p>
<h4 id="DataTransfer-files"><a href="#DataTransfer-files" class="headerlink" title="DataTransfer.files"></a>DataTransfer.files</h4><p><code>DataTransfer.files</code>å±æ€§æ˜¯ä¸€ä¸ª FileList å¯¹è±¡ï¼ŒåŒ…å«ä¸€ç»„æœ¬åœ°æ–‡ä»¶ï¼Œå¯ä»¥ç”¨æ¥åœ¨æ‹–æ‹‰æ“ä½œä¸­ä¼ é€ã€‚å¦‚æœæœ¬æ¬¡æ‹–æ‹‰ä¸æ¶‰åŠæ–‡ä»¶ï¼Œåˆ™è¯¥å±æ€§ä¸ºç©ºçš„ FileList å¯¹è±¡ã€‚</p>
<p>ä¸‹é¢å°±æ˜¯ä¸€ä¸ªæ¥æ”¶æ‹–æ‹‰æ–‡ä»¶çš„ä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">&#x2F;&#x2F; &lt;div id&#x3D;&quot;output&quot; style&#x3D;&quot;min-height: 200px;border: 1px solid black;&quot;&gt;</span><br><span class="line">&#x2F;&#x2F;   æ–‡ä»¶æ‹–æ‹‰åˆ°è¿™é‡Œ</span><br><span class="line">&#x2F;&#x2F; &lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">var div &#x3D; document.getElementById(&#39;output&#39;);</span><br><span class="line"></span><br><span class="line">div.addEventListener(&quot;dragenter&quot;, function( event ) &#123;</span><br><span class="line">  div.textContent &#x3D; &#39;&#39;;</span><br><span class="line">  event.stopPropagation();</span><br><span class="line">  event.preventDefault();</span><br><span class="line">&#125;, false);</span><br><span class="line"></span><br><span class="line">div.addEventListener(&quot;dragover&quot;, function( event ) &#123;</span><br><span class="line">  event.stopPropagation();</span><br><span class="line">  event.preventDefault();</span><br><span class="line">&#125;, false);</span><br><span class="line"></span><br><span class="line">div.addEventListener(&quot;drop&quot;, function( event ) &#123;</span><br><span class="line">  event.stopPropagation();</span><br><span class="line">  event.preventDefault();</span><br><span class="line">  var files &#x3D; event.dataTransfer.files;</span><br><span class="line">  for (var i &#x3D; 0; i &lt; files.length; i++) &#123;</span><br><span class="line">    div.textContent +&#x3D; files[i].name + &#39; &#39; + files[i].size + &#39;å­—èŠ‚\n&#39;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œé€šè¿‡<code>dataTransfer.files</code>å±æ€§è¯»å–è¢«æ‹–æ‹‰çš„æ–‡ä»¶çš„ä¿¡æ¯ã€‚å¦‚æœæƒ³è¦è¯»å–æ–‡ä»¶å†…å®¹ï¼Œå°±è¦ä½¿ç”¨<code>FileReader</code>å¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">div.addEventListener(&#39;drop&#39;, function(e) &#123;</span><br><span class="line">  e.preventDefault();</span><br><span class="line">  e.stopPropagation();</span><br><span class="line"></span><br><span class="line">  var fileList &#x3D; e.dataTransfer.files;</span><br><span class="line">  if (fileList.length &gt; 0) &#123;</span><br><span class="line">    var file &#x3D; fileList[0];</span><br><span class="line">    var reader &#x3D; new FileReader();</span><br><span class="line">    reader.onloadend &#x3D; function(e) &#123;</span><br><span class="line">      if (e.target.readyState &#x3D;&#x3D;&#x3D; FileReader.DONE) &#123;</span><br><span class="line">        var content &#x3D; reader.result;</span><br><span class="line">        div.innerHTML &#x3D; &#39;File: &#39; + file.name + &#39;\n\n&#39; + content;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    reader.readAsBinaryString(file);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="DataTransfer-types"><a href="#DataTransfer-types" class="headerlink" title="DataTransfer.types"></a>DataTransfer.types</h4><p><code>DataTransfer.types</code>å±æ€§æ˜¯ä¸€ä¸ªåªè¯»çš„æ•°ç»„ï¼Œæ¯ä¸ªæˆå‘˜æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé‡Œé¢æ˜¯æ‹–æ‹‰çš„æ•°æ®æ ¼å¼ï¼ˆé€šå¸¸æ˜¯ MIME å€¼ï¼‰ã€‚æ¯”å¦‚ï¼Œå¦‚æœæ‹–æ‹‰çš„æ˜¯æ–‡å­—ï¼Œå¯¹åº”çš„æˆå‘˜å°±æ˜¯<code>text/plain</code>ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œé€šè¿‡æ£€æŸ¥<code>dataTransfer</code>å±æ€§çš„ç±»å‹ï¼Œå†³å®šæ˜¯å¦å…è®¸åœ¨å½“å‰èŠ‚ç‚¹æ‰§è¡Œ<code>drop</code>æ“ä½œã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function contains(list, value)&#123;</span><br><span class="line">  for (var i &#x3D; 0; i &lt; list.length; ++i) &#123;</span><br><span class="line">    if(list[i] &#x3D;&#x3D;&#x3D; value) return true;</span><br><span class="line">  &#125;</span><br><span class="line">  return false;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function doDragOver(event) &#123;</span><br><span class="line">  var isLink &#x3D; contains(event.dataTransfer.types, &#39;text&#x2F;uri-list&#39;);</span><br><span class="line">  if (isLink) event.preventDefault();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œåªæœ‰å½“è¢«æ‹–æ‹‰çš„èŠ‚ç‚¹æœ‰ä¸€ä¸ªæ˜¯é“¾æ¥æ—¶ï¼Œæ‰å…è®¸åœ¨å½“å‰èŠ‚ç‚¹æ”¾ä¸‹ã€‚</p>
<h4 id="DataTransfer-items"><a href="#DataTransfer-items" class="headerlink" title="DataTransfer.items"></a>DataTransfer.items</h4><p><code>DataTransfer.items</code>å±æ€§è¿”å›ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„åªè¯»å¯¹è±¡ï¼ˆDataTransferItemList å®ä¾‹ï¼‰ï¼Œæ¯ä¸ªæˆå‘˜å°±æ˜¯æœ¬æ¬¡æ‹–æ‹‰çš„ä¸€ä¸ªå¯¹è±¡ï¼ˆDataTransferItem å®ä¾‹ï¼‰ã€‚å¦‚æœæœ¬æ¬¡æ‹–æ‹‰ä¸åŒ…å«å¯¹è±¡ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºå¯¹è±¡ã€‚</p>
<p>DataTransferItemList å®ä¾‹å…·æœ‰ä»¥ä¸‹çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<ul>
<li><code>length</code>ï¼šè¿”å›æˆå‘˜çš„æ•°é‡</li>
<li><code>add(data, type)</code>ï¼šå¢åŠ ä¸€ä¸ªæŒ‡å®šå†…å®¹å’Œç±»å‹ï¼ˆæ¯”å¦‚<code>text/html</code>å’Œ<code>text/plain</code>ï¼‰çš„å­—ç¬¦ä¸²ä½œä¸ºæˆå‘˜</li>
<li><code>add(file)</code>ï¼š<code>add</code>æ–¹æ³•çš„å¦ä¸€ç§ç”¨æ³•ï¼Œå¢åŠ ä¸€ä¸ªæ–‡ä»¶ä½œä¸ºæˆå‘˜</li>
<li><code>remove(index)</code>ï¼šç§»é™¤æŒ‡å®šä½ç½®çš„æˆå‘˜</li>
<li><code>clear()</code>ï¼šç§»é™¤æ‰€æœ‰çš„æˆå‘˜</li>
</ul>
<p>DataTransferItem å®ä¾‹å…·æœ‰ä»¥ä¸‹çš„å±æ€§å’Œæ–¹æ³•ã€‚</p>
<ul>
<li><code>kind</code>ï¼šè¿”å›æˆå‘˜çš„ç§ç±»ï¼ˆ<code>string</code>è¿˜æ˜¯<code>file</code>ï¼‰ã€‚</li>
<li><code>type</code>ï¼šè¿”å›æˆå‘˜çš„ç±»å‹ï¼ˆé€šå¸¸æ˜¯ MIME å€¼ï¼‰ã€‚</li>
<li><code>getAsFile()</code>ï¼šå¦‚æœè¢«æ‹–æ‹‰æ˜¯æ–‡ä»¶ï¼Œè¿”å›è¯¥æ–‡ä»¶ï¼Œå¦åˆ™è¿”å›<code>null</code>ã€‚</li>
<li><code>getAsString(callback)</code>ï¼šå¦‚æœè¢«æ‹–æ‹‰çš„æ˜¯å­—ç¬¦ä¸²ï¼Œå°†è¯¥å­—ç¬¦ä¼ å…¥æŒ‡å®šçš„å›è°ƒå‡½æ•°å¤„ç†ã€‚è¯¥æ–¹æ³•æ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥éœ€è¦ä¼ å…¥å›è°ƒå‡½æ•°ã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">div.addEventListener(&#39;drop&#39;, function (e) &#123;</span><br><span class="line">  e.preventDefault();</span><br><span class="line">  if (e.dataTransfer.items !&#x3D; null) &#123;</span><br><span class="line">    for (var i &#x3D; 0; i &lt; e.dataTransfer.items.length; i++) &#123;</span><br><span class="line">      console.log(e.dataTransfer.items[i].kind + &#39;: &#39; + e.dataTransfer.items[i].type);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="DataTransfer-çš„å®ä¾‹æ–¹æ³•"><a href="#DataTransfer-çš„å®ä¾‹æ–¹æ³•" class="headerlink" title="DataTransfer çš„å®ä¾‹æ–¹æ³•"></a>DataTransfer çš„å®ä¾‹æ–¹æ³•</h4><h5 id="DataTransfer-setData"><a href="#DataTransfer-setData" class="headerlink" title="DataTransfer.setData()"></a>DataTransfer.setData()</h5><p><code>DataTransfer.setData()</code>æ–¹æ³•ç”¨æ¥è®¾ç½®æ‹–æ‹‰äº‹ä»¶æ‰€å¸¦æœ‰çš„æ•°æ®ã€‚è¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.dataTransfer.setData(&#39;text&#x2F;plain&#39;, &#39;Text to drag&#39;);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸ºå½“å‰çš„æ‹–æ‹‰äº‹ä»¶åŠ å…¥çº¯æ–‡æœ¬æ•°æ®ã€‚</p>
<p>è¯¥æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œéƒ½æ˜¯å­—ç¬¦ä¸²ã€‚ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºæ•°æ®ç±»å‹ï¼ˆæ¯”å¦‚<code>text/plain</code>ï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å…·ä½“æ•°æ®ã€‚å¦‚æœæŒ‡å®šç±»å‹çš„æ•°æ®åœ¨<code>dataTransfer</code>å±æ€§ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè¿™äº›æ•°æ®å°†è¢«åŠ å…¥ï¼Œå¦åˆ™åŸæœ‰çš„æ•°æ®å°†è¢«æ–°æ•°æ®æ›¿æ¢ã€‚</p>
<p>å¦‚æœæ˜¯æ‹–æ‹‰æ–‡æœ¬æ¡†æˆ–è€…æ‹–æ‹‰é€‰ä¸­çš„æ–‡æœ¬ï¼Œä¼šé»˜è®¤å°†å¯¹åº”çš„æ–‡æœ¬æ•°æ®ï¼Œæ·»åŠ åˆ°<code>dataTransfer</code>å±æ€§ï¼Œä¸ç”¨æ‰‹åŠ¨æŒ‡å®šã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div draggable&#x3D;&quot;true&quot;&gt;</span><br><span class="line">  aaa</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ‹–æ‹‰è¿™ä¸ª<code>&lt;div&gt;</code>å…ƒç´ ä¼šè‡ªåŠ¨å¸¦ä¸Šæ–‡æœ¬æ•°æ®<code>aaa</code>ã€‚</p>
<p>ä½¿ç”¨<code>setData</code>æ–¹æ³•ï¼Œå¯ä»¥æ›¿æ¢åˆ°åŸæœ‰æ•°æ®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div</span><br><span class="line">  draggable&#x3D;&quot;true&quot;</span><br><span class="line">  ondragstart&#x3D;&quot;event.dataTransfer.setData(&#39;text&#x2F;plain&#39;, &#39;bbb&#39;)&quot;</span><br><span class="line">&gt;</span><br><span class="line">  aaa</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ‹–æ‹‰æ•°æ®å®é™…ä¸Šæ˜¯<code>bbb</code>ï¼Œè€Œä¸æ˜¯<code>aaa</code>ã€‚</p>
<p>ä¸‹é¢æ˜¯æ·»åŠ å…¶ä»–ç±»å‹çš„æ•°æ®ã€‚ç”±äº<code>text/plain</code>æ˜¯æœ€æ™®éæ”¯æŒçš„æ ¼å¼ï¼Œä¸ºäº†ä¿è¯å…¼å®¹æ€§ï¼Œå»ºè®®æœ€åæ€»æ˜¯ä¿å­˜ä¸€ä»½çº¯æ–‡æœ¬æ ¼å¼çš„æ•°æ®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var dt &#x3D; event.dataTransfer;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ·»åŠ é“¾æ¥</span><br><span class="line">dt.setData(&#39;text&#x2F;uri-list&#39;, &#39;http:&#x2F;&#x2F;www.example.com&#39;);</span><br><span class="line">dt.setData(&#39;text&#x2F;plain&#39;, &#39;http:&#x2F;&#x2F;www.example.com&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ·»åŠ  HTML ä»£ç </span><br><span class="line">dt.setData(&#39;text&#x2F;html&#39;, &#39;Hello there, &lt;strong&gt;stranger&lt;&#x2F;strong&gt;&#39;);</span><br><span class="line">dt.setData(&#39;text&#x2F;plain&#39;, &#39;Hello there, &lt;strong&gt;stranger&lt;&#x2F;strong&gt;&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; æ·»åŠ å›¾åƒçš„ URL</span><br><span class="line">dt.setData(&#39;text&#x2F;uri-list&#39;, imageurl);</span><br><span class="line">dt.setData(&#39;text&#x2F;plain&#39;, imageurl);</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä¸€æ¬¡æä¾›å¤šç§æ ¼å¼çš„æ•°æ®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var dt &#x3D; event.dataTransfer;</span><br><span class="line">dt.setData(&#39;application&#x2F;x-bookmark&#39;, bookmarkString);</span><br><span class="line">dt.setData(&#39;text&#x2F;uri-list&#39;, &#39;http:&#x2F;&#x2F;www.example.com&#39;);</span><br><span class="line">dt.setData(&#39;text&#x2F;plain&#39;, &#39;http:&#x2F;&#x2F;www.example.com&#39;);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œé€šè¿‡åœ¨åŒä¸€ä¸ªäº‹ä»¶ä¸Šé¢ï¼Œå­˜æ”¾ä¸‰ç§ç±»å‹çš„æ•°æ®ï¼Œä½¿å¾—æ‹–æ‹‰äº‹ä»¶å¯ä»¥åœ¨ä¸åŒçš„å¯¹è±¡ä¸Šé¢ï¼Œ<code>drop</code>ä¸åŒçš„å€¼ã€‚æ³¨æ„ï¼Œç¬¬ä¸€ç§æ ¼å¼æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰æ ¼å¼ï¼Œæµè§ˆå™¨é»˜è®¤æ— æ³•è¯»å–ï¼Œè¿™æ„å‘³ç€ï¼Œåªæœ‰æŸä¸ªéƒ¨ç½²äº†ç‰¹å®šä»£ç çš„èŠ‚ç‚¹ï¼Œæ‰å¯èƒ½<code>drop</code>ï¼ˆè¯»å–åˆ°ï¼‰è¿™ä¸ªæ•°æ®ã€‚</p>
<h5 id="DataTransfer-getData"><a href="#DataTransfer-getData" class="headerlink" title="DataTransfer.getData()"></a>DataTransfer.getData()</h5><p><code>DataTransfer.getData()</code>æ–¹æ³•æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆè¡¨ç¤ºæ•°æ®ç±»å‹ï¼‰ä½œä¸ºå‚æ•°ï¼Œè¿”å›äº‹ä»¶æ‰€å¸¦çš„æŒ‡å®šç±»å‹çš„æ•°æ®ï¼ˆé€šå¸¸æ˜¯ç”¨<code>setData</code>æ–¹æ³•æ·»åŠ çš„æ•°æ®ï¼‰ã€‚å¦‚æœæŒ‡å®šç±»å‹çš„æ•°æ®ä¸å­˜åœ¨ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚é€šå¸¸åªæœ‰<code>drop</code>äº‹ä»¶è§¦å‘åï¼Œæ‰èƒ½å–å‡ºæ•°æ®ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ª<code>drop</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ï¼Œç”¨æ¥å–å‡ºæŒ‡å®šç±»å‹çš„æ•°æ®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function onDrop(event) &#123;</span><br><span class="line">  var data &#x3D; event.dataTransfer.getData(&#39;text&#x2F;plain&#39;);</span><br><span class="line">  event.target.textContent &#x3D; data;</span><br><span class="line">  event.preventDefault();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç å–å‡ºæ‹–æ‹‰äº‹ä»¶çš„æ–‡æœ¬æ•°æ®ï¼Œå°†å…¶æ›¿æ¢æˆå½“å‰èŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹ã€‚æ³¨æ„ï¼Œè¿™æ—¶è¿˜å¿…é¡»å–æ¶ˆæµè§ˆå™¨çš„é»˜è®¤è¡Œä¸ºï¼Œå› ä¸ºå‡å¦‚ç”¨æˆ·æ‹–æ‹‰çš„æ˜¯ä¸€ä¸ªé“¾æ¥ï¼Œæµè§ˆå™¨é»˜è®¤ä¼šåœ¨å½“å‰çª—å£æ‰“å¼€è¿™ä¸ªé“¾æ¥ã€‚</p>
<p><code>getData</code>æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚æœå…¶ä¸­åŒ…å«å¤šé¡¹æ•°æ®ï¼Œå°±å¿…é¡»æ‰‹åŠ¨è§£æã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function doDrop(event) &#123;</span><br><span class="line">  var lines &#x3D; event.dataTransfer.getData(&#39;text&#x2F;uri-list&#39;).split(&#39;\n&#39;);</span><br><span class="line">  for (let line of lines) &#123;</span><br><span class="line">    let link &#x3D; document.createElement(&#39;a&#39;);</span><br><span class="line">    link.href &#x3D; line;</span><br><span class="line">    link.textContent &#x3D; line;</span><br><span class="line">    event.target.appendChild(link);</span><br><span class="line">  &#125;</span><br><span class="line">  event.preventDefault();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>getData</code>æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ç»„é“¾æ¥ï¼Œå°±å¿…é¡»è‡ªè¡Œè§£æã€‚</p>
<p>ç±»å‹å€¼æŒ‡å®šä¸º<code>URL</code>ï¼Œå¯ä»¥å–å‡ºç¬¬ä¸€ä¸ªæœ‰æ•ˆé“¾æ¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var link &#x3D; event.dataTransfer.getData(&#39;URL&#39;);</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„ä¾‹å­æ˜¯ä»å¤šç§ç±»å‹çš„æ•°æ®é‡Œé¢å–å‡ºæ•°æ®ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function doDrop(event) &#123;</span><br><span class="line">  var types &#x3D; event.dataTransfer.types;</span><br><span class="line">  var supportedTypes &#x3D; [&#39;text&#x2F;uri-list&#39;, &#39;text&#x2F;plain&#39;];</span><br><span class="line">  types &#x3D; supportedTypes.filter(function (value) &#123; types.includes(value) &#125;);</span><br><span class="line">  if (types.length) &#123;</span><br><span class="line">    var data &#x3D; event.dataTransfer.getData(types[0]);</span><br><span class="line">  &#125;</span><br><span class="line">  event.preventDefault();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="DataTransfer-clearData"><a href="#DataTransfer-clearData" class="headerlink" title="DataTransfer.clearData()"></a>DataTransfer.clearData()</h5><p><code>DataTransfer.clearData()</code>æ–¹æ³•æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆè¡¨ç¤ºæ•°æ®ç±»å‹ï¼‰ä½œä¸ºå‚æ•°ï¼Œåˆ é™¤äº‹ä»¶æ‰€å¸¦çš„æŒ‡å®šç±»å‹çš„æ•°æ®ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šç±»å‹ï¼Œåˆ™åˆ é™¤æ‰€æœ‰æ•°æ®ã€‚å¦‚æœæŒ‡å®šç±»å‹ä¸å­˜åœ¨ï¼Œåˆ™è°ƒç”¨è¯¥æ–¹æ³•ä¸ä¼šäº§ç”Ÿä»»ä½•æ•ˆæœã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.dataTransfer.clearData(&#39;text&#x2F;uri-list&#39;);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç æ¸…é™¤äº‹ä»¶æ‰€å¸¦çš„<code>text/uri-list</code>ç±»å‹çš„æ•°æ®ã€‚</p>
<p>è¯¥æ–¹æ³•ä¸ä¼šç§»é™¤æ‹–æ‹‰çš„æ–‡ä»¶ï¼Œå› æ­¤è°ƒç”¨è¯¥æ–¹æ³•åï¼Œ<code>DataTransfer.types</code>å±æ€§å¯èƒ½ä¾ç„¶ä¼šè¿”å›<code>Files</code>ç±»å‹ï¼ˆå‰ææ˜¯å­˜åœ¨æ–‡ä»¶æ‹–æ‹‰ï¼‰ã€‚</p>
<p>æ³¨æ„ï¼Œè¯¥æ–¹æ³•åªèƒ½åœ¨<code>dragstart</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ä¹‹ä¸­ä½¿ç”¨ï¼Œå› ä¸ºè¿™æ˜¯æ‹–æ‹‰æ“ä½œçš„æ•°æ®å”¯ä¸€å¯å†™çš„æ—¶æœºã€‚</p>
<h5 id="DataTransfer-setDragImage"><a href="#DataTransfer-setDragImage" class="headerlink" title="DataTransfer.setDragImage()"></a>DataTransfer.setDragImage()</h5><p>æ‹–åŠ¨è¿‡ç¨‹ä¸­ï¼ˆ<code>dragstart</code>äº‹ä»¶è§¦å‘åï¼‰ï¼Œæµè§ˆå™¨ä¼šæ˜¾ç¤ºä¸€å¼ å›¾ç‰‡è·Ÿéšé¼ æ ‡ä¸€èµ·ç§»åŠ¨ï¼Œè¡¨ç¤ºè¢«æ‹–åŠ¨çš„èŠ‚ç‚¹ã€‚è¿™å¼ å›¾ç‰‡æ˜¯è‡ªåŠ¨åˆ›é€ çš„ï¼Œé€šå¸¸æ˜¾ç¤ºä¸ºè¢«æ‹–åŠ¨èŠ‚ç‚¹çš„å¤–è§‚ï¼Œä¸éœ€è¦è‡ªå·±åŠ¨æ‰‹è®¾ç½®ã€‚</p>
<p><code>DataTransfer.setDragImage()</code>æ–¹æ³•å¯ä»¥è‡ªå®šä¹‰è¿™å¼ å›¾ç‰‡ã€‚å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªæ˜¯<code>&lt;img&gt;</code>èŠ‚ç‚¹æˆ–è€…<code>&lt;canvas&gt;</code>èŠ‚ç‚¹ï¼Œå¦‚æœçœç•¥æˆ–ä¸º<code>null</code>ï¼Œåˆ™ä½¿ç”¨è¢«æ‹–åŠ¨çš„èŠ‚ç‚¹çš„å¤–è§‚ï¼›ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºé¼ æ ‡ç›¸å¯¹äºè¯¥å›¾ç‰‡å·¦ä¸Šè§’çš„æ¨ªåæ ‡å’Œçºµåæ ‡ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;* HTML ä»£ç å¦‚ä¸‹</span><br><span class="line"> &lt;div id&#x3D;&quot;drag-with-image&quot; class&#x3D;&quot;dragdemo&quot; draggable&#x3D;&quot;true&quot;&gt;</span><br><span class="line">   drag me</span><br><span class="line"> &lt;&#x2F;div&gt;</span><br><span class="line">*&#x2F;</span><br><span class="line"></span><br><span class="line">var div &#x3D; document.getElementById(&#39;drag-with-image&#39;);</span><br><span class="line">div.addEventListener(&#39;dragstart&#39;, function (e) &#123;</span><br><span class="line">  var img &#x3D; document.createElement(&#39;img&#39;);</span><br><span class="line">  img.src &#x3D; &#39;http:&#x2F;&#x2F;path&#x2F;to&#x2F;img&#39;;</span><br><span class="line">  e.dataTransfer.setDragImage(img, 0, 0);</span><br><span class="line">&#125;, false);</span><br></pre></td></tr></table></figure>

<h2 id="å…¶ä»–å¸¸è§äº‹ä»¶"><a href="#å…¶ä»–å¸¸è§äº‹ä»¶" class="headerlink" title="å…¶ä»–å¸¸è§äº‹ä»¶"></a>å…¶ä»–å¸¸è§äº‹ä»¶</h2><h3 id="èµ„æºäº‹ä»¶"><a href="#èµ„æºäº‹ä»¶" class="headerlink" title="èµ„æºäº‹ä»¶"></a>èµ„æºäº‹ä»¶</h3><h4 id="beforeunload-äº‹ä»¶"><a href="#beforeunload-äº‹ä»¶" class="headerlink" title="beforeunload äº‹ä»¶"></a>beforeunload äº‹ä»¶</h4><p><code>beforeunload</code>äº‹ä»¶åœ¨çª—å£ã€æ–‡æ¡£ã€å„ç§èµ„æºå°†è¦å¸è½½å‰è§¦å‘ã€‚å®ƒå¯ä»¥ç”¨æ¥é˜²æ­¢ç”¨æˆ·ä¸å°å¿ƒå¸è½½èµ„æºã€‚</p>
<p>å¦‚æœè¯¥äº‹ä»¶å¯¹è±¡çš„<code>returnValue</code>å±æ€§æ˜¯ä¸€ä¸ªéç©ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±ä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œè¯¢é—®ç”¨æˆ·æ˜¯å¦è¦å¸è½½è¯¥èµ„æºã€‚ä½†æ˜¯ï¼Œç”¨æˆ·æŒ‡å®šçš„å­—ç¬¦ä¸²å¯èƒ½æ— æ³•æ˜¾ç¤ºï¼Œæµè§ˆå™¨ä¼šå±•ç¤ºé¢„å®šä¹‰çš„å­—ç¬¦ä¸²ã€‚å¦‚æœç”¨æˆ·ç‚¹å‡»â€œå–æ¶ˆâ€æŒ‰é’®ï¼Œèµ„æºå°±ä¸ä¼šå¸è½½ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&#39;beforeunload&#39;, function (event) &#123;</span><br><span class="line">  event.returnValue &#x3D; &#39;ä½ ç¡®å®šç¦»å¼€å—ï¼Ÿ&#39;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œç”¨æˆ·å¦‚æœå…³é—­çª—å£ï¼Œæµè§ˆå™¨ä¼šå¼¹å‡ºä¸€ä¸ªçª—å£ï¼Œè¦æ±‚ç”¨æˆ·ç¡®è®¤ã€‚</p>
<p>æµè§ˆå™¨å¯¹è¿™ä¸ªäº‹ä»¶çš„è¡Œä¸ºå¾ˆä¸ä¸€è‡´ï¼Œæœ‰çš„æµè§ˆå™¨è°ƒç”¨<code>event.preventDefault()</code>ï¼Œä¹Ÿä¼šå¼¹å‡ºå¯¹è¯æ¡†ã€‚IE æµè§ˆå™¨éœ€è¦æ˜¾å¼è¿”å›ä¸€ä¸ªéç©ºçš„å­—ç¬¦ä¸²ï¼Œæ‰ä¼šå¼¹å‡ºå¯¹è¯æ¡†ã€‚è€Œä¸”ï¼Œå¤§å¤šæ•°æµè§ˆå™¨åœ¨å¯¹è¯æ¡†ä¸­ä¸æ˜¾ç¤ºæŒ‡å®šæ–‡æœ¬ï¼Œåªæ˜¾ç¤ºé»˜è®¤æ–‡æœ¬ã€‚å› æ­¤ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„å†™æ³•ï¼Œå–å¾—æœ€å¤§çš„å…¼å®¹æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&#39;beforeunload&#39;, function (e) &#123;</span><br><span class="line">  var confirmationMessage &#x3D; &#39;ç¡®è®¤å…³é—­çª—å£ï¼Ÿ&#39;;</span><br><span class="line"></span><br><span class="line">  e.returnValue &#x3D; confirmationMessage;</span><br><span class="line">  return confirmationMessage;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œè®¸å¤šæ‰‹æœºæµè§ˆå™¨ï¼ˆæ¯”å¦‚ Safariï¼‰é»˜è®¤å¿½ç•¥è¿™ä¸ªäº‹ä»¶ï¼Œæ¡Œé¢æµè§ˆå™¨ä¹Ÿæœ‰åŠæ³•å¿½ç•¥è¿™ä¸ªäº‹ä»¶ã€‚æ‰€ä»¥ï¼Œå®ƒå¯èƒ½æ ¹æœ¬ä¸ä¼šç”Ÿæ•ˆï¼Œä¸èƒ½ä¾èµ–å®ƒæ¥é˜»æ­¢ç”¨æˆ·å…³é—­æµè§ˆå™¨çª—å£ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨è¿™ä¸ªäº‹ä»¶ã€‚</p>
<p>å¦å¤–ï¼Œä¸€æ—¦ä½¿ç”¨äº†<code>beforeunload</code>äº‹ä»¶ï¼Œæµè§ˆå™¨å°±ä¸ä¼šç¼“å­˜å½“å‰ç½‘é¡µï¼Œä½¿ç”¨â€œå›é€€â€æŒ‰é’®å°†é‡æ–°å‘æœåŠ¡å™¨è¯·æ±‚ç½‘é¡µã€‚è¿™æ˜¯å› ä¸ºç›‘å¬è¿™ä¸ªäº‹ä»¶çš„ç›®çš„ï¼Œä¸€èˆ¬æ˜¯ä¸ºäº†ç½‘é¡µçŠ¶æ€ï¼Œè¿™æ—¶ç¼“å­˜é¡µé¢çš„åˆå§‹çŠ¶æ€å°±æ²¡æ„ä¹‰äº†ã€‚</p>
<h4 id="unload-äº‹ä»¶"><a href="#unload-äº‹ä»¶" class="headerlink" title="unload äº‹ä»¶"></a>unload äº‹ä»¶</h4><p><code>unload</code>äº‹ä»¶åœ¨çª—å£å…³é—­æˆ–è€…<code>document</code>å¯¹è±¡å°†è¦å¸è½½æ—¶è§¦å‘ã€‚å®ƒçš„è§¦å‘é¡ºåºæ’åœ¨<code>beforeunload</code>ã€<code>pagehide</code>äº‹ä»¶åé¢ã€‚</p>
<p><code>unload</code>äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œæ–‡æ¡£å¤„äºä¸€ä¸ªç‰¹æ®ŠçŠ¶æ€ã€‚æ‰€æœ‰èµ„æºä¾ç„¶å­˜åœ¨ï¼Œä½†æ˜¯å¯¹ç”¨æˆ·æ¥è¯´éƒ½ä¸å¯è§ï¼ŒUI äº’åŠ¨å…¨éƒ¨æ— æ•ˆã€‚è¿™ä¸ªäº‹ä»¶æ˜¯æ— æ³•å–æ¶ˆçš„ï¼Œå³ä½¿åœ¨ç›‘å¬å‡½æ•°é‡Œé¢æŠ›å‡ºé”™è¯¯ï¼Œä¹Ÿä¸èƒ½åœæ­¢æ–‡æ¡£çš„å¸è½½ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&#39;unload&#39;, function(event) &#123;</span><br><span class="line">  console.log(&#39;æ–‡æ¡£å°†è¦å¸è½½&#39;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æ‰‹æœºä¸Šï¼Œæµè§ˆå™¨æˆ–ç³»ç»Ÿå¯èƒ½ä¼šç›´æ¥ä¸¢å¼ƒç½‘é¡µï¼Œè¿™æ—¶è¯¥äº‹ä»¶æ ¹æœ¬ä¸ä¼šå‘ç”Ÿã€‚è€Œä¸”è·Ÿ<code>beforeunload</code>äº‹ä»¶ä¸€æ ·ï¼Œä¸€æ—¦ä½¿ç”¨äº†<code>unload</code>äº‹ä»¶ï¼Œæµè§ˆå™¨å°±ä¸ä¼šç¼“å­˜å½“å‰ç½‘é¡µï¼Œç†ç”±åŒä¸Šã€‚å› æ­¤ï¼Œä»»ä½•æƒ…å†µä¸‹éƒ½ä¸åº”è¯¥ä¾èµ–è¿™ä¸ªäº‹ä»¶ï¼ŒæŒ‡å®šç½‘é¡µå¸è½½æ—¶è¦æ‰§è¡Œçš„ä»£ç ï¼Œå¯ä»¥è€ƒè™‘å®Œå…¨ä¸ä½¿ç”¨è¿™ä¸ªäº‹ä»¶ã€‚</p>
<p>è¯¥äº‹ä»¶å¯ä»¥ç”¨<code>pagehide</code>ä»£æ›¿ã€‚</p>
<h4 id="load-äº‹ä»¶ï¼Œerror-äº‹ä»¶"><a href="#load-äº‹ä»¶ï¼Œerror-äº‹ä»¶" class="headerlink" title="load äº‹ä»¶ï¼Œerror äº‹ä»¶"></a>load äº‹ä»¶ï¼Œerror äº‹ä»¶</h4><p><code>load</code>äº‹ä»¶åœ¨é¡µé¢æˆ–æŸä¸ªèµ„æºåŠ è½½æˆåŠŸæ—¶è§¦å‘ã€‚æ³¨æ„ï¼Œé¡µé¢æˆ–èµ„æºä»æµè§ˆå™¨ç¼“å­˜åŠ è½½ï¼Œå¹¶ä¸ä¼šè§¦å‘<code>load</code>äº‹ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&#39;load&#39;, function(event) &#123;</span><br><span class="line">  console.log(&#39;æ‰€æœ‰èµ„æºéƒ½åŠ è½½å®Œæˆ&#39;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>error</code>äº‹ä»¶æ˜¯åœ¨é¡µé¢æˆ–èµ„æºåŠ è½½å¤±è´¥æ—¶è§¦å‘ã€‚<code>abort</code>äº‹ä»¶åœ¨ç”¨æˆ·å–æ¶ˆåŠ è½½æ—¶è§¦å‘ã€‚</p>
<p>è¿™ä¸‰ä¸ªäº‹ä»¶å®é™…ä¸Šå±äºè¿›åº¦äº‹ä»¶ï¼Œä¸ä»…å‘ç”Ÿåœ¨<code>document</code>å¯¹è±¡ï¼Œè¿˜å‘ç”Ÿåœ¨å„ç§å¤–éƒ¨èµ„æºä¸Šé¢ã€‚æµè§ˆç½‘é¡µå°±æ˜¯ä¸€ä¸ªåŠ è½½å„ç§èµ„æºçš„è¿‡ç¨‹ï¼Œå›¾åƒï¼ˆimageï¼‰ã€æ ·å¼è¡¨ï¼ˆstyle sheetï¼‰ã€è„šæœ¬ï¼ˆscriptï¼‰ã€è§†é¢‘ï¼ˆvideoï¼‰ã€éŸ³é¢‘ï¼ˆaudioï¼‰ã€Ajaxè¯·æ±‚ï¼ˆXMLHttpRequestï¼‰ç­‰ç­‰ã€‚è¿™äº›èµ„æºå’Œ<code>document</code>å¯¹è±¡ã€<code>window</code>å¯¹è±¡ã€XMLHttpRequestUpload å¯¹è±¡ï¼Œéƒ½ä¼šè§¦å‘<code>load</code>äº‹ä»¶å’Œ<code>error</code>äº‹ä»¶ã€‚</p>
<p>æœ€åï¼Œé¡µé¢çš„<code>load</code>äº‹ä»¶ä¹Ÿå¯ä»¥ç”¨<code>pageshow</code>äº‹ä»¶ä»£æ›¿ã€‚</p>
<h3 id="session-å†å²äº‹ä»¶"><a href="#session-å†å²äº‹ä»¶" class="headerlink" title="session å†å²äº‹ä»¶"></a>session å†å²äº‹ä»¶</h3><h4 id="pageshow-äº‹ä»¶ï¼Œpagehide-äº‹ä»¶"><a href="#pageshow-äº‹ä»¶ï¼Œpagehide-äº‹ä»¶" class="headerlink" title="pageshow äº‹ä»¶ï¼Œpagehide äº‹ä»¶"></a>pageshow äº‹ä»¶ï¼Œpagehide äº‹ä»¶</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šåœ¨å½“å‰ä¼šè¯ï¼ˆsessionï¼‰ç¼“å­˜é¡µé¢ï¼Œå½“ç”¨æˆ·ç‚¹å‡»â€œå‰è¿›&#x2F;åé€€â€æŒ‰é’®æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šä»ç¼“å­˜ä¸­åŠ è½½é¡µé¢ã€‚</p>
<p><code>pageshow</code>äº‹ä»¶åœ¨é¡µé¢åŠ è½½æ—¶è§¦å‘ï¼ŒåŒ…æ‹¬ç¬¬ä¸€æ¬¡åŠ è½½å’Œä»ç¼“å­˜åŠ è½½ä¸¤ç§æƒ…å†µã€‚å¦‚æœè¦æŒ‡å®šé¡µé¢æ¯æ¬¡åŠ è½½ï¼ˆä¸ç®¡æ˜¯ä¸æ˜¯ä»æµè§ˆå™¨ç¼“å­˜ï¼‰æ—¶éƒ½è¿è¡Œçš„ä»£ç ï¼Œå¯ä»¥æ”¾åœ¨è¿™ä¸ªäº‹ä»¶çš„ç›‘å¬å‡½æ•°ã€‚</p>
<p>ç¬¬ä¸€æ¬¡åŠ è½½æ—¶ï¼Œå®ƒçš„è§¦å‘é¡ºåºæ’åœ¨<code>load</code>äº‹ä»¶åé¢ã€‚ä»ç¼“å­˜åŠ è½½æ—¶ï¼Œ<code>load</code>äº‹ä»¶ä¸ä¼šè§¦å‘ï¼Œå› ä¸ºç½‘é¡µåœ¨ç¼“å­˜ä¸­çš„æ ·å­é€šå¸¸æ˜¯<code>load</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°è¿è¡Œåçš„æ ·å­ï¼Œæ‰€ä»¥ä¸å¿…é‡å¤æ‰§è¡Œã€‚åŒç†ï¼Œå¦‚æœæ˜¯ä»ç¼“å­˜ä¸­åŠ è½½é¡µé¢ï¼Œç½‘é¡µå†…åˆå§‹åŒ–çš„ JavaScript è„šæœ¬ï¼ˆæ¯”å¦‚ DOMContentLoaded äº‹ä»¶çš„ç›‘å¬å‡½æ•°ï¼‰ä¹Ÿä¸ä¼šæ‰§è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&#39;pageshow&#39;, function(event) &#123;</span><br><span class="line">  console.log(&#39;pageshow: &#39;, event);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>pageshow</code>äº‹ä»¶æœ‰ä¸€ä¸ª<code>persisted</code>å±æ€§ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½æ—¶ï¼Œè¿™ä¸ªå±æ€§æ˜¯<code>false</code>ï¼›å½“é¡µé¢ä»ç¼“å­˜åŠ è½½æ—¶ï¼Œè¿™ä¸ªå±æ€§æ˜¯<code>true</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&#39;pageshow&#39;, function(event)&#123;</span><br><span class="line">  if (event.persisted) &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>pagehide</code>äº‹ä»¶ä¸<code>pageshow</code>äº‹ä»¶ç±»ä¼¼ï¼Œå½“ç”¨æˆ·é€šè¿‡â€œå‰è¿›&#x2F;åé€€â€æŒ‰é’®ï¼Œç¦»å¼€å½“å‰é¡µé¢æ—¶è§¦å‘ã€‚å®ƒä¸ unload äº‹ä»¶çš„åŒºåˆ«åœ¨äºï¼Œå¦‚æœåœ¨ window å¯¹è±¡ä¸Šå®šä¹‰<code>unload</code>äº‹ä»¶çš„ç›‘å¬å‡½æ•°ä¹‹åï¼Œé¡µé¢ä¸ä¼šä¿å­˜åœ¨ç¼“å­˜ä¸­ï¼Œè€Œä½¿ç”¨<code>pagehide</code>äº‹ä»¶ï¼Œé¡µé¢ä¼šä¿å­˜åœ¨ç¼“å­˜ä¸­ã€‚</p>
<p><code>pagehide</code>äº‹ä»¶å®ä¾‹ä¹Ÿæœ‰ä¸€ä¸ª<code>persisted</code>å±æ€§ï¼Œå°†è¿™ä¸ªå±æ€§è®¾ä¸º<code>true</code>ï¼Œå°±è¡¨ç¤ºé¡µé¢è¦ä¿å­˜åœ¨ç¼“å­˜ä¸­ï¼›è®¾ä¸º<code>false</code>ï¼Œè¡¨ç¤ºç½‘é¡µä¸ä¿å­˜åœ¨ç¼“å­˜ä¸­ï¼Œè¿™æ—¶å¦‚æœè®¾ç½®äº†unload äº‹ä»¶çš„ç›‘å¬å‡½æ•°ï¼Œè¯¥å‡½æ•°å°†åœ¨ pagehide äº‹ä»¶åç«‹å³è¿è¡Œã€‚</p>
<p>å¦‚æœé¡µé¢åŒ…å«<code>&lt;frame&gt;</code>æˆ–<code>&lt;iframe&gt;</code>å…ƒç´ ï¼Œåˆ™<code>&lt;frame&gt;</code>é¡µé¢çš„<code>pageshow</code>äº‹ä»¶å’Œ<code>pagehide</code>äº‹ä»¶ï¼Œéƒ½ä¼šåœ¨ä¸»é¡µé¢ä¹‹å‰è§¦å‘ã€‚</p>
<p>æ³¨æ„ï¼Œè¿™ä¸¤ä¸ªäº‹ä»¶åªåœ¨æµè§ˆå™¨çš„<code>history</code>å¯¹è±¡å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ï¼Œè·Ÿç½‘é¡µæ˜¯å¦å¯è§æ²¡æœ‰å…³ç³»ã€‚</p>
<h4 id="popstate-äº‹ä»¶"><a href="#popstate-äº‹ä»¶" class="headerlink" title="popstate äº‹ä»¶"></a>popstate äº‹ä»¶</h4><p><code>popstate</code>äº‹ä»¶åœ¨æµè§ˆå™¨çš„<code>history</code>å¯¹è±¡çš„å½“å‰è®°å½•å‘ç”Ÿæ˜¾å¼åˆ‡æ¢æ—¶è§¦å‘ã€‚æ³¨æ„ï¼Œè°ƒç”¨<code>history.pushState()</code>æˆ–<code>history.replaceState()</code>ï¼Œå¹¶ä¸ä¼šè§¦å‘<code>popstate</code>äº‹ä»¶ã€‚è¯¥äº‹ä»¶åªåœ¨ç”¨æˆ·åœ¨<code>history</code>è®°å½•ä¹‹é—´æ˜¾å¼åˆ‡æ¢æ—¶è§¦å‘ï¼Œæ¯”å¦‚é¼ æ ‡ç‚¹å‡»â€œåé€€&#x2F;å‰è¿›â€æŒ‰é’®ï¼Œæˆ–è€…åœ¨è„šæœ¬ä¸­è°ƒç”¨<code>history.back()</code>ã€<code>history.forward()</code>ã€<code>history.go()</code>æ—¶è§¦å‘ã€‚</p>
<p>è¯¥äº‹ä»¶å¯¹è±¡æœ‰ä¸€ä¸ª<code>state</code>å±æ€§ï¼Œä¿å­˜<code>history.pushState</code>æ–¹æ³•å’Œ<code>history.replaceState</code>æ–¹æ³•ä¸ºå½“å‰è®°å½•æ·»åŠ çš„<code>state</code>å¯¹è±¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">window.onpopstate &#x3D; function (event) &#123;</span><br><span class="line">  console.log(&#39;state: &#39; + event.state);</span><br><span class="line">&#125;;</span><br><span class="line">history.pushState(&#123;page: 1&#125;, &#39;title 1&#39;, &#39;?page&#x3D;1&#39;);</span><br><span class="line">history.pushState(&#123;page: 2&#125;, &#39;title 2&#39;, &#39;?page&#x3D;2&#39;);</span><br><span class="line">history.replaceState(&#123;page: 3&#125;, &#39;title 3&#39;, &#39;?page&#x3D;3&#39;);</span><br><span class="line">history.back(); &#x2F;&#x2F; state: &#123;&quot;page&quot;:1&#125;</span><br><span class="line">history.back(); &#x2F;&#x2F; state: null</span><br><span class="line">history.go(2);  &#x2F;&#x2F; state: &#123;&quot;page&quot;:3&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>pushState</code>æ–¹æ³•å‘<code>history</code>æ·»åŠ äº†ä¸¤æ¡è®°å½•ï¼Œç„¶å<code>replaceState</code>æ–¹æ³•æ›¿æ¢æ‰å½“å‰è®°å½•ã€‚å› æ­¤ï¼Œè¿ç»­ä¸¤æ¬¡<code>back</code>æ–¹æ³•ï¼Œä¼šè®©å½“å‰æ¡ç›®é€€å›åˆ°åŸå§‹ç½‘å€ï¼Œå®ƒæ²¡æœ‰é™„å¸¦<code>state</code>å¯¹è±¡ï¼Œæ‰€ä»¥äº‹ä»¶çš„<code>state</code>å±æ€§ä¸º<code>null</code>ï¼Œç„¶åå‰è¿›ä¸¤æ¡è®°å½•ï¼Œåˆå›åˆ°<code>replaceState</code>æ–¹æ³•æ·»åŠ çš„è®°å½•ã€‚</p>
<p>æµè§ˆå™¨å¯¹äºé¡µé¢é¦–æ¬¡åŠ è½½ï¼Œæ˜¯å¦è§¦å‘<code>popstate</code>äº‹ä»¶ï¼Œå¤„ç†ä¸ä¸€æ ·ï¼ŒFirefox ä¸è§¦å‘è¯¥äº‹ä»¶ã€‚</p>
<h4 id="hashchange-äº‹ä»¶"><a href="#hashchange-äº‹ä»¶" class="headerlink" title="hashchange äº‹ä»¶"></a>hashchange äº‹ä»¶</h4><p><code>hashchange</code>äº‹ä»¶åœ¨ URL çš„ hash éƒ¨åˆ†ï¼ˆå³<code>#</code>å·åé¢çš„éƒ¨åˆ†ï¼ŒåŒ…æ‹¬<code>#</code>å·ï¼‰å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ã€‚è¯¥äº‹ä»¶ä¸€èˆ¬åœ¨<code>window</code>å¯¹è±¡ä¸Šç›‘å¬ã€‚</p>
<p><code>hashchange</code>çš„äº‹ä»¶å®ä¾‹å…·æœ‰ä¸¤ä¸ªç‰¹æœ‰å±æ€§ï¼š<code>oldURL</code>å±æ€§å’Œ<code>newURL</code>å±æ€§ï¼Œåˆ†åˆ«è¡¨ç¤ºå˜åŒ–å‰åçš„å®Œæ•´ URLã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; URL æ˜¯ http:&#x2F;&#x2F;www.example.com&#x2F;</span><br><span class="line">window.addEventListener(&#39;hashchange&#39;, myFunction);</span><br><span class="line"></span><br><span class="line">function myFunction(e) &#123;</span><br><span class="line">  console.log(e.oldURL);</span><br><span class="line">  console.log(e.newURL);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location.hash &#x3D; &#39;part2&#39;;</span><br><span class="line">&#x2F;&#x2F; http:&#x2F;&#x2F;www.example.com&#x2F;</span><br><span class="line">&#x2F;&#x2F; http:&#x2F;&#x2F;www.example.com&#x2F;#part2</span><br></pre></td></tr></table></figure>

<h3 id="ç½‘é¡µçŠ¶æ€äº‹ä»¶"><a href="#ç½‘é¡µçŠ¶æ€äº‹ä»¶" class="headerlink" title="ç½‘é¡µçŠ¶æ€äº‹ä»¶"></a>ç½‘é¡µçŠ¶æ€äº‹ä»¶</h3><h4 id="DOMContentLoaded-äº‹ä»¶"><a href="#DOMContentLoaded-äº‹ä»¶" class="headerlink" title="DOMContentLoaded äº‹ä»¶"></a>DOMContentLoaded äº‹ä»¶</h4><p>ç½‘é¡µä¸‹è½½å¹¶è§£æå®Œæˆä»¥åï¼Œæµè§ˆå™¨å°±ä¼šåœ¨<code>document</code>å¯¹è±¡ä¸Šè§¦å‘ DOMContentLoaded äº‹ä»¶ã€‚è¿™æ—¶ï¼Œä»…ä»…å®Œæˆäº†ç½‘é¡µçš„è§£æï¼ˆæ•´å¼ é¡µé¢çš„ DOM ç”Ÿæˆäº†ï¼‰ï¼Œæ‰€æœ‰å¤–éƒ¨èµ„æºï¼ˆæ ·å¼è¡¨ã€è„šæœ¬ã€iframe ç­‰ç­‰ï¼‰å¯èƒ½è¿˜æ²¡æœ‰ä¸‹è½½ç»“æŸã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªäº‹ä»¶æ¯”<code>load</code>äº‹ä»¶ï¼Œå‘ç”Ÿæ—¶é—´æ—©å¾—å¤šã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(&#39;DOMContentLoaded&#39;, function (event) &#123;</span><br><span class="line">  console.log(&#39;DOMç”Ÿæˆ&#39;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œç½‘é¡µçš„ JavaScript è„šæœ¬æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œè„šæœ¬ä¸€æ—¦å‘ç”Ÿå µå¡ï¼Œå°†æ¨è¿Ÿè§¦å‘<code>DOMContentLoaded</code>äº‹ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(&#39;DOMContentLoaded&#39;, function (event) &#123;</span><br><span class="line">  console.log(&#39;DOM ç”Ÿæˆ&#39;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; è¿™æ®µä»£ç ä¼šæ¨è¿Ÿè§¦å‘ DOMContentLoaded äº‹ä»¶</span><br><span class="line">for(var i &#x3D; 0; i &lt; 1000000000; i++) &#123;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="readystatechange-äº‹ä»¶"><a href="#readystatechange-äº‹ä»¶" class="headerlink" title="readystatechange äº‹ä»¶"></a>readystatechange äº‹ä»¶</h4><p><code>readystatechange</code>äº‹ä»¶å½“ Document å¯¹è±¡å’Œ XMLHttpRequest å¯¹è±¡çš„<code>readyState</code>å±æ€§å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ã€‚<code>document.readyState</code>æœ‰ä¸‰ä¸ªå¯èƒ½çš„å€¼ï¼š<code>loading</code>ï¼ˆç½‘é¡µæ­£åœ¨åŠ è½½ï¼‰ã€<code>interactive</code>ï¼ˆç½‘é¡µå·²ç»è§£æå®Œæˆï¼Œä½†æ˜¯å¤–éƒ¨èµ„æºä»ç„¶å¤„åœ¨åŠ è½½çŠ¶æ€ï¼‰å’Œ<code>complete</code>ï¼ˆç½‘é¡µå’Œæ‰€æœ‰å¤–éƒ¨èµ„æºå·²ç»ç»“æŸåŠ è½½ï¼Œ<code>load</code>äº‹ä»¶å³å°†è§¦å‘ï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">document.onreadystatechange &#x3D; function () &#123;</span><br><span class="line">  if (document.readyState &#x3D;&#x3D;&#x3D; &#39;interactive&#39;) &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªäº‹ä»¶å¯ä»¥çœ‹ä½œ<code>DOMContentLoaded</code>äº‹ä»¶çš„å¦ä¸€ç§å®ç°æ–¹æ³•ã€‚</p>
<h3 id="çª—å£äº‹ä»¶"><a href="#çª—å£äº‹ä»¶" class="headerlink" title="çª—å£äº‹ä»¶"></a>çª—å£äº‹ä»¶</h3><h4 id="scroll-äº‹ä»¶"><a href="#scroll-äº‹ä»¶" class="headerlink" title="scroll äº‹ä»¶"></a>scroll äº‹ä»¶</h4><p><code>scroll</code>äº‹ä»¶åœ¨æ–‡æ¡£æˆ–æ–‡æ¡£å…ƒç´ æ»šåŠ¨æ—¶è§¦å‘ï¼Œä¸»è¦å‡ºç°åœ¨ç”¨æˆ·æ‹–åŠ¨æ»šåŠ¨æ¡ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&#39;scroll&#39;, callback);</span><br></pre></td></tr></table></figure>

<p>è¯¥äº‹ä»¶ä¼šè¿ç»­åœ°å¤§é‡è§¦å‘ï¼Œæ‰€ä»¥å®ƒçš„ç›‘å¬å‡½æ•°ä¹‹ä¸­ä¸åº”è¯¥æœ‰éå¸¸è€—è´¹è®¡ç®—çš„æ“ä½œã€‚æ¨èçš„åšæ³•æ˜¯ä½¿ç”¨<code>requestAnimationFrame</code>æˆ–<code>setTimeout</code>æ§åˆ¶è¯¥äº‹ä»¶çš„è§¦å‘é¢‘ç‡ï¼Œç„¶åå¯ä»¥ç»“åˆ<code>customEvent</code>æŠ›å‡ºä¸€ä¸ªæ–°äº‹ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">(function () &#123;</span><br><span class="line">  var throttle &#x3D; function (type, name, obj) &#123;</span><br><span class="line">    var obj &#x3D; obj || window;</span><br><span class="line">    var running &#x3D; false;</span><br><span class="line">    var func &#x3D; function () &#123;</span><br><span class="line">      if (running) &#123; return; &#125;</span><br><span class="line">      running &#x3D; true;</span><br><span class="line">      requestAnimationFrame(function() &#123;</span><br><span class="line">        obj.dispatchEvent(new CustomEvent(name));</span><br><span class="line">        running &#x3D; false;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">    obj.addEventListener(type, func);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; å°† scroll äº‹ä»¶è½¬ä¸º optimizedScroll äº‹ä»¶</span><br><span class="line">  throttle(&#39;scroll&#39;, &#39;optimizedScroll&#39;);</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line">window.addEventListener(&#39;optimizedScroll&#39;, function() &#123;</span><br><span class="line">  console.log(&#39;Resource conscious scroll callback!&#39;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>throttle()</code>å‡½æ•°ç”¨äºæ§åˆ¶äº‹ä»¶è§¦å‘é¢‘ç‡ï¼Œå®ƒæœ‰ä¸€ä¸ªå†…éƒ¨å‡½æ•°<code>func()</code>ï¼Œæ¯æ¬¡<code>scroll</code>äº‹ä»¶å®é™…ä¸Šè§¦å‘çš„æ˜¯è¿™ä¸ªå‡½æ•°ã€‚<code>func()</code>å‡½æ•°å†…éƒ¨ä½¿ç”¨<code>requestAnimationFrame()</code>æ–¹æ³•ï¼Œä¿è¯åªæœ‰æ¯æ¬¡é¡µé¢é‡ç»˜æ—¶ï¼ˆæ¯ç§’60æ¬¡ï¼‰ï¼Œæ‰å¯èƒ½ä¼šè§¦å‘<code>optimizedScroll</code>äº‹ä»¶ï¼Œä»è€Œå®é™…ä¸Šå°†<code>scroll</code>äº‹ä»¶è½¬æ¢ä¸º<code>optimizedScroll</code>äº‹ä»¶ï¼Œè§¦å‘é¢‘ç‡è¢«æ§åˆ¶åœ¨æ¯ç§’æœ€å¤š60æ¬¡ã€‚</p>
<p>æ”¹ç”¨<code>setTimeout()</code>æ–¹æ³•ï¼Œå¯ä»¥æ”¾ç½®æ›´å¤§çš„æ—¶é—´é—´éš”ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">(function() &#123;</span><br><span class="line">  window.addEventListener(&#39;scroll&#39;, scrollThrottler, false);</span><br><span class="line"></span><br><span class="line">  var scrollTimeout;</span><br><span class="line">  function scrollThrottler() &#123;</span><br><span class="line">    if (!scrollTimeout) &#123;</span><br><span class="line">      scrollTimeout &#x3D; setTimeout(function () &#123;</span><br><span class="line">        scrollTimeout &#x3D; null;</span><br><span class="line">        actualScrollHandler();</span><br><span class="line">      &#125;, 66);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function actualScrollHandler() &#123;</span><br><span class="line">    &#x2F;&#x2F; ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ¯æ¬¡<code>scroll</code>äº‹ä»¶éƒ½ä¼šæ‰§è¡Œ<code>scrollThrottler</code>å‡½æ•°ã€‚è¯¥å‡½æ•°é‡Œé¢æœ‰ä¸€ä¸ªå®šæ—¶å™¨<code>setTimeout</code>ï¼Œæ¯66æ¯«ç§’è§¦å‘ä¸€æ¬¡ï¼ˆæ¯ç§’15æ¬¡ï¼‰çœŸæ­£æ‰§è¡Œçš„ä»»åŠ¡<code>actualScrollHandler</code>ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªæ›´ä¸€èˆ¬çš„<code>throttle</code>å‡½æ•°çš„å†™æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function throttle(fn, wait) &#123;</span><br><span class="line">  var time &#x3D; Date.now();</span><br><span class="line">  return function() &#123;</span><br><span class="line">    if ((time + wait - Date.now()) &lt; 0) &#123;</span><br><span class="line">      fn();</span><br><span class="line">      time &#x3D; Date.now();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">window.addEventListener(&#39;scroll&#39;, throttle(callback, 1000));</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç å°†<code>scroll</code>äº‹ä»¶çš„è§¦å‘é¢‘ç‡ï¼Œé™åˆ¶åœ¨ä¸€ç§’ä¸€æ¬¡ã€‚</p>
<p><code>lodash</code>å‡½æ•°åº“æä¾›äº†ç°æˆçš„<code>throttle</code>å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&#39;scroll&#39;, _.throttle(callback, 1000));</span><br></pre></td></tr></table></figure>

<p>æœ¬ä¹¦å‰é¢ä»‹ç»è¿‡<code>debounce</code>çš„æ¦‚å¿µï¼Œ<code>throttle</code>ä¸å®ƒåŒºåˆ«åœ¨äºï¼Œ<code>throttle</code>æ˜¯â€œèŠ‚æµâ€ï¼Œç¡®ä¿ä¸€æ®µæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œè€Œ<code>debounce</code>æ˜¯â€œé˜²æŠ–â€ï¼Œè¦è¿ç»­æ“ä½œç»“æŸåå†æ‰§è¡Œã€‚ä»¥ç½‘é¡µæ»šåŠ¨ä¸ºä¾‹ï¼Œ<code>debounce</code>è¦ç­‰åˆ°ç”¨æˆ·åœæ­¢æ»šåŠ¨åæ‰æ‰§è¡Œï¼Œ<code>throttle</code>åˆ™æ˜¯å¦‚æœç”¨æˆ·ä¸€ç›´åœ¨æ»šåŠ¨ç½‘é¡µï¼Œé‚£ä¹ˆåœ¨æ»šåŠ¨è¿‡ç¨‹ä¸­è¿˜æ˜¯ä¼šæ‰§è¡Œã€‚</p>
<h4 id="resize-äº‹ä»¶"><a href="#resize-äº‹ä»¶" class="headerlink" title="resize äº‹ä»¶"></a>resize äº‹ä»¶</h4><p><code>resize</code>äº‹ä»¶åœ¨æ”¹å˜æµè§ˆå™¨çª—å£å¤§å°æ—¶è§¦å‘ï¼Œä¸»è¦å‘ç”Ÿåœ¨<code>window</code>å¯¹è±¡ä¸Šé¢ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var resizeMethod &#x3D; function () &#123;</span><br><span class="line">  if (document.body.clientWidth &lt; 768) &#123;</span><br><span class="line">    console.log(&#39;ç§»åŠ¨è®¾å¤‡çš„è§†å£&#39;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">window.addEventListener(&#39;resize&#39;, resizeMethod, true);</span><br></pre></td></tr></table></figure>

<p>è¯¥äº‹ä»¶ä¹Ÿä¼šè¿ç»­åœ°å¤§é‡è§¦å‘ï¼Œæ‰€ä»¥æœ€å¥½åƒä¸Šé¢çš„<code>scroll</code>äº‹ä»¶ä¸€æ ·ï¼Œé€šè¿‡<code>throttle</code>å‡½æ•°æ§åˆ¶äº‹ä»¶è§¦å‘é¢‘ç‡ã€‚</p>
<h4 id="fullscreenchange-äº‹ä»¶ï¼Œfullscreenerror-äº‹ä»¶"><a href="#fullscreenchange-äº‹ä»¶ï¼Œfullscreenerror-äº‹ä»¶" class="headerlink" title="fullscreenchange äº‹ä»¶ï¼Œfullscreenerror äº‹ä»¶"></a>fullscreenchange äº‹ä»¶ï¼Œfullscreenerror äº‹ä»¶</h4><p><code>fullscreenchange</code>äº‹ä»¶åœ¨è¿›å…¥æˆ–é€€å‡ºå…¨å±çŠ¶æ€æ—¶è§¦å‘ï¼Œè¯¥äº‹ä»¶å‘ç”Ÿåœ¨<code>document</code>å¯¹è±¡ä¸Šé¢ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(&#39;fullscreenchange&#39;, function (event) &#123;</span><br><span class="line">  console.log(document.fullscreenElement);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><code>fullscreenerror</code>äº‹ä»¶åœ¨æµè§ˆå™¨æ— æ³•åˆ‡æ¢åˆ°å…¨å±çŠ¶æ€æ—¶è§¦å‘ã€‚</p>
<h3 id="å‰ªè´´æ¿äº‹ä»¶"><a href="#å‰ªè´´æ¿äº‹ä»¶" class="headerlink" title="å‰ªè´´æ¿äº‹ä»¶"></a>å‰ªè´´æ¿äº‹ä»¶</h3><p>ä»¥ä¸‹ä¸‰ä¸ªäº‹ä»¶å±äºå‰ªè´´æ¿æ“ä½œçš„ç›¸å…³äº‹ä»¶ã€‚</p>
<ul>
<li><code>cut</code>ï¼šå°†é€‰ä¸­çš„å†…å®¹ä»æ–‡æ¡£ä¸­ç§»é™¤ï¼ŒåŠ å…¥å‰ªè´´æ¿æ—¶è§¦å‘ã€‚</li>
<li><code>copy</code>ï¼šè¿›è¡Œå¤åˆ¶åŠ¨ä½œæ—¶è§¦å‘ã€‚</li>
<li><code>paste</code>ï¼šå‰ªè´´æ¿å†…å®¹ç²˜è´´åˆ°æ–‡æ¡£åè§¦å‘ã€‚</li>
</ul>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœå¸Œæœ›ç¦æ­¢è¾“å…¥æ¡†çš„ç²˜è´´äº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inputElement.addEventListener(&#39;paste&#39;, e &#x3D;&gt; e.preventDefault());</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç ä½¿å¾—ç”¨æˆ·æ— æ³•åœ¨<code>&lt;input&gt;</code>è¾“å…¥æ¡†é‡Œé¢ç²˜è´´å†…å®¹ã€‚</p>
<p><code>cut</code>ã€<code>copy</code>ã€<code>paste</code>è¿™ä¸‰ä¸ªäº‹ä»¶çš„äº‹ä»¶å¯¹è±¡éƒ½æ˜¯<code>ClipboardEvent</code>æ¥å£çš„å®ä¾‹ã€‚<code>ClipboardEvent</code>æœ‰ä¸€ä¸ªå®ä¾‹å±æ€§<code>clipboardData</code>ï¼Œæ˜¯ä¸€ä¸ª DataTransfer å¯¹è±¡ï¼Œå­˜æ”¾å‰ªè´´çš„æ•°æ®ã€‚å…·ä½“çš„ API æ¥å£å’Œæ“ä½œæ–¹æ³•ï¼Œè¯·å‚è§ã€Šæ‹–æ‹‰äº‹ä»¶ã€‹çš„ DataTransfer å¯¹è±¡éƒ¨åˆ†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(&#39;copy&#39;, function (e) &#123;</span><br><span class="line">  e.clipboardData.setData(&#39;text&#x2F;plain&#39;, &#39;Hello, world!&#39;);</span><br><span class="line">  e.clipboardData.setData(&#39;text&#x2F;html&#39;, &#39;&lt;b&gt;Hello, world!&lt;&#x2F;b&gt;&#39;);</span><br><span class="line">  e.preventDefault();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä»£ç ä½¿å¾—å¤åˆ¶è¿›å…¥å‰ªè´´æ¿çš„ï¼Œéƒ½æ˜¯å¼€å‘è€…æŒ‡å®šçš„æ•°æ®ï¼Œè€Œä¸æ˜¯ç”¨æˆ·æƒ³è¦æ‹·è´çš„æ•°æ®ã€‚</p>
<h3 id="ç„¦ç‚¹äº‹ä»¶"><a href="#ç„¦ç‚¹äº‹ä»¶" class="headerlink" title="ç„¦ç‚¹äº‹ä»¶"></a>ç„¦ç‚¹äº‹ä»¶</h3><p>ç„¦ç‚¹äº‹ä»¶å‘ç”Ÿåœ¨å…ƒç´ èŠ‚ç‚¹å’Œ<code>document</code>å¯¹è±¡ä¸Šé¢ï¼Œä¸è·å¾—æˆ–å¤±å»ç„¦ç‚¹ç›¸å…³ã€‚å®ƒä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å››ä¸ªäº‹ä»¶ã€‚</p>
<ul>
<li><code>focus</code>ï¼šå…ƒç´ èŠ‚ç‚¹è·å¾—ç„¦ç‚¹åè§¦å‘ï¼Œè¯¥äº‹ä»¶ä¸ä¼šå†’æ³¡ã€‚</li>
<li><code>blur</code>ï¼šå…ƒç´ èŠ‚ç‚¹å¤±å»ç„¦ç‚¹åè§¦å‘ï¼Œè¯¥äº‹ä»¶ä¸ä¼šå†’æ³¡ã€‚</li>
<li><code>focusin</code>ï¼šå…ƒç´ èŠ‚ç‚¹å°†è¦è·å¾—ç„¦ç‚¹æ—¶è§¦å‘ï¼Œå‘ç”Ÿåœ¨<code>focus</code>äº‹ä»¶ä¹‹å‰ã€‚è¯¥äº‹ä»¶ä¼šå†’æ³¡ã€‚</li>
<li><code>focusout</code>ï¼šå…ƒç´ èŠ‚ç‚¹å°†è¦å¤±å»ç„¦ç‚¹æ—¶è§¦å‘ï¼Œå‘ç”Ÿåœ¨<code>blur</code>äº‹ä»¶ä¹‹å‰ã€‚è¯¥äº‹ä»¶ä¼šå†’æ³¡ã€‚</li>
</ul>
<p>è¿™å››ä¸ªäº‹ä»¶çš„äº‹ä»¶å¯¹è±¡éƒ½ç»§æ‰¿äº†<code>FocusEvent</code>æ¥å£ã€‚<code>FocusEvent</code>å®ä¾‹å…·æœ‰ä»¥ä¸‹å±æ€§ã€‚</p>
<ul>
<li><code>FocusEvent.target</code>ï¼šäº‹ä»¶çš„ç›®æ ‡èŠ‚ç‚¹ã€‚</li>
<li><code>FocusEvent.relatedTarget</code>ï¼šå¯¹äº<code>focusin</code>äº‹ä»¶ï¼Œè¿”å›å¤±å»ç„¦ç‚¹çš„èŠ‚ç‚¹ï¼›å¯¹äº<code>focusout</code>äº‹ä»¶ï¼Œè¿”å›å°†è¦æ¥å—ç„¦ç‚¹çš„èŠ‚ç‚¹ï¼›å¯¹äº<code>focus</code>å’Œ<code>blur</code>äº‹ä»¶ï¼Œè¿”å›<code>null</code>ã€‚</li>
</ul>
<p>ç”±äº<code>focus</code>å’Œ<code>blur</code>äº‹ä»¶ä¸ä¼šå†’æ³¡ï¼Œåªèƒ½åœ¨æ•è·é˜¶æ®µè§¦å‘ï¼Œæ‰€ä»¥<code>addEventListener</code>æ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°éœ€è¦è®¾ä¸º<code>true</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">form.addEventListener(&#39;focus&#39;, function (event) &#123;</span><br><span class="line">  event.target.style.background &#x3D; &#39;pink&#39;;</span><br><span class="line">&#125;, true);</span><br><span class="line"></span><br><span class="line">form.addEventListener(&#39;blur&#39;, function (event) &#123;</span><br><span class="line">  event.target.style.background &#x3D; &#39;&#39;;</span><br><span class="line">&#125;, true);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç é’ˆå¯¹è¡¨å•çš„æ–‡æœ¬è¾“å…¥æ¡†ï¼Œæ¥å—ç„¦ç‚¹æ—¶è®¾ç½®èƒŒæ™¯è‰²ï¼Œå¤±å»ç„¦ç‚¹æ—¶å»é™¤èƒŒæ™¯è‰²ã€‚</p>
<h3 id="CustomEvent-æ¥å£"><a href="#CustomEvent-æ¥å£" class="headerlink" title="CustomEvent æ¥å£"></a>CustomEvent æ¥å£</h3><p>CustomEvent æ¥å£ç”¨äºç”Ÿæˆè‡ªå®šä¹‰çš„äº‹ä»¶å®ä¾‹ã€‚é‚£äº›æµè§ˆå™¨é¢„å®šä¹‰çš„äº‹ä»¶ï¼Œè™½ç„¶å¯ä»¥æ‰‹åŠ¨ç”Ÿæˆï¼Œä½†æ˜¯å¾€å¾€ä¸èƒ½åœ¨äº‹ä»¶ä¸Šç»‘å®šæ•°æ®ã€‚å¦‚æœéœ€è¦åœ¨è§¦å‘äº‹ä»¶çš„åŒæ—¶ï¼Œä¼ å…¥æŒ‡å®šçš„æ•°æ®ï¼Œå°±å¯ä»¥ä½¿ç”¨ CustomEvent æ¥å£ç”Ÿæˆçš„è‡ªå®šä¹‰äº‹ä»¶å¯¹è±¡ã€‚</p>
<p>æµè§ˆå™¨åŸç”Ÿæä¾›<code>CustomEvent()</code>æ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ CustomEvent äº‹ä»¶å®ä¾‹ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new CustomEvent(type, options)</span><br></pre></td></tr></table></figure>

<p><code>CustomEvent()</code>æ„é€ å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºäº‹ä»¶çš„åå­—ï¼Œè¿™æ˜¯å¿…é¡»çš„ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯äº‹ä»¶çš„é…ç½®å¯¹è±¡ï¼Œè¿™ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ã€‚<code>CustomEvent</code>çš„é…ç½®å¯¹è±¡é™¤äº†æ¥å— Event äº‹ä»¶çš„é…ç½®å±æ€§ï¼Œåªæœ‰ä¸€ä¸ªè‡ªå·±çš„å±æ€§ã€‚</p>
<ul>
<li><code>detail</code>ï¼šè¡¨ç¤ºäº‹ä»¶çš„é™„å¸¦æ•°æ®ï¼Œé»˜è®¤ä¸º<code>null</code>ã€‚</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var event &#x3D; new CustomEvent(&#39;build&#39;, &#123; &#39;detail&#39;: &#39;hello&#39; &#125;);</span><br><span class="line"></span><br><span class="line">function eventHandler(e) &#123;</span><br><span class="line">  console.log(e.detail);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.body.addEventListener(&#39;build&#39;, function (e) &#123;</span><br><span class="line">  console.log(e.detail);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">document.body.dispatchEvent(event);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ‰‹åŠ¨å®šä¹‰äº†<code>build</code>äº‹ä»¶ã€‚è¯¥äº‹ä»¶è§¦å‘åï¼Œä¼šè¢«ç›‘å¬åˆ°ï¼Œä»è€Œè¾“å‡ºè¯¥äº‹ä»¶å®ä¾‹çš„<code>detail</code>å±æ€§ï¼ˆå³å­—ç¬¦ä¸²<code>hello</code>ï¼‰ã€‚</p>
<p>ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var myEvent &#x3D; new CustomEvent(&#39;myevent&#39;, &#123;</span><br><span class="line">  detail: &#123;</span><br><span class="line">    foo: &#39;bar&#39;</span><br><span class="line">  &#125;,</span><br><span class="line">  bubbles: true,</span><br><span class="line">  cancelable: false</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">el.addEventListener(&#39;myevent&#39;, function (event) &#123;</span><br><span class="line">  console.log(&#39;Hello &#39; + event.detail.foo);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">el.dispatchEvent(myEvent);</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¹Ÿè¯´æ˜ï¼ŒCustomEvent çš„äº‹ä»¶å®ä¾‹ï¼Œé™¤äº†å…·æœ‰ Event æ¥å£çš„å®ä¾‹å±æ€§ï¼Œè¿˜å…·æœ‰<code>detail</code>å±æ€§ã€‚</p>
<h2 id="GlobalEventHandlers-æ¥å£"><a href="#GlobalEventHandlers-æ¥å£" class="headerlink" title="GlobalEventHandlers æ¥å£"></a>GlobalEventHandlers æ¥å£</h2><p>æŒ‡å®šäº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œæ¨èä½¿ç”¨çš„æ–¹æ³•æ˜¯å…ƒç´ çš„<code>addEventListener</code>æ–¹æ³•ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">div.addEventListener(&#39;click&#39;, clickHandler, false);</span><br></pre></td></tr></table></figure>

<p>é™¤äº†ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥ç›´æ¥æŒ‡å®šäº‹ä»¶çš„å›è°ƒå‡½æ•°ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">div.onclick &#x3D; clickHandler;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæ¥å£æ˜¯ç”±<code>GlobalEventHandlers</code>æ¥å£æä¾›çš„ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯ä½¿ç”¨æ¯”è¾ƒæ–¹ä¾¿ï¼Œç¼ºç‚¹æ˜¯åªèƒ½ä¸ºæ¯ä¸ªäº‹ä»¶æŒ‡å®šä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¹¶ä¸”æ— æ³•æŒ‡å®šäº‹ä»¶è§¦å‘çš„é˜¶æ®µï¼ˆæ•è·é˜¶æ®µè¿˜æ˜¯å†’æ³¡é˜¶æ®µï¼‰ã€‚</p>
<p><code>HTMLElement</code>ã€<code>Document</code>å’Œ<code>Window</code>éƒ½ç»§æ‰¿äº†è¿™ä¸ªæ¥å£ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå„ç§ HTML å…ƒç´ ã€<code>document</code>å¯¹è±¡ã€<code>window</code>å¯¹è±¡ä¸Šé¢éƒ½å¯ä»¥ä½¿ç”¨<code>GlobalEventHandlers</code>æ¥å£æä¾›çš„å±æ€§ã€‚ä¸‹é¢å°±åˆ—å‡ºè¿™ä¸ªæ¥å£æä¾›çš„ä¸»è¦çš„äº‹ä»¶å±æ€§ã€‚</p>
<h3 id="GlobalEventHandlers-onabort"><a href="#GlobalEventHandlers-onabort" class="headerlink" title="GlobalEventHandlers.onabort"></a>GlobalEventHandlers.onabort</h3><p>æŸä¸ªå¯¹è±¡çš„<code>abort</code>äº‹ä»¶ï¼ˆåœæ­¢åŠ è½½ï¼‰å‘ç”Ÿæ—¶ï¼Œå°±ä¼šè°ƒç”¨<code>onabort</code>å±æ€§æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚</p>
<p>å„ç§å…ƒç´ çš„åœæ­¢åŠ è½½äº‹ä»¶ï¼Œåˆ°åº•å¦‚ä½•è§¦å‘ï¼Œç›®å‰å¹¶æ²¡æœ‰ç»Ÿä¸€çš„è§„å®šã€‚å› æ­¤å®é™…ä¸Šï¼Œè¿™ä¸ªå±æ€§ç°åœ¨ä¸€èˆ¬åªç”¨åœ¨<code>&lt;img&gt;</code>å…ƒç´ ä¸Šé¢ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; HTML ä»£ç å¦‚ä¸‹</span><br><span class="line">&#x2F;&#x2F; &lt;img src&#x3D;&quot;example.jpg&quot; id&#x3D;&quot;img&quot;&gt;</span><br><span class="line">var img &#x3D; document.getElementById(&#39;img&#39;);</span><br><span class="line">img.onabort &#x3D; function () &#123;</span><br><span class="line">  console.log(&#39;image load aborted.&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="GlobalEventHandlers-onerror"><a href="#GlobalEventHandlers-onerror" class="headerlink" title="GlobalEventHandlers.onerror"></a>GlobalEventHandlers.onerror</h3><p><code>error</code>äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå°±ä¼šè°ƒç”¨<code>onerror</code>å±æ€§æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚</p>
<p><code>error</code>äº‹ä»¶åˆ†æˆä¸¤ç§ã€‚</p>
<p>ä¸€ç§æ˜¯ JavaScript çš„è¿è¡Œæ—¶é”™è¯¯ï¼Œè¿™ä¼šä¼ åˆ°<code>window</code>å¯¹è±¡ï¼Œå¯¼è‡´<code>window.onerror()</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.onerror &#x3D; function (message, source, lineno, colno, error) &#123;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>window.onerror</code>çš„å¤„ç†å‡½æ•°å…±æ¥å—äº”ä¸ªå‚æ•°ï¼Œå«ä¹‰å¦‚ä¸‹ã€‚</p>
<ul>
<li>messageï¼šé”™è¯¯ä¿¡æ¯å­—ç¬¦ä¸²</li>
<li>sourceï¼šæŠ¥é”™è„šæœ¬çš„ URL</li>
<li>linenoï¼šæŠ¥é”™çš„è¡Œå·ï¼Œæ˜¯ä¸€ä¸ªæ•´æ•°</li>
<li>colnoï¼šæŠ¥é”™çš„åˆ—å·ï¼Œæ˜¯ä¸€ä¸ªæ•´æ•°</li>
<li>errorï¼š é”™è¯¯å¯¹è±¡</li>
</ul>
<p>å¦ä¸€ç§æ˜¯èµ„æºåŠ è½½é”™è¯¯ï¼Œæ¯”å¦‚<code>&lt;img&gt;</code>æˆ–<code>&lt;script&gt;</code>åŠ è½½çš„èµ„æºå‡ºç°åŠ è½½é”™è¯¯ã€‚è¿™æ—¶ï¼ŒError å¯¹è±¡ä¼šä¼ åˆ°å¯¹åº”çš„å…ƒç´ ï¼Œå¯¼è‡´è¯¥å…ƒç´ çš„<code>onerror</code>å±æ€§å¼€å§‹æ‰§è¡Œã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">element.onerror &#x3D; function (event) &#123;</span><br><span class="line">  &#x2F;&#x2F; ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œèµ„æºçš„åŠ è½½é”™è¯¯ä¸ä¼šè§¦å‘<code>window.onerror</code>ã€‚</p>
<h3 id="GlobalEventHandlers-onloadã€GlobalEventHandlers-onloadstart"><a href="#GlobalEventHandlers-onloadã€GlobalEventHandlers-onloadstart" class="headerlink" title="GlobalEventHandlers.onloadã€GlobalEventHandlers.onloadstart"></a>GlobalEventHandlers.onloadã€GlobalEventHandlers.onloadstart</h3><p>å…ƒç´ å®ŒæˆåŠ è½½æ—¶ï¼Œä¼šè§¦å‘<code>load</code>äº‹ä»¶ï¼Œæ‰§è¡Œ<code>onload()</code>ã€‚å®ƒçš„å…¸å‹ä½¿ç”¨åœºæ™¯æ˜¯<code>window</code>å¯¹è±¡å’Œ<code>&lt;img&gt;</code>å…ƒç´ ã€‚å¯¹äº<code>window</code>å¯¹è±¡æ¥è¯´ï¼Œåªæœ‰é¡µé¢çš„æ‰€æœ‰èµ„æºåŠ è½½å®Œæˆï¼ˆåŒ…æ‹¬å›¾ç‰‡ã€è„šæœ¬ã€æ ·å¼è¡¨ã€å­—ä½“ç­‰æ‰€æœ‰å¤–éƒ¨èµ„æºï¼‰ï¼Œæ‰ä¼šè§¦å‘<code>load</code>äº‹ä»¶ã€‚</p>
<p>å¯¹äº<code>&lt;img&gt;</code>å’Œ<code>&lt;video&gt;</code>ç­‰å…ƒç´ ï¼ŒåŠ è½½å¼€å§‹æ—¶è¿˜ä¼šè§¦å‘<code>loadstart</code>äº‹ä»¶ï¼Œå¯¼è‡´æ‰§è¡Œ<code>onloadstart</code>ã€‚</p>
<h3 id="GlobalEventHandlers-onfocusï¼ŒGlobalEventHandlers-onblur"><a href="#GlobalEventHandlers-onfocusï¼ŒGlobalEventHandlers-onblur" class="headerlink" title="GlobalEventHandlers.onfocusï¼ŒGlobalEventHandlers.onblur"></a>GlobalEventHandlers.onfocusï¼ŒGlobalEventHandlers.onblur</h3><p>å½“å‰å…ƒç´ è·å¾—ç„¦ç‚¹æ—¶ï¼Œä¼šè§¦å‘<code>element.onfocus</code>ï¼›å¤±å»ç„¦ç‚¹æ—¶ï¼Œä¼šè§¦å‘<code>element.onblur</code>ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">element.onfocus &#x3D; function () &#123;</span><br><span class="line">  console.log(&quot;onfocus event detected!&quot;);</span><br><span class="line">&#125;;</span><br><span class="line">element.onblur &#x3D; function () &#123;</span><br><span class="line">  console.log(&quot;onblur event detected!&quot;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œå¦‚æœä¸æ˜¯å¯ä»¥æ¥å—ç”¨æˆ·è¾“å…¥çš„å…ƒç´ ï¼Œè¦è§¦å‘<code>onfocus</code>ï¼Œè¯¥å…ƒç´ å¿…é¡»æœ‰<code>tabindex</code>å±æ€§ã€‚</p>
<h3 id="GlobalEventHandlers-onscroll"><a href="#GlobalEventHandlers-onscroll" class="headerlink" title="GlobalEventHandlers.onscroll"></a>GlobalEventHandlers.onscroll</h3><p>é¡µé¢æˆ–å…ƒç´ æ»šåŠ¨æ—¶ï¼Œä¼šè§¦å‘<code>scroll</code>äº‹ä»¶ï¼Œå¯¼è‡´æ‰§è¡Œ<code>onscroll()</code>ã€‚</p>
<h3 id="GlobalEventHandlers-oncontextmenuï¼ŒGlobalEventHandlers-onshow"><a href="#GlobalEventHandlers-oncontextmenuï¼ŒGlobalEventHandlers-onshow" class="headerlink" title="GlobalEventHandlers.oncontextmenuï¼ŒGlobalEventHandlers.onshow"></a>GlobalEventHandlers.oncontextmenuï¼ŒGlobalEventHandlers.onshow</h3><p>ç”¨æˆ·åœ¨é¡µé¢ä¸ŠæŒ‰ä¸‹é¼ æ ‡çš„å³é”®ï¼Œä¼šè§¦å‘<code>contextmenu</code>äº‹ä»¶ï¼Œå¯¼è‡´æ‰§è¡Œ<code>oncontextmenu()</code>ã€‚å¦‚æœè¯¥å±æ€§æ‰§è¡Œåè¿”å›<code>false</code>ï¼Œå°±ç­‰äºç¦æ­¢äº†å³é”®èœå•ã€‚<code>document.oncontextmenu</code>ä¸<code>window.oncontextmenu</code>æ•ˆæœä¸€æ ·ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.oncontextmenu &#x3D; function () &#123;</span><br><span class="line">  return false;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>oncontextmenu</code>å±æ€§æ‰§è¡Œåè¿”å›<code>false</code>ï¼Œå³é”®èœå•å°±ä¸ä¼šå‡ºç°ã€‚</p>
<p>å…ƒç´ çš„å³é”®èœå•æ˜¾ç¤ºæ—¶ï¼Œä¼šè§¦å‘è¯¥å…ƒç´ çš„<code>onshow</code>ç›‘å¬å‡½æ•°ã€‚</p>
<h3 id="å…¶ä»–çš„äº‹ä»¶å±æ€§"><a href="#å…¶ä»–çš„äº‹ä»¶å±æ€§" class="headerlink" title="å…¶ä»–çš„äº‹ä»¶å±æ€§"></a>å…¶ä»–çš„äº‹ä»¶å±æ€§</h3><p>é¼ æ ‡çš„äº‹ä»¶å±æ€§ã€‚</p>
<ul>
<li>onclick</li>
<li>ondblclick</li>
<li>onmousedown</li>
<li>onmouseenter</li>
<li>onmouseleave</li>
<li>onmousemove</li>
<li>onmouseout</li>
<li>onmouseover</li>
<li>onmouseup</li>
<li>onwheel</li>
</ul>
<p>é”®ç›˜çš„äº‹ä»¶å±æ€§ã€‚</p>
<ul>
<li>onkeydown</li>
<li>onkeypress</li>
<li>onkeyup</li>
</ul>
<p>ç„¦ç‚¹çš„äº‹ä»¶å±æ€§ã€‚</p>
<ul>
<li>onblur</li>
<li>onfocus</li>
</ul>
<p>è¡¨å•çš„äº‹ä»¶å±æ€§ã€‚</p>
<ul>
<li>oninput</li>
<li>onchange</li>
<li>onsubmit</li>
<li>onreset</li>
<li>oninvalid</li>
<li>onselect</li>
</ul>
<p>è§¦æ‘¸çš„äº‹ä»¶å±æ€§ã€‚</p>
<ul>
<li>ontouchcancel</li>
<li>ontouchend</li>
<li>ontouchmove</li>
<li>ontouchstart</li>
</ul>
<p>æ‹–åŠ¨çš„äº‹ä»¶å±æ€§åˆ†æˆä¸¤ç±»ï¼šä¸€ç±»ä¸è¢«æ‹–åŠ¨å…ƒç´ ç›¸å…³ï¼Œå¦ä¸€ç±»ä¸æ¥æ”¶è¢«æ‹–åŠ¨å…ƒç´ çš„å®¹å™¨å…ƒç´ ç›¸å…³ã€‚</p>
<p>è¢«æ‹–åŠ¨å…ƒç´ çš„äº‹ä»¶å±æ€§ã€‚</p>
<ul>
<li>ondragstartï¼šæ‹–åŠ¨å¼€å§‹</li>
<li>ondragï¼šæ‹–åŠ¨è¿‡ç¨‹ä¸­ï¼Œæ¯éš”å‡ ç™¾æ¯«ç§’è§¦å‘ä¸€æ¬¡</li>
<li>ondragendï¼šæ‹–åŠ¨ç»“æŸ</li>
</ul>
<p>æ¥æ”¶è¢«æ‹–åŠ¨å…ƒç´ çš„å®¹å™¨å…ƒç´ çš„äº‹ä»¶å±æ€§ã€‚</p>
<ul>
<li>ondragenterï¼šè¢«æ‹–åŠ¨å…ƒç´ è¿›å…¥å®¹å™¨å…ƒç´ ã€‚</li>
<li>ondragleaveï¼šè¢«æ‹–åŠ¨å…ƒç´ ç¦»å¼€å®¹å™¨å…ƒç´ ã€‚</li>
<li>ondragoverï¼šè¢«æ‹–åŠ¨å…ƒç´ åœ¨å®¹å™¨å…ƒç´ ä¸Šæ–¹ï¼Œæ¯éš”å‡ ç™¾æ¯«ç§’è§¦å‘ä¸€æ¬¡ã€‚</li>
<li>ondropï¼šæ¾å¼€é¼ æ ‡åï¼Œè¢«æ‹–åŠ¨å…ƒç´ æ”¾å…¥å®¹å™¨å…ƒç´ ã€‚</li>
</ul>
<p><code>&lt;dialog&gt;</code>å¯¹è¯æ¡†å…ƒç´ çš„äº‹ä»¶å±æ€§ã€‚</p>
<ul>
<li>oncancel</li>
<li>onclose</li>
</ul>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">PanXiaoKang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://example.com/2021/10/04/JavaScript%E6%95%99%E7%A8%8B%E4%B9%8B%E4%BA%8B%E4%BB%B6/">http://example.com/2021/10/04/JavaScript%E6%95%99%E7%A8%8B%E4%B9%8B%E4%BA%8B%E4%BB%B6/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://example.com" target="_blank">å‘é˜³æ¦†æœ¨</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript</a><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86/">å‰ç«¯çŸ¥è¯†</a><a class="post-meta__tags" href="/tags/%E4%BA%8B%E4%BB%B6/">äº‹ä»¶</a></div><div class="post_share"><div class="social-share" data-image="https://mpimg.cn/view.php/58dfeb8921e8fb4a93de3dae7d99a816.jpg" data-sites="qq,wechat,facebook,twitter,weibo"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> æ‰“èµ<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://s1.ax1x.com/2020/06/09/t40mLD.th.png" alt="å¾®ä¿¡"/><div class="post-qr-code__desc">å¾®ä¿¡</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://s1.ax1x.com/2020/06/09/t4czVK.th.jpg" alt="æ”¯ä»˜å®"/><div class="post-qr-code__desc">æ”¯ä»˜å®</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2021/10/17/JavaScript%E6%95%99%E7%A8%8B%E4%B9%8B%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A8%A1%E5%9E%8B/"><img class="prev_cover lazyload" data-src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1273994899,2704080463&amp;fm=26&amp;gp=0.jpg" onerror="onerror=null;src='/img/404.png'"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">â‘¦JavaScriptæ•™ç¨‹ä¹‹æµè§ˆå™¨æ¨¡å‹</div></div></a></div><div class="next-post pull_right"><a href="/2021/09/21/JavaScript%E6%95%99%E7%A8%8B%E4%B9%8BDOM/"><img class="next_cover lazyload" data-src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1273994899,2704080463&amp;fm=26&amp;gp=0.jpg" onerror="onerror=null;src='/img/404.png'"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">â‘¤JavaScriptæ•™ç¨‹ä¹‹DOM</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2021/11/07/JavaScriptæ•™ç¨‹ä¹‹ç½‘é¡µå…ƒç´ æ¥å£/" title=" â‘§JavaScriptæ•™ç¨‹ä¹‹ç½‘é¡µå…ƒç´ æ¥å£"><img class="relatedPosts_cover lazyload"data-src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1273994899,2704080463&fm=26&gp=0.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-11-07</div><div class="relatedPosts_title"> â‘§JavaScriptæ•™ç¨‹ä¹‹ç½‘é¡µå…ƒç´ æ¥å£</div></div></a></div><div class="relatedPosts_item"><a href="/2021/10/17/JavaScriptæ•™ç¨‹ä¹‹æµè§ˆå™¨æ¨¡å‹/" title="â‘¦JavaScriptæ•™ç¨‹ä¹‹æµè§ˆå™¨æ¨¡å‹"><img class="relatedPosts_cover lazyload"data-src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1273994899,2704080463&fm=26&gp=0.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-10-17</div><div class="relatedPosts_title">â‘¦JavaScriptæ•™ç¨‹ä¹‹æµè§ˆå™¨æ¨¡å‹</div></div></a></div><div class="relatedPosts_item"><a href="/2021/09/21/JavaScriptæ•™ç¨‹ä¹‹DOM/" title="â‘¤JavaScriptæ•™ç¨‹ä¹‹DOM"><img class="relatedPosts_cover lazyload"data-src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1273994899,2704080463&fm=26&gp=0.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-09-21</div><div class="relatedPosts_title">â‘¤JavaScriptæ•™ç¨‹ä¹‹DOM</div></div></a></div><div class="relatedPosts_item"><a href="/2021/09/17/JavaScriptæ•™ç¨‹ä¹‹é¢å‘å¯¹è±¡ç¼–ç¨‹/" title="â‘£JavaScriptæ•™ç¨‹ä¹‹é¢å‘å¯¹è±¡ç¼–ç¨‹"><img class="relatedPosts_cover lazyload"data-src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1273994899,2704080463&fm=26&gp=0.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-09-17</div><div class="relatedPosts_title">â‘£JavaScriptæ•™ç¨‹ä¹‹é¢å‘å¯¹è±¡ç¼–ç¨‹</div></div></a></div><div class="relatedPosts_item"><a href="/2021/08/29/JavaScriptæ•™ç¨‹ä¹‹æ ‡å‡†åº“/" title="â‘¢JavaScriptæ•™ç¨‹ä¹‹æ ‡å‡†åº“"><img class="relatedPosts_cover lazyload"data-src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1273994899,2704080463&fm=26&gp=0.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-08-29</div><div class="relatedPosts_title">â‘¢JavaScriptæ•™ç¨‹ä¹‹æ ‡å‡†åº“</div></div></a></div><div class="relatedPosts_item"><a href="/2021/05/04/JavaScriptä»è¿›é˜¶åˆ°ç†Ÿæ‚‰/" title="â‘¡JavaScriptä»è¿›é˜¶åˆ°ç†Ÿæ‚‰"><img class="relatedPosts_cover lazyload"data-src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1273994899,2704080463&fm=26&gp=0.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2021-05-04</div><div class="relatedPosts_title">â‘¡JavaScriptä»è¿›é˜¶åˆ°ç†Ÿæ‚‰</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  notify: true,
  verify: true,
  appId: 'z2GwNsG7RRpWpx5rt7psedl5-MdYXbMMI',
  appKey: 'gI6Yhfwz4JiUIv9546gepko8',
  placeholder: 'æ¥å§ï¼Œé€ ä½œå§ï¼Œå¿«æ´»å§ï¼Œè‚†æ— å¿Œæƒ®å§ï¼(ï½ï¿£â–½ï¿£)ï½',
  avatar: 'monsterid',
  meta: guest_info,
  pageSize: '10',
  lang: 'zh-cn',
  recordIP: false,
  serverURLs: ''
});</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2026 By PanXiaoKang</div><div class="framework-info"><span>é©±åŠ¨ </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">å°ä¼™ä¼´ä»¬å¥½ï¼æ¬¢è¿æ¥åˆ°<a href="https://panyongkang.github.io/" target="_blank" rel="noopener">å‘é˜³æ¦†æœ¨</a>çš„åšå®¢ï¼</div><div class="icp"><a href="http://www.beian.miit.gov.cn" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"/><span>é»”ICPå¤‡54587259å·</span></a></div><div id="running-time"></div><script>setInterval(()=>{let create_time=Math.round(new Date(Date.UTC(2020,01,01,0,0,0)).getTime()/1000);let timestamp=Math.round((new Date().getTime()+8*60*60*1000)/1000);let second=timestamp-create_time;let time=new Array(0,0,0,0,0);if(second>=365*24*3600){time[0]=parseInt(second/(365*24*3600));second%=365*24*3600;}if(second>=24*3600){time[1]=parseInt(second/(24*3600));second%=24*3600;}if(second>=3600){time[2]=parseInt(second/3600);second%=3600;}if(second>=60){time[3]=parseInt(second/60);second%=60;}if(second>0){time[4]=second;}currentTimeHtml='æœ¬ç«™å·²å®‰å…¨è¿è¡Œ '+time[0]+' å¹´ '+time[1]+' å¤© '+time[2]+' æ—¶ '+time[3]+' åˆ† '+time[4]+' ç§’';document.getElementById("running-time").innerHTML=currentTimeHtml;},1000);</script></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="/js/third-party/ClickShowText.js"></script><script src="/js/search/local-search.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/platelet.model.json"},"display":{"position":"right","width":200,"height":500},"mobile":{"show":true},"log":false});</script></body></html>